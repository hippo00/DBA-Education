[{"name":"Learning Plan","description":"qingzou@cn.ibm.com;shangjin@cn.ibm.com","owner":"@Qing Zou,@Jin Shang","path":"/BusinessProcessManager/GeneralBPM/Learningroadmap","text":"Date: 2019-08-02\n\nIBM Business Automation Workflow Product Overview\n\nIBM Business Automation Workflow is software that combines IBM Business Process Manager (BPM) and IBM Case Manager capabilities in a single integrated workflow solution. It unites information process, and users to provide a 360-degree view of work to help drive more successful business outcomes.\n\nWorkflow applications coordinate work between tasks performed by humans and automated tasks to improve daily business operations. Workflow applications have four main components:\n\nAn authoring environment to create and configure the application.\nFrameworks or models for sequencing and delegating work. With Business Automation Workflow, the models can be either structured processes or unstructured cases. You can choose your model based on the pattern of your workflow and not be limited to a case or a process.\nA user experience for interacting with the application. To provide consistent user experiences, standardized workflows can be reused across the organization.\nAdministrative tools for optimizing how the application runs, deploying new versions and managing security.\n\n See how Business Automation Workflow improves the productivity of a new account opening workflow:\n\nIBM BPM Architecture\n\n IBM BPM Key Components\n\nAuthoring tools\n\nIBM Process Designer is the primary authoring tool for business processes; use it to efficiently model and test business processes in all editions of the product. An Business Automation Workflow Advanced deployment environment also includes IBM Integration Designer for building services that are self-contained, or that start other existing services (for example, web services, enterprise resource applications, or applications running in CICS and IMS).\n\nThe Workflow Center repository\n\nThe Workflow Center (aka Process Center) includes a repository for all processes, services, and other assets created in the Process Designer and Integration Designer.\n\nWorkflow Server and runtime environments\n\nWorkflow Server (aka Process Server) provides a single runtime environment that can support a range of business processes, service orchestration, and integration capabilities.\n\nBusiness process administration tools\n\nYou can use a set of administration tools to accomplish tasks ranging from installing and managing snapshots to administering processes and working with the resources in your IT environment, including of Workflow Center Console (aka Process Center Console), Process Admin Console, Business Performance Admin Console, WAS administrative console, etc.\n\nProcess Portal\n\nProcess Portal is the user interface that is provided with all editions of Business Automation Workflow for participating in processes. It can be configured for a single Business Automation Workflow system or federated environments that include IBM Process Federation Server. From Process Portal, users can launch processes, dashboards, and startable services, and work on their tasks.\n\nHands-on Sample Workflow\nIBM Workflow Center includes a complete Hiring Sample process application that you can view and run in IBM Process Designer.\n\nThe instructions for recreating the sample for yourself are in the Hiring tutorial for Process Designer. See Hiring tutorial.\n\nInstructions for running the Hiring Sample process application:\nHiring Sample Overview: The Hiring Sample is included with Workflow Center. The sample introduces the features of Process Designer by showing you how to run a sample process.\nManaging access to the Hiring Sample process application (for administrators): Administrators must provide access to the Hiring Sample process application so that users can view and run the process.\nVerifying access to the Hiring Sample process application: If the Hiring Sample process application is not already available in the IBM Workflow Center Console, you must import it.\nOpening the Hiring Sample process application: To begin running the process in IBM Process Desinger.\nChanging the Hiring Sample: Using the Hiring Sample process application to learn the product. Do not use it as a starting point for your own application because changing this process application might cause errors later.\nPlaying back the Standard HR Open New Position process: Run the Standard HR Open New Position process in the Inspector view in IBM Process Designer to see the process run step by step.\n\n Recommended Badges\n\n<table border=\"1px solid #ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    <th width=\"15%\" style=\"text-align:center;\";\n    Business Process Manager\n    Business Automation Workflow\n  \n  \n    Basic\n    <a href=\"https://www-03.ibm.com/services/learning/ites.wss/zz-en?pageType=badges&id=5bf38a9f-066b-4a46-bca0-67a26e5f7344\" target=\"_blank\"IBM Business Process Manager Introduction \n    \n  \n  \n    Intermediate\n    <a href=\"https://www.ibm.com/services/learning/ites.wss/zz-en?pageType=badges&id=f72abfbd-791f-4d40-89f1-db3bf6c6c490\" target=\"_blank\"IBM Business Process Manager Advanced V8.6 Developer \n    <a href=\"https://www.ibm.com/services/learning/ites.wss/zz-en?pageType=badges&id=e88a39cb-cb86-4deb-8692-0b2ba5c1eea0\" target=\"_blank\"IBM Certified Business Analyst - Blueworks Live and Business Automation Workflow v18 \n  \n  \n    <a href=\"https://www-03.ibm.com/services/learning/ites.wss/zz-en?pageType=badges&id=fe01c26f-5104-4d0b-89eb-7ee4f1bdeb7d\" target=\"_blank\"IBM Certified Application Developer using Process Designer - Business Process Manager V8.6 \n    <a href=\"https://www.ibm.com/services/learning/ites.wss/zz-en?pageType=badges&id=03891df7-04e1-40b9-ba24-813cd8b2909e\" target=\"_blank\"IBM Business Automation Workflow V18 Developer\n  \n\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Deep Dive","description":"qingzou@cn.ibm.com","owner":"@Qing Zou","path":"/BusinessProcessManager/GeneralBPM/DeepDive","text":"<table border=\"1px solid #ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    <th width=\"27%\" style=\"text-align:center;\";Topic\n    Education Material\n  \n  \n    Install/DE Configuration\n    (Content Needed) \n  \n  \n    Upgrade/Migration \n    <a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg21610883\" target=\"_blank\"[Publication] Supported Migration \n  \n  \n    [Presentation] BPM Upgrade 101 \n  \n  \n    [Presentation] BPM Migration \n  \n  \n    [Recording] BPM Migration 1 \n  \n  \n    [Recording] BPM Migration 2 \n  \n\n  \n    Disaster Recovery\n    [Publication] Disaster recovery guidance  \n  \n  \n    Configuration\n    [Presentation] BPM Configuration  \n  \n\n  \n    [Recording] BPM Configuration  \n  \n  \n    EAR Deployment\n    [Recording] Advanced Deployment Demo  \n  \n  \n    Snapshot Management\n    [Presentation] Online Deployment   \n  \n  \n    [Presentation] STD deployment  \n  \n\n    [Recording] STD deployment troubleshooting  \n  \n  \n    Instance Migration\n    [Presentation] Migration Instances  \n  \n  \n    [Publication] Migrating inn-flight Instances  \n  \n  \n    IBM Integration DesignerProcess DesignerInspectorRepository \n    [Presentation] Life Cycle full guide  \n  \n  \n    [Recording]Processes, Snapshots, and Tracks  \n  \n  \n    [Presentation]Processes, Snapshots, and Tracks  \n  \n  \n    [Presentation] PC index  \n  \n  \n    [Recording] PC index   \n  \n  \n    Server Connection \n    [Recording] PC connectivity   \n  \n  \n    Cache Tuning \n    [Publication] Tuning branch and snapshot  \n  \n  \n    [Publication] Recommend Heap Size  \n  \n  \n    High CPU \n    [Presentation] Performance Overall troubleshooting guide   \n  \n  \n    [Presentation] Performance checklist   \n  \n  \n    [Recording] Performance checklist  \n  \n  \n    [Publication] Performance issue tools   \n  \n  \n    Out of Memory/High Memory \n    [Presentation] OOM Problem Determination   \n  \n  \n    [Presentation] OOM Review   \n  \n  \n    [Recording] OOM Review  \n  \n  \n    [Presentation] Class loader OOM  \n  \n  \n    Database \n    [Recording] BPM Database Troubleshooting  \n  \n  \n    [Recording] Troubleshooting ORA-02049 errors in BPM   \n  \n  \n    [Presentation] Tips & Tricks  \n  \n  \n    [Recording] Tips & Tricks  \n  \n  \n    Housekeeping \n    [Publication] Purging data in IBM Business Process Manager   \n  \n  \n    [Publication] DB Cleanup   \n  \n  \n    Process Portal \n    [Presentation] Overview Process Portal Search Index  \n  \n  \n    [Presentation] Process Portal Search Index - Process Instance Creation Trace   \n  \n  \n     [Presentation] Process Portal Search Index - Task Update & Completed Trace  \n  \n  \n    [Recording] Search Indexing Process    \n  \n  \n    [Presentation] Process Portal Performance Tuning    \n  \n  \n    [Recording] Process Portal Performance Tuning    \n  \n  \n    [Presentation] Process Portal UI & Coaches: Database Tables   \n  \n  \n    [Recording] Process Portal UI & Coaches: Database Tables   \n  \n  \n    Coaches\n    [Presentation] Coach Best Practices   \n  \n  \n    [Recording] Coach Best Practices    \n  \n  \n    Human Services\n    (Content Needed) \n  \n  \n    Toolkit Controls \n    [Presentation] SPARK UI Toolkits   \n  \n  \n    Business Space \n    (Content Needed) \n  \n  \n    Process Federated Server \n    [Presentation] PFS Technical Overview  \n  \n  \n    [Recording] PFS Configuration  \n  \n  \n    [Presentation] PFS BPD and BPEL Indexing  \n  \n  \n    [Presentation] PFS REST Service   \n  \n  \n    Business Automation Insights\n    [Presentation] BAI - Architecture   \n  \n  \n    [Presentation] BAI - Install and Prereqs  \n  \n  \n    [Recording] BAI - Install and Prereqs   \n  \n  \n    [Presentation] BAI - Flink   \n  \n  \n    [Recording] BAI - Flink   \n  \n  \n    [Presentation] BAI – Elasticsearch and Kibana   \n  \n  \n    [Recording] BAI – Elasticsearch and Kibana  \n  \n  \n    [Presentation] BAI - BPMN Event Processing   \n  \n  \n    [Presentation] BAI - Business Data Protection - Anonymization   \n  \n  \n    [Recording] BAI - BPMN & anonymization   \n  \n  \n    [Presentation] BAI - Troubleshooting  \n  \n  \n    [Recording] BAI - Troubleshooting   \n  \n  \n    Business Monitor\n    [Lab] Introduction to Monitor Model Management and Dashboards  \n  \n  \n    [Lab] Monitor Event Processing 1   \n  \n  \n    [Lab Recording] Monitor Event Processing 1   \n  \n  \n    [Lab Asset] Event Processing 1    \n  \n  \n     [Lab] Monitor Event Processing 2 - Failed Events   \n  \n  \n     [Lab Recording] Monitor Event Processing 2 - Failed Events   \n  \n  \n     [Presentation] Cognos Monitor Overview  \n  \n  \n    [Recording] Cognos Monitor Overview   \n  \n  \n    [Presentation] Cognos BI Architecture Overview  \n  \n  \n    Performance Data Warehouse \n    [Publication] Performance Data Warehouse database (PDWDB) growing fast. How can we reduce the size?   \n  \n  \n    [Publication] How to resolve com.ibm.ws.sib.processor.exceptions.SIMPLimitExceededException for PostLoadCalculationQueue?  \n  \n  \n    [Publication] How to resolve huge amount of PDW tracking data transfer errors on DB table LSWDATATRANSFER_ERRORS ?  \n  \n  \n    <a href=\"http://www-01.ibm.com/support/docview.wss?uid=swg21612755\" target=\"blank\"[Publication] How to clean up the Performance Data Warehouse database and the LSWPERFDATATRANSFER table for IBM Business Process Manager (BPM)  \n  \n  \n    [Publication] How to identify processes (BPDs) and toolkits where autotracking is enabled?   \n  \n  \n    Security Scans\n    (Content Needed) \n  \n  \n    SSL \n    [Presentation] BPM Security Hardening   \n  \n  \n    SSO \n    [Publication] Administering SPNEGO within WebSphere Application Server  \n  \n  \n    User and Group Security \n    <a href=\"https://www.ibm.com/developerworks/community/blogs/aimsupport/entry/howtotroubleshoota_bpmuserauthorizationproblempart1?lang=en\" target=\"blank\"[Publication] How to troubleshoot a BPM user authorization problem - Part I   \n  \n  \n    <a href=\"https://www.ibm.com/developerworks/community/blogs/aimsupport/entry/howtotroubleshoota_bpmuserauthorizationproblempart2?lang=en\" target=\"blank\"[Publication] How to troubleshoot a BPM user authorization problem - Part II  \n  \n  \n    [Presentation] BPM Security Best Practices and Solutions  \n  \n  \n    [Presentation] Active Directory Tuning Trick   \n  \n  \n    [Recording] Active Directory Tuning Trick   \n  \n  \n    Advanced Integration Service\n    [Publication] Configuring error handling for Advanced Integration Services   \n  \n  \n    Business Process Choreographer \n    [Publication] Authorization and staff resolution in Business Process Choreographer: Part 1: Understanding the concepts and components of staff resolution   \n  \n  \n    [Publication] Authorization and staff resolution in Business Process Choreographer: Part 2: Understanding the programming model for staff resolution   \n  \n  \n    [Publication] Authorization and staff resolution in Business Process Choreographer: Part 3: Customization options for staff resolution  \n  \n  \n    [Publication] Authorization and staff resolution in Business Process Choreographer: Part 4: Staff resolution specifications and reference guide  \n  \n  \n    Business Object \n    (Content Needed) \n  \n  \n    Bindings \n    (Content Needed) \n  \n  \n    Service Component Architecture \n    (Content Needed) \n  \n  \n    Service Integration Bus  \n    [Presentation] SIB Best Practices  \n  \n  \n    Failed Events \n    [Recording] Understanding Failed Event Manager Part 1   \n  \n  \n    [Recording] Understanding Failed Event Manager Part 2   \n  \n  \n     Adapters  \n    (Content Needed) \n  \n  \n    Mediation \n    (Content Needed) \n  \n  \n    BPD & Service Engine \n    [Presentation] Understand BPD & Activity Due Dates   \n  \n  \n    [Recording] Understand BPD & Activity Due Dates   \n  \n  \n    [Presentation] Demystifying the AbstractBPDTask traces   \n  \n  \n    [Recording] Demystifying the AbstractBPDTask traces   \n  \n  \n    Event Manager \n    <a href=\"https://www.ibm.com/developerworks/community/blogs/aimsupport/entry/ibmbpmeventmanagercommonproblems?lang=en\" target=\"blank\"[Publication] IBM Business Process Manager Event Manager - Common symptoms and how to resolve them   \n  \n  \n    <a href=\"https://www-01.ibm.com/support/docview.wss?uid=swg21439613 \" target=\"_blank\"[Publication] Understanding and Tuning the Event Manager   \n  \n  \n    [Presentation] BPM Event manager Stuck Token Problem Determination   \n  \n  \n    JavaScript & REST API \n    [Recording] Managing Orphan Tokens using REST API   \n  \n  \n    [Recording] BPM REST APIs and External Services  \n  \n  \n    Web Services \n    (Content Needed)  \n  \n  \n    Undercover Agent (UCA) \n    [Recording] UCA and Message Event Problem Determination   \n  \n  \n    [Recording] Case review for UCA problem (part 1)   \n  \n  \n    [Recording] Case review for UCA problem (part 2)   \n  \n  \n    Process Admin Console \n    (Content Needed) \n  \n  \n    Document Store & ECM Integration \n    [Recording] Case Sharing - Content Management Document List   \n  \n  \n    [Recording] Case Sharing - ECM Event Process   \n  \n  \n\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Skills Transfer (Dev/L3-L2, SWAT-L2)","description":"shangjin@cn.ibm.com","owner":"@Jin Shang","path":"/BusinessProcessManager/GeneralBPM/SkillsTransfer","text":"Getting to know Digital Business Automation (DBA) Series\n<table border=\"1px solid #ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    <th width=\"29%\" style=\"text-align:center;\";Topic\n    Link\n    <th width=\"20%\"style=\"text-align:center\"Date\n  \n  \n    Getting to know Digital Business Automation (DBA) - End-to-end intro. and BAW （I）\n    https://ec.yourlearning.ibm.com/w3/playback/10039262\n    2019-07\n  \n  \n    Getting to know Digital Business Automation (DBA) - End-to-end intro. and BAW （II） \n    https://ec.yourlearning.ibm.com/w3/playback/10039158\n    2019-07\n  \n  \n    Getting to know Digital Business Automation (DBA) - ODM, BAI, and Datacap\n    https://ec.yourlearning.ibm.com/w3/playback/10039706\n    2019-07\n  \n\n    \nDigital Business Automation (DBA) Platform Series\n<table border=\"1px solid #ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    <th width=\"29%\" style=\"text-align:center;\";Topic\n    Link\n    <th width=\"20%\"style=\"text-align:center\"Date\n  \n  \n    DBA Studio Introduction\n    [Presentation]\n    2019-06\n  \n  \n    [Recording]\n    2019-06\n  \n  \n    DBA Studio Architecture Overview\n    [Presentation]\n    2019-06\n  \n  \n    User Management Service Introduction\n    [Presentation]\n    2019-06\n  \n  \n    [Recording]\n    2019-06\n  \n  \n    Base Images Introduction\n    [Presentation]\n    2019-06\n  \n  \n    [Recording]\n    2019-06\n  \n  \n    Low-Code Application Designer Introduction\n    [Presentation]\n    2019-06\n  \n  \n    [Recording]\n    2019-06\n  \n  \n    IBM Content Navigator Architecture Overview\n    [Presentation]\n    2019-06\n  \n\nBPM Troubleshooting Session\n<table border=\"1px solid #ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    <th width=\"29%\" style=\"text-align:center;\";Topic\n    Link\n    <th width=\"20%\"style=\"text-align:center\"Date\n  \n  \n    BPM Application OOM Troubleshooting Instructions\n    <a href=\"https://ibm.ent.box.com/notes/474462666608?s=a0n8v176cc7cc4hw6u3z8ylrubp02qzm\" target=\"_blank\"[Presentation]\n    2019-06\n  \n  \n    [Recording]\n    2019-06\n  \n","wordCount":0,"topics":[],"type":"Content"},{"name":"CFs Training","description":"shangjin@cn.ibm.com","owner":"@Jin Shang","path":"/BusinessProcessManager/GeneralBPM/CFsTraining","text":"IBM Business Automation Workflow 19.0.0.2 - Education & Deep Dive\n<table border=\"1px solid #ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    <th width=\"29%\" style=\"text-align:center;\";Topic\n    Link\n  \n  \n    Simplified Quickstart\n    https://ibm.ent.box.com/file/488703634686\n  \n  \n    Carbon Theme\n    https://ibm.ent.box.com/file/493129081343\n  \n  \n    REST Binding  REST APIs\n    https://ibm.ent.box.com/file/492872846437\n  \n\n  \n    Web Service Discovery Timeouts\n    https://ibm.ent.box.com/file/492872599515\n  \n  \n    BAW Case/Activity & Bpm Content Objects Synchronization - Role & Team Membership Synchronization\n    https://ibm.ent.box.com/file/491942637710\n  \n  \n    Script Task in Service Flows\n    https://ibm.ent.box.com/file/492333356552\n  \n  \n    Relationships between Case Role, BPM Team, and User Group\n    https://ibm.ent.box.com/file/488697947438\n  \n\nIBM Business Automation Workflow 19.0.0.1 - Education & Deep Dive\n<table border=\"1px solid #ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    <th width=\"29%\" style=\"text-align:center;\";Topic\n    Link\n  \n  \n    Session1 Recording\n    https://ibm.ent.box.com/file/382467477193\n  \n  \n    Session2 Recording\n    https://ibm.ent.box.com/file/384072591957\n  \n  \n    Session1 Intro\n    https://ibm.ent.box.com/file/492872846437\n  \n  \n    Session2 Intro\n    https://ibm.ent.box.com/file/383477927181\n  \n  \n    RPA update\n    https://ibm.ent.box.com/file/381469282920\n  \n  \n    New configuration script for CaseEventEmitter\n    https://ibm.ent.box.com/file/382405957522\n  \n  \n    New REST APIs for user/group synchronization\n    https://ibm.ent.box.com/file/369251317589\n  \n  \n    Performance update\n    https://ibm.ent.box.com/file/381394538335\n  \n  \n    Support for an external Elasticsearch 6.x cluster in PFS\n    https://ibm.ent.box.com/file/369181973368\n  \n  \n    BUE update\n    https://ibm.ent.box.com/file/359065615490\n  \n  \n    https://ibm.ent.box.com/file/359040489004\n  \n  \n    https://ibm.ent.box.com/file/359058622139\n  \n  \n    Runtime serviceability items\n    https://ibm.ent.box.com/file/369643828623\n  \n  \n    https://ibm.ent.box.com/file/369644410298\n  \n  \n    https://ibm.ent.box.com/file/369637305194\n  \n  \n    External CPE configuration\n    https://ibm.ent.box.com/file/376669161246\n  \n  \n    BAW on CAM 18.0.0.2\n    https://ibm.ent.box.com/file/378910402674\n  \n  \n    Straight Through Processing & Integration updates\n    https://ibm.ent.box.com/file/383441133751\n  \n  \n    Update REST Server APIs\n    https://ibm.ent.box.com/file/383434773208\n  \n  \n    Web Service enhancements\n    https://ibm.ent.box.com/file/383427893207\n  \n  \n    Improved Java External Services\n    https://ibm.ent.box.com/file/383434550458\n  \n  \n    Discovery of REST services from URL\n    https://ibm.ent.box.com/file/380966856485\n  \n  \n    New JavaScript APIs in Service Flows\n    https://ibm.ent.box.com/file/380956117694\n  \n  \n    Business Rules improvements and fixes\n    https://ibm.ent.box.com/file/380999677045\n  \n\nIBM Business Automation Workflow 18.0.0.1 - Education & Deep Dive\n<table border=\"1px solid #ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    <th width=\"29%\" style=\"text-align:center;\";Topic\n    Link\n  \n  \n    Session1 Recording\n    https://ibm.ent.box.com/file/323356144883\n  \n  \n    Session2 Recording\n    https://ibm.ent.box.com/file/325979932225\n  \n  \n    Session3 Recording\n    https://ibm.ent.box.com/file/335036583729\n  \n  \n    Session1 Intro\n    https://ibm.ent.box.com/file/323343225889\n  \n  \n    Session2 Intro\n    https://ibm.ent.box.com/file/325270019879\n  \n  \n    Session3 Intro\n    https://ibm.ent.box.com/file/334484986800\n  \n  \n    BAI Case - Introduction and Architecture\n    https://ibm.ent.box.com/file/322746982017\n  \n  \n    BAI Case - Enabling BAI for Case\n    https://ibm.ent.box.com/file/322744126614\n  \n  \n    https://ibm.ent.box.com/file/322696852165\n  \n  \n    https://ibm.ent.box.com/file/323270631809\n  \n  \n    https://ibm.ent.box.com/file/322670552757\n  \n  \n    BAI Process Flow - Enable Event Correlation\n    https://ibm.ent.box.com/file/323374318383\n  \n  \n    BAI Service Flow - Enable Event Correlation\n    https://ibm.ent.box.com/file/322646577972\n  \n  \n    IID v18.0.0.1 installation updates\n    https://ibm.ent.box.com/file/319538930596\n  \n  \n    IID v18.0.0.1 Updates\n    https://ibm.ent.box.com/file/322660868265\n  \n  \n    BAW 18.0.0.1 - Performance Summary\n    https://ibm.ent.box.com/file/317846338129\n  \n  \n    Context Root customization in BAW\n    https://ibm.ent.box.com/file/323955623926\n  \n  \n    BAW-CAM - Overview\n    https://ibm.ent.box.com/file/334858939361\n  \n  \n    BAW-CAM - Installation & Configuration\n    https://ibm.ent.box.com/file/334838782848\n  \n\nIBM Business Automation Workflow 18.0.0.0 - Education & Deep Dive\n<table border=\"1px solid #ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    <th width=\"29%\" style=\"text-align:center;\";Topic\n    Link\n  \n  \n    Session Recording Part 1\n    https://ibm.ent.box.com/file/287424563908\n  \n  \n    Session Recording Part 2\n    https://ibm.ent.box.com/file/287854435684\n  \n  \n    Decision tables in service flows\n    https://ibm.ent.box.com/file/287831245028\n  \n  \n    Launch Web Process  Designer  from IBM Case Manager Builder\n    https://ibm.ent.box.com/file/287817895616\n  \n  \n    Add Document from Case\n    https://ibm.ent.box.com/file/286017882618\n  \n  \n    Business Objects Support in Case Package\n    https://ibm.ent.box.com/file/286776004686\n  \n  \n    Create Advanced Integration Services in web PD \n    https://ibm.ent.box.com/file/285347186685\n  \n  \n    IBM Robotic Process Automation with Automation Anywhere\n    https://ibm.ent.box.com/file/287476146285\n  \n  \n    GDPR relevant REST_APIs\n    https://ibm.ent.box.com/file/287454979261\n  \n  \n    What's new in IBM Case Manager 5.3.3\n    https://ibm.ent.box.com/file/286599092965\n  \n  \n    IID v18.0.0.1 Updates\n    https://ibm.ent.box.com/file/322660868265\n  \n  \n    Validation Improvements (Client Side)\n    https://ibm.ent.box.com/file/287246325905\n  \n  \n    Toggle List view and Table view in Work Dashboard\n    https://ibm.ent.box.com/file/286640961788\n  \n  \n    DEF events  for service  flows\n    https://ibm.ent.box.com/file/286807211791\n  \n  \n    Viewing an IBM Business Process Manager process from Case Manager Builder\n    https://ibm.ent.box.com/file/286794851876\n  \n  \n    Launching a Process From a Document\n    https://ibm.ent.box.com/file/286657867314\n  \n  \n    Next Task Dashboard\n    https://ibm.ent.box.com/file/286586031453\n  \n  \n    Restrict Save Search Creation\n    https://ibm.ent.box.com/file/283677369906\n  \n  \n    Monitoring improvement with JMX\n    https://ibm.ent.box.com/file/282585680936\n  \n\nIBM Business Process Manager 8.6 CF2017.12 - Education & Deep Dive\n<table border=\"1px solid #ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    <th width=\"29%\" style=\"text-align:center;\";Topic\n    Link\n  \n  \n    Session Recording Part 1\n    https://ibm.ent.box.com/file/265915307579\n  \n  \n    Session Recording Part 2\n    https://ibm.ent.box.com/file/267259081973\n  \n  \n    Validation Improvements\n    https://ibm.ent.box.com/file/263868834694\n  \n  \n    Restrict the rights to create or edit personal saved searches in Process Portal\n    https://ibm.ent.box.com/file/267218666061\n  \n  \n    Low Code\n    https://ibm.ent.box.com/file/266895535872\n  \n  \n    Serviceability\n    https://ibm.ent.box.com/file/266287199362\n  \n  \n    Robotic Process Automation with Coaches\n    https://ibm.ent.box.com/file/264675449771\n  \n  \n    BAL Rule Support in Service Flows\n    https://ibm.ent.box.com/file/263765080890\n  \n  \n    Indexers monitoring and administration with JMX\n    https://ibm.ent.box.com/file/258859800684\n  \n  \n    IBM RPA\n    https://ibm.ent.box.com/file/264970417241\n  \n  \n    PFS Index Diagnostic Tool\n    https://ibm.ent.box.com/file/264512319608\n  \n  \n    DEF events for service flows\n    https://ibm.ent.box.com/file/263667051178\n  \n  \n    BPM Swinging Profiles\n    https://ibm.ent.box.com/file/262145635547\n  \n  \n    BPM Work List in IBM Content Navigator\n    https://ibm.ent.box.com/file/257980318823\n  \n\n  IBM Business Process Manager 8.6 GA - Education & Deep Dive\n<table border=\"1px solid #ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    <th width=\"29%\" style=\"text-align:center;\";Topic\n    Link\n  \n  \n    Session Recording Part 1\n    https://ibm.ent.box.com/file/236564039188\n  \n  \n    Session Recording Part 2\n    https://ibm.ent.box.com/file/237211193432\n  \n  \n    Digital Process Automation with BPM and Blockchain\n    https://ibm.ent.box.com/file/236512313987\n  \n  \n    Performance Dashboard\n    https://ibm.ent.box.com/file/234901465572\n  \n  \n    Performance and Scalability Summary\n    https://ibm.ent.box.com/file/236217958617\n  \n  \n    IBM RPA\n    https://ibm.ent.box.com/file/236174016926\n  \n  \n    Content Coach Views\n    https://ibm.ent.box.com/file/235678532953\n  \n  \n    Global Where Used In WebPD\n    https://ibm.ent.box.com/file/235624961754\n  \n  \n    UI Conversion\n    https://ibm.ent.box.com/file/235587994074\n  \n  \n    WebPD-Eclipse Modeling Gaps Addressed\n    https://ibm.ent.box.com/file/229928177840\n  \n  \n    Continous Delivery squad\n    https://ibm.ent.box.com/file/227018758988\n  \n  \n    InstanceMigrationAPI\n    https://ibm.ent.box.com/file/226363099135\n  \n  \n    Portal\n    https://ibm.ent.box.com/file/226104022344\n  \n  \n    Advanced Integration Service (AIS) support in Web PD\n    https://ibm.ent.box.com/file/223894999904\n  \n  \n    BPD and BPEL index logging improvements\n    https://ibm.ent.box.com/file/219913919576\n  \n\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Test Environments","description":"enricom@cn.ibm.com","owner":"@Enrico Monteleone","path":"/BusinessProcessManager/GeneralBPM/TestEnvironments","text":"\nSummary\nThis section provides links and information about building and maintaining software testing environments for training and for case handling. For case handling, always use an IBM-approved environment and properly secure and maintain your environment to ensure security compliance.\n\nPlease send feedback to <a href=\"mailto:enricom@cn.ibm.com?subject=IBadges%20-%20Test%20Environments\"enricom@cn.ibm.com.\n\n Contents\n<a href=\"#day1\"Test Environments for New IBMers on Day 1\n<a href=\"#virtualization\"Virtualization Basics\n<a href=\"#workstation\"Workstation Software\n<a href=\"#cases\"Test Environments for Cases - Use Castle\n<a href=\"#training\"Test Environments for Training (everything else)\n\n---\n\nTest Environments for New IBMers on Day 1\n\nWelcome to IBM! As a new IBMer, it may take time to setup your user accounts, so here are some quick ways to get started now. Find your product below, check the overview, and explore the test environment. Work with your team lead or onboarding buddy to assist with setup and access.\n\n&nbsp;\n\n Business Process Manager (BPM) and Business Automation Workflow (BAW)\n\nBPM Overview: https://www.ibm.com/support/knowledgecenter/SSFTBX8.5.7/com.ibm.wbpm.main.doc/topics/ibmbmpoverview.html\n\nBAW Overview: https://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.workflow.main.doc/topics/overview.html\n\nTest Environment: (Need local BAW virtual machine due to w3 ID requirements)\n\n&nbsp;\n\nOperation Decision Manager (ODM)\n\nODM Overview: https://www.ibm.com/products/operational-decision-manager\n\nODM Test Environment (Need local BAW virtual machine due to w3 ID requirements)\n\n&nbsp;\n\n Blueworks Live (BWL)\n\nBWL Overview: https://www.ibm.com/products/blueworkslive\n\nBlueworks Live: :https://www.blueworkslive.com/sLogin.html\n\n&nbsp;\n\nRobotic Process Automation (RPA)\n\nRPA Overview: https://www.ibm.com/automation/software/rpa\n\nRPA Test Environment (Need local BAW virtual machine due to w3 ID requirements)\n\n&nbsp;\n\nThis is the end of the Day 1 section. To continue to the next sections, you may need to wait for your IBM w3 ID or wait for additional security access requests.\n\n---\n\n Virtualization Basics\n\nVMware Virtualization 101: https://yourlearning.ibm.com/#activity/URL-6LDY9BATAQC\n\nDocker and Containers: https://yourlearning.ibm.com/#activity/URL-TE77BE4006052:BE387B81-043C-4B0D-8CAE-25E5F47E8F88\n\nRed Hat OpenShift 101: https://yourlearning.ibm.com/#activity/URL-1FC0F699E132\n\n&nbsp;\n\nFor additional learning, search Your Learning: https://yourlearning.ibm.com/\n\n---\n\nWorkstation Software\n\nTo access different remote servers and test environments, setup the necessary software on your laptop or workstation.\n\n&nbsp;\n\n Apple MacOS\n\nMac@IBM: In MacOS, open the Mac@IBM App Store.\n\nMicrosoft Remote Desktop: Install from Apple App Store (Install official Microsoft app)\n\nSSH: In MacOS, open Terminal to use SSH to connect to remote hosts.\n\nVNC: Currently, there are no IBM officially supported VNC options.\n\n&nbsp;\n\nMicrosoft Windows\n\nPC@IBM: http://w3-01.ibm.com/download/standardsoftware/PC/lang_en/issiCatalogPC.html\n\nPuTTY: In PC@IBM, search for \"PuTTY\"\n\nMicrosoft Remote Desktop (RDP): In Microsoft Windows, Start  type \"mstsc\" [Enter]\n\nVNC: Currently, there are no IBM officially supported VNC options.\n\n&nbsp;\n\n Redhat Linux\n\nLinux@IBM: https://w3-connections.ibm.com/communities/service/html/communitystart?communityUuid=801cf8e1-364a-48ec-ac2d-aa091376fff6\n\nSoftware: You can use the Linux graphical user interface to install software or use the yum package manager in the terminal. The IBM Linux OpenClient has most of the software you will need pre-installed.\n\nSSH: Use the terminal.\n\nVNC: Currently, there are no IBM officially supported VNC options.\n\n---\n\nTest Environments for Cases\n\nDo not copy case information outside of the official case handling IBM systems, Salesforce for Support (Cognitive Support Platform) and Castle. These are special systems designed to comply with all security requirments.\n\nCastle secure enviroment for support cases: https://castle1.fyre.ibm.com/\n\nSee the Castle website for onboarding and use details.\n\n---\n\n Test Environments for Training - No Client Data Here!\n\nYou can use the following resources to create test environments for learning or for case testing, but do not copy or import any client data into these enviornments. For handling cases with client information, use Salesforce and Castle systems.\n\nBAI on OpenShift (2019-09)\n\nhttps://github.ibm.com/klaus-ulrich/openshift\n\n&nbsp;\n\n Install a private Docker Registry with a Web admin interface (2019-09)\n\nhttps://github.ibm.com/klaus-ulrich/registry\n\n&nbsp;\n\nLocal workstation with Docker (2019-09)\n\nhttps://github.ibm.com/klaus-ulrich/bpm\n\n&nbsp;\n\n Fyre (2019-09)\n\nFyre.ibm.com (currently at capacity, but you can submit your request for onboarding.)  \nhttps://fyre.ibm.com/\n\nFyre Help  \nFyre can be used by a developer to deploy individual VMs (we call them \"Embers\") or sets of VMs (which we call \"Stacks\"). Fyre can also deploy clusters of baremetal systems on various types of hardware.  \nhttps://fyre.ibm.com/help  \n\nSlack: #fyre-announcements\n\n&nbsp;\n\nRing Cloud + Minishift (2019-09)\n\nIf you want a small Openshift test environment, then you can try Minishift. Although not efficient, it is possible to install Minishift on top of a virtual machine in the Ring Cloud, so you do not need to install any extra software on your laptop.\n\nMinishift Home\n\nGenral Instructions:\n\nCreate a Ring Cloud virtual machine.\n\nSubmit a <a href=\"https://oneticket.rtp.raleigh.ibm.com/OneTicket/frontend/mainpage/index.html!/login\" target=\"_blank\"OneTicket request to enable VT/VX on the virtual machine. Requires virtual machine to be shutdown.\n\n<a href=\"https://docs.okd.io/latest/minishift/getting-started/setting-up-virtualization-environment.html#setting-up-virtualbox-driver\" target=\"_blank\"Install Virtual Box.\n\nInstall Minishift.\n\n&nbsp;\n\nRing Cloud (2019-09)\n\nFor team members located in Beijing, you can use the Ring Cloud.\n\nStep 1) Ensure you have your IBM w3 ID.\n\nStep 2) Login to https://itaas.cn.ibm.com/\n\nStep 3) Contact your team lead or manager to request team resources in the Ring Cloud. Estimate a minimum of 4 CPU, 16GB RAM, 100GB disk per test server.\n\nStep 4) Create a virtual machine, Linux or Microsoft Windows.\n\nStep 5) Download your desired IBM product installation software.\n\nStep 5a) Primary (Linux example)  mount -t nfs 9.111.141.56:/dba-share1 /mnt/dba-share1\n\nStep 5a) Primary (Windows example) C:\\ net use s: \\\\9.111.141.56\\dba-share1 /user:dba-share\nTo get Windows credentials for \\\\9.111.141.56\\dba-share1, run C:\\ net view 9.111.141.56\n\nStep 5b) Alternate: https://w3-03.ibm.com/software/xl/download/ticket.wss, Example search, \"IBM Business Process Manager 8.6 Windows\" or search for the Assembly number.\n\n&nbsp;\n\n Blue Demos (2019-09)\n\nhttps://ibm.ent.box.com/v/DBADaL19-0GettingStarted\n\nhttps://bluedemos.com/search\n\n&nbsp;\n\nIBM Cloud (CIO internal) (2019-09)\nhttps://console.w3ibm.bluemix.net/\n\n&nbsp;\n\n IBM Cloud (Public) (2019-09)\nhttps://console.ng.bluemix.net/\n\n---\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Knowledge Buckets","description":"","path":"/BusinessProcessManager/GeneralBPM/Knowledgebuckets","text":"\nDocker and Source Code Search Utility Training\nDate: 2019-07-31\n\n Links:\nRecording: <a href=\" https://github.ibm.com/klaus-ulrich/bpm/wiki#presentation-on-2019-07-31---search-engine-demo-session\" target=\"_blank\" https://github.ibm.com/klaus-ulrich/bpm/wiki#presentation-on-2019-07-31---search-engine-demo-session\nGitHub: https://github.ibm.com/klaus-ulrich/bpm\nDBA Source Code Search Utility: https://search-engine.w3ibm.mybluemix.net/\nCloud Pak for Automation Support Education: https://yourlearning.ibm.com/#activity/CPB-1565210900553","wordCount":0,"topics":[],"type":"Content"},{"name":"Installation","description":"FHERDADE@de.ibm.com","owner":"@Fabiola Herdade","path":"/BusinessProcessManager/Install,Upgrade,Configuration/Installation","text":"BPM/BAW Installation Fundamentals Education \n\nBPM/BAW (Business Process Manager/Business Automation Workflow) Fundamentals Education is an overview of BPM/BAW products. This module teaches the basics of installing and troubleshooting BPM/BAW. This module serves as the basis for in-depth education modules on BPM/BAW Installation. \n\n 1. IBM Installation Manager (IIM):\n\nIBM Installation Manager is a tool that you can use to install and maintain your IBM software packages. Wizards guide you through the steps that you must take to install, modify, update, roll back, or uninstall your IBM products. \nIBM Installation Manager is used to install WAS/BPM binary files. \n\na. How to reinstall Installation Manager without removing installed IBM product \nhttp://www-01.ibm.com/support/docview.wss?uid=swg21290142 \n\nb. What are the critical directories that you must back up in case of Installation Manager data loss or corruption?\nhttp://www-01.ibm.com/support/docview.wss?uid=swg21665878\n\nc. Installing packages by using Installation Manager command line tool (imcl) https://www.ibm.com/support/knowledgecenter/en/SSDV2W1.8.1/com.ibm.cic.commandline.doc/topics/timcl_install.html\n\nd. IM log files\nhttps://www.ibm.com/support/knowledgecenter/en/SSVJJU6.4.0/com.ibm.IBMDS.doc6.4/cigibmimsdslog_files.html\n\n  the IM log is a xml file you will find it under IMHOME/data/logs i.e 201804041014.xml\n  there are different tags available:\n    Info = Green\n    Warning = Yellow\n    Error = Red\n\ne. Using the imcl command to rollback:\nhttps://www.ibm.com/developerworks/community/blogs/aimsupport/entry/usingimclcommandlinetorollbackwebsphereapplicationserverfixpacks?lang=en\n\nf. KC link to Rolling back packages by using imcl commands:\nhttps://www.ibm.com/support/knowledgecenter/en/SSDV2W1.8.5/com.ibm.cic.commandline.doc/topics/timcl_rollingback.html\n\n2. BPM Installation\n\nEach of the IBM Business Process Manager configurations has its own roadmap to guide through installing and configuring that version of the software. \n\na. Installation directories for the product and profiles\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.imuc.doc/topics/rinsinstallation_paths.html\n\nb. Deprecated and removed features\nCheck in the KC for the \"Deprecated and removed features\" for the specific versions\n\nc. BPM Software Requirements:\nBusiness Process Manager detailed system requirements\nhttp://www-01.ibm.com/support/docview.wss?uid=swg27023005\n\nIBM Business Process Manager Express detailed system requirements\nhttps://www-01.ibm.com/support/docview.wss?uid=swg27023008\n\nJava compatible matrix\nhttp://www-01.ibm.com/support/docview.wss?uid=swg21639640\n\nIBM Business Process Manager Tools & Add-Ons detailed system requirements\nhttps://www-01.ibm.com/support/docview.wss?uid=swg27023009\n\nd. BAW software requirements\nIBM Business Automation Workflow detailed system requirements\nhttps://www-01.ibm.com/support/docview.wss?uid=swg27051102\n\n 3. Troubleshoting the BPM / BAW Installation\n\na. Installation and profile creation log files:\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.admin.doc/topics/rinslogfiles.html\n\nb. Mustgather installation / upgrade:\n\n 1)Ask for the mustgather as described in this technote\n http://www-01.ibm.com/support/docview.wss?uid=swg21506937\n\n 2)Ask for the versioninfo:\n Exporting a versioninfo from install_root/bin/ using\n  versionInfo -fixpacks -ifixes  versioninfo.txt\n  or\n  versionInfo -long  versioninfo.txt\n\n 3)Check for the following points:\n  Is configuration described in the problem description supported?\n\n Check the software requirement report\n  Is there any errors in the problem description or logs?\n\n Search for the error in RTC or Prosol to check if this is a known issue\n\nc. important files to request/review\ninstall_root/logs/* -- general installation log files (BPMConfig)\nDmgr/properties/service/productDir/* -- configAction log files\nDmgr/logs/* -- BPMProfileUpgrade, bootstrapProcessServerData, BPMConfig files\n\nd. Successfull Installation\nWhen using IM Graphical mode\nLaunch the Installation Manager GUI, and verify the installation by going to File  View Installed Packages.\n\nWhen using imcl command\n./imcl listInstalledPackages | imcl.exe listInstalledPackages\nThe output of this command will display a list indicating which packages this Installation Manager has installed.\nFor example:\n\nWhen the -log option was used during installation, you can verify that the resulting log file does not contain any errors.\n\ne. Rollback failed\n\nMost part of the time the problem is:\n1)There is no installation history anymore. The customer has a new installation of IM and did not make a backup of his data repository.\n2)The data repository is in other path, not in the same as the IM_HOME\n3)The data repository is corrupted (in this case only L3 can help)\n\nAsk for the versioninfo: Exporting a versioninfo from install_root/bin/versionInfo -fixpacks -ifixes  versioninfo.txt\n\nInstallation Manager (IM) Saved Files for Rollback:\nFiles are saved in the IMShared directory. The default behavior is to save the files for rollback. To view or change this option:\nUsing Graphical mode:  File  Preferences  Files for RollBack  Check or Uncheck Save Files for RollBack\nUsing console mode:  imcl -c (from IM_HOME/eclipse/tools )\nSelect \"P\"\nSelect \"3\"\nSelect \"1\" to save or not to save files for rollback\n\nQuestions to ask to the customer\nif can tell you the product installation History.\nto see the possible rollback versions run the command imcl listInstalledPackages -verbose\nto see the versions to which the customer can perform a rollback imcl listInstalledPackages –rollbackVersions\n\n4. iFix Installation:\na. the instructions how to install a an ifix is always in the readme file\nb. check if the ifix has a prerequisite, if yes inform the customer\nc. Technote explaining how to install an ifix:\nhttps://www-01.ibm.com/support/docview.wss?uid=swg21417656\n\nExporting a versioninfo from install_root/bin/ checking it for the iFix number is sufficient:\nversionInfo -fixpacks -ifixes  versioninfo.txt\nor\nversionInfo -long  versioninfo.txt\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Upgrade","description":"bjzysun@cn.ibm.com","owner":"@Zhen Ye Sun","path":"/BusinessProcessManager/Install,Upgrade,Configuration/Upgrade","text":"BAW/BPM Upgrade and Migration\n\n Overview \nAlways encourage client to upgrate to the latest software versions to avoid running production systems on an unsupported configuration. Note that upgrades are different from migrations. Upgrades are an in-place upgrade of software. Migrations involve moving to a different platform, a different database, operating system or hardware.\n\n1.IBM Installation Manager (IIM):\n\nIBM Installation Manager is a tool that you can use to upgrade your IBM software packages. Wizards guide you through the steps that you must take to install, modify, update, roll back, or uninstall your IBM products.\nIBM Installation Manager is used to install WAS/BPM binary files.\n\na. What are the critical directories that you must back up in case of Installation Manager data loss or corruption?\nhttp://www-01.ibm.com/support/docview.wss?uid=swg21665878\n\nb. IM log files\nhttps://www.ibm.com/support/knowledgecenter/en/SSVJJU6.4.0/com.ibm.IBMDS.doc6.4/cigibmimsdslog_files.html\n\n  the IM log is a xml file you will find it under IMHOME/data/logs i.e. 201804041014.xml\n  there are different tags available:\n    Info = Green\n    Warning = Yellow\n    Error = Red\n\n 2.BPM/BAW Upgrade Roadmap:\n\nEach of the IBM Business Process Manager configurations has its own roadmap to guide through upgrading and configuring that version of the software. \n\nFind all the supported upgrade roadmaps(for different source and target versions) from below link: \nhttps://www-01.ibm.com/support/docview.wss?uid=swg21610883\n\na.\tBPM upgrade:\nhttps://www-01.ibm.com/support/docview.wss?uid=swg27050085\n\nb.\tBAW upgrade: \nhttps://www-01.ibm.com/support/docview.wss?uid=swg27050790\n\nc.\tAttention:\nThere are some steps you can ignore/skip for Advanced-Only setup.\nBPMv860 ships option to switch to Java 1.8\nUsually rollback is needed if DBUpgrade task failed\nUsually rollback is not needed if BootstrapProcessServerData or Toolkit upgrade fails  \n\n3.BPM/BAW Upgrade log:\n\na.\tProvide the log files if the profiles have already been created.\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compress all files from the following directory :\n\ndeploymentmanager profile_root/logs/            \n(contain logs related to database initialization and upgrade) \ndeploymentmanager profile_root/properties/\n(contain logs related to configAction and logs) \ndeploymentmanager profile_root/workspace/\n(contain flags related to successful upgrade)\n\nb.\tMonitor the /properties/service/productDir/logs/runConfigActions.log file to see the activity that is in progress during the profile upgrade process.\nlogs to check: /logs\nDBUpgrade_timestamp.log (upgrade database schemas and data)\nbootstrapProcessServerData.log (loading DB with system information)\nBPMConfig_xxxxx.log (create, update, upgrade or delete an IBM BPM deployment environment)\nBPMUpdateSystemApp_xxxxx.log (update on app [twx] level)\n\nCheck for INSTCONFSUCCESS or INSTCONFFAILED If running DBUpgrade was unsuccessful, correct the errors and restore your databases from the backup before running the command again.\n\nc.\tThose log can be collected by using the IBM Business Process Manager data collector:\nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS8.6.0/com.ibm.wbpm.admin.doc/topics/ttroisa.html\n\n 4.BPM Upgrade troubleshooting checklist\n\na.\tYou should be able to find the product version info from dbupgradexxx.log file:\nSource version is : 8.6.1.xxxxxx\nThis version info should match that in BPM configuration properties if customer follow the upgrade procedure correctly\n(you may find the log shows upgrade from version XXX to version YYY, but XXX and YYY are not correct version, that does not mean upgrade goes wrong. It’s output in middle of upgrade process)\n\nb.\tMake sure the database table upgrade is successful in dbupgradexxx.log\nIf it failed, you will find an error in this log\n\nc.\tIn BPMconfigupgradexxx.log, make sure you can find the upgradeApplicaiton records for those BPM applications. So that you know the upgrade does happen. You should also make sure there is no error found in this log.\n\nd.\tIn bootstrapProcessServerData.log, you should find: bootstrapping of data completed successfully if the upgrade procedure is good. There will be an error message if upgrade fails.\n\ne.\tIn BPMUpdateSystemApp_xxxxx.log, you should be able to find BPMUpdateSystemApp completed successfully in at the end of log if the upgrade procedure is good.\n\nf.\tAfter checking those logs under DMGR profile, you need also check the BPMconfigxxx.log under node profile, make sure there is no error.\n\ng.\tCheck the nodeagent snycNode.log, make sure the Synchronization is successful.\n\n5.BPM Environment Backup\n\nBPM environments need backup before upgrade.\n\na.\tInstallation Manager Backup --- You need backup four Installation Manager folds: 1)IM Registry File, 2)IMShared, 3)IM Agent Data, 4)IM Install Dir\n\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use OS utility or OS command to backup above IIM paths.\n\nb.\tProfile Backup --- Before you upgrade a product, run the backupConfig command to back up the configuration files of each profile.\n\nc.\tDatabase (BPMDB, CMNDB, PDWDB) --- Ask database administrator to backup BPM databases. Make a backup of the databases at the same time as making the profile backup.\n\nd.\tBPM customization --- Backup customized artefacts before upgrade, in case any customization is missing during upgrade. ( theme.css、collaboration.css、img)\n\n 6.BPM Upgrade failure samples\n\nIf BPM/BAW upgrade fails, find the correct log by referring “BPM/BAW Upgrade log” section. There are some samples here:\n\na. Upgrade failed at bootstrapping of the Process Server, check databasebootstrapProcessServerData.log and find:\n[xxxxxx] xxxxxx AntTasksHelpe I  UserId could not retrieved, Either DeAdmin role is not set or Cell Admin role is not set\n\nPossible solution:\nCheck whether the right user id with appropriate authorization was deployed and have a look at table LSWUSRXREF in the Process Server database to confirm that the upgrading user id is listed there.\n\nb. Upgrade failed at BPMUpdateSystemApp failed, check BPMUpdateSystemApp.log and find:\n\n[xxxxx] MutableSnapsh W CWLLG0523I: Ignoring identical dependency PODependency(source=TWProcess.ed8d1a03-7895-4126-ac69-e94ea4349be8, sourceReferenceLocation=Coach:2025.3b7ce7d2-b133-40b9-91bc-8543896da95b/CoachView:/64.ad2b879f-ee68-4bc9-9b1b-fb7c0856a48e, reference=Ref[/CoachView.ad2b879f-ee68-4bc9-9b1b-fb7c0856a48e]).\n\nPossible solution:\nThe only explanation for this appears to be the BPM database may have been corrupted during the initial BPMUpdateSystemApp run. If the Toolkits are not upgraded properly, there is a potential problem with mismatch between the System Application, installed binary and toolkits in the database.\n\nNeed revert the system back to the time before they started the upgrade so they applied a backup of the database and the BPM binaries\n\nc. Upgrade failed at DBUpgrade command, (Customer upgrade from 8.5.5 to 19.0.0.2) check DBUpgrade_timestamp.log and find:\n\n[xxxxx] failed at 8.5.6 to 8.5.7\n[xxxxx] 00000001 FINE: com.lombardisoftware.tools.SQLFileExec.handleError - ORA-30556: either functional or bitmap join index is defined on the column to be modified ORA-06512: at line 9\njava.sql.SQLException: ORA-30556: either functional or bitmap join index is defined on the column to be modified ORA-06512: at line 9\n\nPossible solution:\nBPM database upgrade failed at 8.5.6 to 8.5.7 step with bitmap join index error. That needs to check if there is bitmap join index and disable it. After correcting the error and restore the database from the backup, then run the DBUpgrade command again. That will see upgrade 8.5.6 to 8.5.7 success.\n\nWhat can be seen from these samples is that it is important to understand where the upgrade failed and find the correct log file to check. Usually you need look at the very first failure that occurred in the log files to find the real cause and resolve the problem.\n\nNews \n\n 2019-09 - BPM Upgrade Information\n\nFriendly reminder to please us this link with BPM customers when discussing upgrading to the latest product level. This is a good link to send to any customer still using BPM to warn them of the impending EOS dates but especially for an upgrade discussion.  \nhttps://www.ibm.com/support/pages/upgrading-business-process-manager-latest-product-level\n\nAlso if you happen across an ESB customer we do have this similar link for them:  \nhttps://www.ibm.com/support/pages/upgrading-websphere-enterprise-service-bus-wesb-or-ibm-business-process-manager-enterprise-service-bus-bpm-esb\n\n2019-09 - Oracle Support\n\nFor background, Oracle changed their lifecycle policies. It is described in this article:  \nhttps://support.oracle.com/knowledge/Oracle%20Database%20Products/742060_1.html\n\nOur customers have been a bit confused by this and are starting to ask a lot of questions regarding Oracle support.  \nThe following things can be shared with customers:  \nOracle 12.2 is supported starting with BPM 8.6 2017.12  \nWe are changing our SPCRs so that 18C is also supported by all releases which support 12.2.  \nDetailed System Requirement reports are now updated and we do support Oracle 19c with all BPM 8.6 and BAW 18.x  \n\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Migration","description":"bjzysun@cn.ibm.com","owner":"@Zhen Ye Sun","path":"/BusinessProcessManager/Install,Upgrade,Configuration/Migration","text":"Date:2019-11-11\n\nOverview\n\nBusiness Process Manager/Business Automation Workflow  (BPM/BAW) Fundamentals Education is an overview of BPM/BAW products. This module teaches the basics of migration and troubleshooting BPM/BAW migration issues. This module serves as the basis for in-depth education modules on BPM/BAW migration.\n\n 1.Migration Overview:\n\nA product migration applies when you want to move the current installed product version to a new product version. In most of the cases you can identify a migration by checking the product version number. The major product version is defined by the first digits and the cumulative fixes packs by the last digits. \nFor example:\n\nMajor version&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\t\t\tCumulative fix\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BPM 8.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8.0.1\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BPM 8.5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\t\t\t\t\t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8.5.5 / 8.5.6 /8.5.7\n\nA version to version migration requires a full installation of the binary files of the new version.The new binary files (the new version) are in a different directory than the old binary files (the old versions).\n\nA hardware migration requires a full installation of the binary files of the new version.The new binary files (the new version) are in a different location(hardware) than the old binary files (the old versions).\n\nFind all the supported upgrade roadmaps(for different source and target versions) from below link: \nhttps://www-01.ibm.com/support/docview.wss?uid=swg21610883\n\n2.IBM Installation Manager (IIM):\n\nIBM Installation Manager is a program that helps you to install IBM products. Wizards guide you through the steps that you must take to install, modify, update, roll back, or uninstall your IBM products. It keeps track of what you are about to install, software components that you have already installed, and components that are available for you to install. \n\nIn a migration process, if the IIM is installed on new hardware you must  make a backup of the agent data location directory of the old installation to keep track of the installation history:\n\nHere is a technote how to restore the IM history with BPM and BAW:  \nhttps://www.ibm.com/support/pages/restoring-ibm-installation-manager-history-ibm-business-process-manager-bpm-and-websphere-enterprise-service-bus-wesb\n\nNOTE: Changing the content, files, or directories in the agent data location directory or subdirectories is not supported. Any modification to this data is likely to cause corruption of the installed packages making it impossible to update, uninstall, modify, rollback, or install any packages in the future.\n\na. What are the critical directories that you must back up in case of Installation Manager data loss or corruption?\nhttp://www-01.ibm.com/support/docview.wss?uid=swg21665878\n\nb. IM log files\nhttps://www.ibm.com/support/knowledgecenter/en/SSVJJU6.4.0/com.ibm.IBMDS.doc6.4/cigibmimsdslog_files.html\n\nthe IM log is a xml file you will find it under IMHOME/data/logs i.e. 201804041014.xml\nthere are different tags available:\n  Info = Green\n  Warning = Yellow\n  Error = Red\n\n 3.BPM/BAW Migration:\n\na. BPM Migration:\n\nMost customers use the Interactive Migration Guide to prepare migration from systemX/BPMX -- systemY/BPMY. \nInteractive Migration Guide link:\nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS8.6.0/com.ibm.wbpm.imuc.doc/topics/bpmmigroadmapform.html\n\nMigration Mustgather: \nhttps://www-01.ibm.com/support/docview.wss?uid=swg21663802\n/profiles/dmgrprofilename/dbscripts\n/logs\n/profiles/dmgrprofilename/logs\n<BPMinstallroot/profiles/profile_name/logs\n/logs\n\nb. BAW Specific:\nPlanning Migration:\nhttps://www.ibm.com/support/knowledgecenter/en/SS8JB418.0.0/com.ibm.wbpm.imuc.doc/topics/cplnmig_planning.html\n\nc. Same version to new hardware:\nExport config from old env with BPMConfig \nImport config to new env with BPMConfig:\nhttps://www.ibm.com/support/knowledgecenter/SS8JB418.0.0/com.ibm.wbpm.imuc.doc/topics/newhwde.html\n\n4.BPM/BAW Migration Troubleshooting\n\nIf your deployment environment was not migrated successfully, you can take steps to resolve issues. Consider the following possibilities: \nSOAP invocation timeout might have occurred; \nMigration commands for the target environment failed.\nMigration commands for the source environment failed.\n\nRead this page if any migration issue:\nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS8.6.0/com.ibm.wbpm.admin.doc/topics/rmigtrouble.html\n\na. SOAP invocation timeout\nIf you are using a SOAP connection, the migration command can take longer to complete than the specified SOAP timeout value. You might see an exception like java.net.SocketTimeoutException: Read timed out.\n\nTo prevent this problem, modify the value of the com.ibm.SOAP.requestTimeout property in the soap.client.props file.\n\nIf you installed the new version of the product on the same computer as the source environment, the file is found in BPMhome8.5/util/migration/resources/.\n\nIf you installed the new version of the product on a different computer and copied the migration files to the source environment, the file is found in remotemigrationutility/util/migration/resources/.\n\nb. Migration commands on target environment\nTo diagnose the reason for a migration failure, you can enable tracing and rerun a command. To enable tracing for migration commands, complete the following steps:\n\n1)Locate the logging.properties file.\nFor the DBUpgrade command-line utility, \nthe file is in BPMhome8.5/util/dbUpgrade. \n\nFor the following command-line utilities:\nBPMExtractSourceInformation\nBPMManageApplications\nBPMMigrate\nthe file is in BPMhome8.5/util/migration/resources. \n\n2)Set the log level in the logging.properties file. \n\nThe default log level is FINE for both global logging level and file output log level. Change both properties to FINEST to capture more detail in the log. \n\nc. Migration commands on source environment\nIf you ran all the migration commands on the source environment and created a snapshot before the migration failed, you do not need to rerun all the migration commands again from the beginning. If the migration failed on the target, for example at the database upgrade step or when you ran the BPMMigrate command, you can restore the database and rerun the commands on the target only.\n\nPlease see the Upgrade page.  \nhttps://pages.github.ibm.com/dba-support/DBA-Education//BusinessProcessManager/Install,Upgrade,Migration/Upgrade\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Disaster Recovery","description":"enricom@cn.ibm.com","owner":"@Enrico Monteleone","path":"/BusinessProcessManager/Install,Upgrade,Configuration/DisasterRecovery","text":"\n\nBackup, High Availability (HA), and Disaster Recovery (DR)\n\n Business Automation Workflow (BAW) / Business Process Manager (BPM)\n\nStrategy\n\nBackup and recovery planning depends on business requirements. When planning a production environment, all stakeholders should be involved in the planning process to create a system that will meet business requirements with respect to data loss tolerance and time to recovery, balanced with costs.\n\n Tools\n\nMany IBM and third-party tools exist for backup and recovery for every component in the production environment. All stakeholders, including networking, systems, storage, database and application teams must work together to create a complete plan that ensures a stable environment and minimizes risk against unplanned outages by using the best set of hardware and software to manage, maintain and test backup, high-availability, and recovery systems.\n\nBackup\n\nBacking up data\n\nhttps://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.admin.doc/topics/cadmrecoverybackup.html\n\nBacking up databases\n\nhttps://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.imuc.doc/topics/tinsbackupdatabases.html\n\n Troubleshooting Backups\n\nHigh-Availability (HA)\n\nConsiderations for HADR setup and configuration\n\nhttps://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.imuc.doc/topics/chadr_considerations.html\n\nBusiness Automation Workflow Workflow with DB2 HADR for Production\n\nhttps://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.cloud.vap.doc/topics/rbpmpriclovsppredfconfig.html\n\n Troubleshooting HA\n\nDisaster Recovery (DR)\n\n Troubleshooting DR\n\nWebSphere (WAS)\n\nSince IBM Business Process Manager (BPM) runs on WebSphere Application Server (WAS), you may also need to consider WAS HA and DR, especially if other non-BPM applications are hosted on WAS. Clients often must work with their WAS and infrastructure teams to ensure an overall and complete HA and DR configuration.\n\nWebSphere Application Server\nhttps://www.ibm.com/support/knowledgecenter/SSAW57/mapfiles/productwelcomewasnd.html\n\n Database\n\nSince IBM Business Process Manager supports IBM Db2, Microsoft SQL Server and Oracle databases, you also must consider the database HA and DR strategy and configuration. Clients often must work with their database administrators (DBAs) to ensure an overall and complete database HA and DR configuration.\n\nIBM Db2\n\nIBM Db2 Version 11.1 Knowledge Center\nhttps://www.ibm.com/support/knowledgecenter/SSEPGG_11.1.0/com.ibm.db2.luw.welcome.doc/doc/welcome.html\n\nDb2 - Troubleshooting HADR\nhttps://www.ibm.com/support/knowledgecenter/SSEPGG_11.1.0/com.ibm.db2.luw.admin.trb.doc/doc/c0060652.html\n\n Microsoft SQL Server\nhttps://docs.microsoft.com/en-us/sql\n\nOracle Database\nhttps://docs.oracle.com/en/database/oracle/oracle-database/index.html\n","wordCount":0,"topics":[],"type":"Content"},{"name":"DE Configuration","description":"enricom@cn.ibm.com","owner":"@Enrico Monteleone","path":"/BusinessProcessManager/Install,Upgrade,Configuration/DE Configuration","text":"Configuration\n\n Contents\n<a href=\"#acronyms\"Acronyms  \n<a href=\"#overview\"Overview  \n<a href=\"#prerequisites\"Prerequisites  \n<a href=\"#components\"Components and Troubleshooting  \n<a href=\"#tools\"References  \n\n---\n\nAcronyms\nICPA - IBM Cloud Pak for Automation  \nBAW - IBM Business Automation Workflow (In this document, BAW refers to either BAW or BPM)  \nBPM - IBM Business Process Manager  \nCLI - Command Line Interface  \nGUI - Graphical User Interface\n\n---\n\n Overview\nThis section describes the tools and procedures for BAW configuration. Since BAW includes different components, there are different configurations to understand. BAW also provides multiple tools and interfaces for configuration, such as GUI-based configuration tools and command-line configuration tools.\n\nFrom an Open Systems Interconnection (OSI) model perspective, we can consider the following aspects of BAW configuration:\nNetwork - IPv4, IPv6, DNS, NTP\nTransport - TCP/UDP ports\nSessions - Communications wait times and timeouts\nPresentation - Security protocols, SSL, Kerberos\nApplication - WebSphere (WAS), databases, web browser application\n\nFrom a system lifecycle perspective, we can consider the following aspects of BAW configuration:\nInstallation setup and configuration, including the IBM Installation Manager itself\nMaintenance and tuning for specific environments\nTroubleshooting, configuring log files and and traces\nUpgrades and migrations\n\n---\n\nPrerequisites\n\nConfiguration of BAW/BPM requires a basic understanding of the product and related components, including WebSphere and the database (DB2, Oracle, or Microsoft SQL Server). For command-line tasks, you should be familiar with Linux and Microsoft Windows command-line scripting, including bash shell scripts, Microsoft Windows command prompt and batch (BAT) files, and Microsoft Windows PowerShell environments.\n\n---\n\n Components and Troubleshooting\n\nOperating System\nCPU and memory\nDisk and storage\nNetworking and time synchronization\nUser, gorup, and role management\nFirewall and security\n\nFor the operating system, ensure systems meet the minimum system requirements by checking the Software Product Compatibility Reports (SPCR) https://www.ibm.com/software/reports/compatibility/clarity/softwareReqsForProduct.html\n\nFor networking, ensure systems, including databases, are properly configured to communicate on the network. Ensure systems can resolve DNS names.\n\nVerify that Network Time Protocol (NTP) is enabled to ensure time synchronization between all servers. For Microsoft Windows, ensure the Windows Time service is configured and running. For Linux, ensure the ntpd service is configured and running. Failure to properly configure NTP results in mis-matched date/time stamps on server logs and may cause security protocols to fail, making troubleshooting more difficult.\n\nEnsure that you follow the BAW documentation regarding any prerequsites to configure operating systems properly before installing BAW.  \n\n Operating Systems Troubleshooting\n\nSpecific operating system troubleshooting is beyond the scope of this reference, but in general, you should always check operating system and networking configuration to eliminate these components as the root cause of problems.\n\nFirewalls and Antivirus Software  \nIf you are troubleshooting connection issues, if possible try to test with firewalls and antivirus temporarily disabled. This can be a quick test to isolate whether the problem is with BAW or not. Security policies may limit firewall and antivirus configuration, so discuss with clients. It is recommended to disable antivirus scanning on BAW application folders. If you are unable to disable firewalls and antivirus software for troubleshooting, check the firewall and antiviurs log files for any helpful messages.\n\nLinux example:   \n\n  &gt; sestatus  \n  &gt; iptables --list  \n \n\nMicrosoft Windows example:   \n\n  C:\\ sc query mpssvc  \n  C:\\ netsh advfirewall show allprofiles  \n\nNTP  \nIf secure communicaiton and security protocols are failing, check the time on each system. Ensure system times are synchronized.   \n\nBefore asking clients to collect log files for detailed troubleshooting, check each system from which you will collect log files to ensure system times are synchronized. If times are not synchronized, then matching date/time stamps from different log files will be very difficult and will waste time.  \n\nLinux example:  \n\n  &gt; systemctl status ntpd  \n  &gt; ntpq -p  \n\nMicrosoft Windows example:   \n\n  C:\\ w32tm /query /status  \n\nDatabase. \nNetworking\nUser, gorup, and role management  \nStructured Query Language (SQL)  \nData Definition and Manipulation statements (DDL and DML)  \nDatabase storage  \nDatabase indexes  \n\nBAW supports different databases and versions, including DB2, Oracle and Microsoft SQL Server databases, so specific database configuration is beyond the scope of this document, but you should be familiar with basic database configuration concepts and tasks, including SQL, security, and database drivers.   \n\nRelational database management systems usually run on dedicated servers and are managed by a database administrator, so you may need to provide configuration information or scripts to a database administrator to configure BAW.   \n\nEnsure that you follow the BAW documentation regarding any prerequsites to configure database systems properly before installing BAW.  \n\nDatabase configuration for BAW consists of the following general steps. Depending on the database system and the BAW installation method, some or all of these steps may be automated.\nDatabase system installation  \nBAW database creation  \nBAW table creation  \nBootstrapping  \n\nDatabase system installation\nDatabase system instalation is usually done by a database administrator, unless you are installing a local database for a development or testing environment. The BAW installation packages include an express version of Db2. If you use the included Db2 database system, then ensure to record the user names and TCP communications ports that you choose, as these are required for subsequent BPM configuration.\n\n  \n\nBAW database creation  \nAfter you install the BAW binary files, you must ensure the required databases are created before you can create the WebSphere deployment environment to actually run BAW.\n\nIf you install BAW using Launchpad, then the databases are created automatically.  \n\nIf you do not use Launchpad, then you must manually create the databases.  \na. Install BAW binary files with Installation Manager.  \nb. Locate the database scripts.  \nc. Copy and modify the database scripts to create the necessary databases.  \nd. Run the database creation scripts against your database to create the databases.  \n\nLinux example:  \n\n/opt/IBM/BPM860PC1/BPM/dbscripts/DB2/Create  \nrootls -l    \n-rwxr-xr-x 1 root root    494 Sep 18  2017 createDatabase.sh  \n-rw-r--r-- 1 root root   1117 Sep 18  2017 createDatabase.sql  \n\n/opt/IBM/BPM860PC1/db2/bin  \nroot./db2 -stvf cmndb-setup.sql  \ncreate database CMNDB3 automatic storage yes  using codeset UTF-8 territory US pagesize 32768  \nDB20000I  The CREATE DATABASE command completed successfully.  \n  \nconnect to CMNDB3  \n\n   Database Connection Information  \n   \n Database server        = DB2/LINUXX8664 11.1.0  \n SQL authorization ID   = ROOT  \n Local database alias   = CMNDB3  \n  \nCREATE USER TEMPORARY TABLESPACE USRTMPSPC1  \nDB20000I  The SQL command completed successfully.  \n  \ngrant dbadm on database to user db2admin  \nDB20000I  The SQL command completed successfully.  \n  \nUPDATE DB CFG FOR CMNDB3 USING LOGFILSIZ 16384 DEFERRED  \nDB20000I  The UPDATE DATABASE CONFIGURATION command completed successfully.  \n  \nUPDATE DB CFG FOR CMNDB3 USING LOGSECOND 64 IMMEDIATE  \nDB20000I  The UPDATE DATABASE CONFIGURATION command completed successfully.  \n  \nconnect reset  \nDB20000I  The SQL command completed successfully.  \n\nBAW table creation  \nDatabase table creation happens during the WebSphere deployment envioronment creation.  If you use the WebSphere web interface to create your deployment environment, you have the option to create or defer table creation. If you are scripting your installation, then you also can choose to create the tables immediately or defer table creation until later using a generated script, which you can provide to your database administrator.  \n\n  \n  \n    \n\nBootstrapping  \nWhen you create a deployment environment, the ‘bootstrapProcessServerData’ command must be completed successfully before you try to start or use Process Server or Process Center.\nRun the ‘bootstrapProcessServerData’ command successfully at least once for each deployment environment before you start using the environment.\nWhen you created the deployment environment either by setting the bpm.de.deferSchemaCreationparameter to falsefor the BPMConfigcommand or by enabling Create Tables in the Deployment Environment wizard, the bootstrapProcessServerDatacommand is run automatically.\nAfter run the command, check the bootstrapProcessServerDatalog for errors:DMgrprofile_root/logs/bootstrapProcesServerData.clusterName.log.\n\n Database Troubleshooting  \n\nAs with the operating system, system requirements and networking are equally important, so remember to include the database system in your troubleshooting strategy.\n\nEnsure the database is started. This is common in testing environments where the database is installed locally on a testing server. Test servers may be frequently restarted, and the database is often overlooked in the startup process.\n\nWebSphere\nCells, nodes, clusters, applications\nProfiles\nDeployment environments\nUser, groups, and roles\nSecurity and SSL certificates\n\n  \n\n. \n\n WebSphere Graphical User Interface (GUI)  \nWebSphere 8.5.5 - Using the administrative console  \nhttps://www.ibm.com/support/knowledgecenter/SSAW578.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/tconconsole.html\n\nProcess Center\nInstallation Manager\nInstallation\nUser, groups, and roles\nSecurity and SSL certificates\nProcess Application snapshots\nLogging\n\n Process Server\nInstallation Manager\nInstallation\nUser, groups, and roles\nSecurity and SSL certificates\nProcess Application snapshots\nLogging\n\nScript - Process Center to Process Server Communications Configuration  \n\nSeveral configuration settings are require for Process Center to Process Server communication. When you install a new Process Server, you can choose whether to use Process Server offline or online. The Process Server configuration must match the Process Center configuration, including user names and passwords and SSL settings. Clients who add Process Servers to their environment or make changes to their existing environment may encounter communications issues between Process Center and Process Server. This script assists in checking configurations and troubleshooting. \n\nBPM 8.6 on Linux: bxPcpscommunication.sh  \nhttps://github.ibm.com/dba-support/dba-scripts/blob/master/linux/bawbpm/bxPcpscommunication.sh\n\n---\n\n References\n\nSoftware Product Compatibility Reports (SPCR)\nhttps://www.ibm.com/software/reports/compatibility/clarity/softwareReqsForProduct.html\n\n Operating Systems\n\nBAW supports different operating systems and verisons, so specific operating system configuration is beyond the scope of this document, but you should be familiar with basic operating system configuration concepts and tasks, including networking, security, and file system management.\n\nLinux  \n[TO-DO: Dba-scripts script to collect basic OS and networking information.  \n\n Windows\n[TO-DO: Dba-scripts script to collect basic OS and networking information.  \n\nDatabases\n\n[TO-DO: Add RHEL and Windows dba-scripts for common DB2 configuration tasks.]\n\nDB2 database privileges\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.imuc.doc/topics/rplndbprivilegesdb2.html?view=embed\n\nOracle database privileges\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.imuc.doc/topics/rplndbprivilegesoracle.html?view=embed\n\nUser ID or schema name privileges\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.imuc.doc/topics/rplnuseridprivilegedb.html?view=embed\n\n WebSphere\n\nWebSphere 8.5.5 - Command-line utilities  \nhttps://www.ibm.com/support/knowledgecenter/SSAW578.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/welcrefadmcmd.html\n\nWebSphere 8.5.5 - wsadmin scripting tool  \nhttps://www.ibm.com/support/knowledgecenter/SSAW578.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/rxmlcommandline.html\n\nmanageprofiles (BAW 19.0.0.2)  \nhttps://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.ref.doc/topics/rins_manageprofiles.html\n\nwsadmin (BAW 19.0.0.2)  \nhttps://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.ref.doc/topics/welcrefadm_script.html\n\nBPMConfig\n\nBPMConfig (BPM 8.6)  \nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS_8.6.0/com.ibm.wbpm.ref.doc/topics/rbpmconfig.html\n\nBPMConfig (BAW 19.0.0.2)  \nhttps://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.ref.doc/topics/rbpmconfig.html\n\nCreating profiles, network deployment environments and database tables using BPMConfig (BPM 8.6.0)  \nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS8.6.0/com.ibm.wbpm.imuc.ebpm.doc/topics/bpmcfgcreatewindb2.html\n\nIBM BPM 8.5.x BPMConfig command line utility overview (BP3 external website)  \nhttps://support.bp-3.com/hc/en-us/articles/202784686-IBM-BPM-8-5-x-BPMConfig-command-line-utility-overview\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Endpoint Configuration","description":"shyuan@cn.ibm.com","owner":"@Yuan Shang","path":"/BusinessProcessManager/Install,Upgrade,Configuration/Endpoint Configuration","text":"2019-11-4\n\nOverview\n\nIf the user's browser requests pass through a web server or load-balancing server before the request reaches the BPM server, you must configure the virtual host information that is used by BPM to generate URLs. Depending on the complexity of your topology and security setup, you might have to configure several different types of URLs.  BPM Endpoint configuration can fulfill this request. \n\n Prerequisites (Optional)\n\nBefore reading this chapter, it’s recommended to understand the basic configuration of a BPM deployment environment and how we modify the DE configuration using BPM utility commands.   Also, understanding the BPM topology types and how BPM interact with other products within the over IT infrastructure is also essential. \n\nComponent\n\n1.When do you need to configure & change BPM endpoint?\n\nIn a network deployment environment, you can configure a routing server (such as IBM HTTP Server, WebSphere Application Server proxy server, or other similar servers) as a proxy server for workload balancing and failover purposes. Instead of incoming HTTP requests going directly to an application server, they go to the proxy server, which then distributes the requests across multiple application servers that perform the work.\n\nYou do not have to use IBM HTTP Server for load balancing. Instead, you can use any other type of routing server; for example, WebSphere Application Server proxy server, any other web server, reverse proxy server, or network layer IP sprayer. \n\nIBM BPM and WebSphere Application Server support the following major proxy servers:\nApache Server 2.2\nIBM HTTP Server\nIBM HTTP Server for i5/OS\nLotus Domino\nMicrosoft Internet Information Services\nNGINX 1.X\nNGINX Plus Release 9\nOracle iPlanet Web Server 7\n\nWebSphere Application Server 8.5.5.X Compatibility Report \nhttps://www.ibm.com/support/pages/websphere-application-server-detailed-system-requirements8.5.5 \n\nIBM BPM generates many different types of URLs for action links in the external browser client, internal communications, and connections to internal services. If your topology or security setup requires that IBM BPM must generate certain types of URLs differently, there are various ways to configure them. \n\nIt is important to identify the different entry points in your network, such as load balancers and web servers, for external and internal clients. For example, generally, the protocol, host name, and port number of the entry point server must be used in any generated links that are served to clients. Sometimes the endpoints can be defined as a static URL, but in more complex topologies it might be necessary to use a dynamic strategy, such as extracting the information from the header of the request. Below is a typical topology which requires the endpoint configuration. \n\nComplete Procedure used to Configure BPM Endpoints\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.imuc.ebpm.doc/topics/tsecthirdpartyauthentication_endpointservice.html \n\n** Endpoint configuration should be considered and configured by the unit of deployment environment. \n\n2.Default BPM Endpoint Scenario\na) Default BPM Endpoint Scenario Keys\n\nEXTERNAL_CLIENT\nThis generic scenario key is intended for non-relative URLs to be used by clients that are outside the data center, such as web browsers, to connect to the IBM BPM server. \n\nINTERNAL_CLIENT\nThis generic scenario key is intended for non-relative URLs to be used by clients that are inside the data center, such IBM BPM calling itself. \n\nRELATIVE\nThis generic scenario key is intended for relative URLs to facilitate access to browser-based web applications through various entry points in your topology. For example, some users might access IBM BPM through a reverse proxy whereas others might connect directly to the web server.\n\n  If all external or internal clients connect directly to the IBM BPM server, there is no need to change the default value.\n  If all external or internal clients use one entry point into your network, such as a web server, you can define the EXTERNALCLIENT or INTERNALCLIENT scenario to use a static virtual host object or a static URL.\n  If you have multiple entry points for external or internal clients, for example, a load balancer and a web server, using a single virtual host setting or a static URL is not appropriate, and you must define the EXTERNALCLIENT or INTERNALCLIENT scenario to use one or more dynamic strategies.\n\n** These defaults are only used for a generated URL if the optional scenario that is specific to the URL type is not defined.\n\nb. Strategies of Endpoint Scenarios\n\nFor each endpoint configuration scenario, BPM endpoint defines a list of strategies. \nThe strategies are attempted in the order that is specified until one returns the required information. Each strategy uses a different approach to determine the transport protocol, host, and port that are used to generate URLs, for example, by extracting them from a particular header in the request. The IBM BPM endpoint can also reference an IBM BPM virtual host that contains fixed values for the transport protocol, host name, port number of the virtual host, and any URL prefix.\n\nHere’s a table which lists all strategies that are available for BPM and you could check the details. \nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.imuc.ebpm.doc/topics/rcfgepstrategies.html \n\nHere I would like to show you the default strategies BPM defines for our default scenarios. \n\nc. Changing Default Scenarios\n\nBy using the command utilities setBPMVirtualHost, setBPMDefaultVirtualHost, and setBPMEndpoint. We could make changes on the default scenarios as needed. \n\nDetailed procedure for changing default scenarios. \nhttps://www.ibm.com/support/knowledgecenter/SSFPJS_8.6.0/com.ibm.wbpm.imuc.ebpm.doc/topics/tcfgep.html \n\n3.Optional Scenario Keys\n\nExcept for default scenario keys, client may need to configure optional scenarios for specific types of generated URLs.  Most of time, default scenarios are used if the optional scenarios are not defined.   However, if any of the optional scenarios get set up, it takes precedence over the default scenarios. \n\nFor example, If we setup the optional scenarios AETOPS with it’s strategies and URL, when PD is trying to connected to PC or PS, it no longer uses the EXTERNALCLIENT, but the one defined at AETO_PS. \n\nHere is the list of optional scenario keys available\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.imuc.ebpm.doc/topics/rcfgepoptscnkey.html \n\nSetting up Optional Scenarios for complex topologies\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.imuc.ebpm.doc/topics/tcfgepcreatescn.html \n\nConfiguring endpoints for dynamic URLs \nhttps://www.ibm.com/support/pages/node/1074580 \n\n4.Endpoint Lookup \n\nWhen an endpoint lookup is required by a particular product feature, there is an optional and a default scenario associated with each specific lookup. When the lookup is performed, the following actions are taken in order until an endpoint URL value is returned.\nThe optional scenario is checked.\nThe default scenario is checked.\nThe default virtual host for the deployment environment is checked.\nThe CurrentJVMDefaultTransportStrategy is used.\n\nBy default, most lookups will use the CurrentJVMDefaultTransportStrategy if no changes have been made to the endpoint settings, which results in a URL pointing at the HTTPS port of the current JVM. For most cases, you can modify only the default scenarios or rely on the default behavior.\n\nTroubleshooting\n\n Data Collection\n\n1.Logs & Trace\n\nFor endpoint lookup \nTrace String: =info: WLE.=all:com.ibm.bpm.endpoint.*=all\n\nFor general BPM connectivity including endpoint\n=info: WLE.=all:com.ibm.bpm.endpoint.=all:org.apache.commons.httpclient.=all\n\n2.Resetting endpoint service cache\n\nIf client need to enable the endpoint trace above, sometimes it’s necessary to reset the endpoint service cache because the resulting traces do not contain the initial computation of the URLs.\n\nPlease use the following link to reset the cache before enabling the runtime trace\nhttps://www.ibm.com/support/pages/resetting-endpoint-service-cache-ibm-business-process-manager-bpm \n\n3.Configuration Files\n\nSuggested directory: bpmroot/profiles/dmgrroot/config/\n\nData Analysis\n\nStep 1: Understand the correct topology and expected behaviors\n\nFirstly, in order to diagnose an endpoint issue appropriately, we must identify the components and structure of client’s topology. Components to consider include such things as load balancers, external web servers, reverse proxies, firewalls, internal web servers, Process Server, and Process Centers.\n\nTry to clarify the topology and expected behavior with client, we could use topology diagram to help on the complicated infrastructure.   The purpose of doing this is to come up with the expected configuration based on the behaviors they plan. \n\nFor example, client wants all of their external coming request went through a load balancer first before reaching to BPM servers.  \n\nStep 2: Check the current configuration\n\nFor simple topology, we could directly use the configuration files to locate the endpoint scenarios defined.  For complicated scenarios like dynamic strategy which requires computation of the URLs generated, the suggested endpoint trace should be applied. \n\nBoth configuration file and the endpoint tracing should illustrate client’s current configuration very clear. \n\nFor example, check client’s configuration (from cell-bpm.xml /dmgrroot/config/cells/cellname/cell-bpm.xml) as below:\nKey Objects:  ‘virtualHosts’，‘bpmurls’\n\nBased on the given configuration above, we could see that \n   Client defined a default virtual host with host name ‘bpm-web’\n   Client updated the default scenario EXTERNAL_CLIENT to use strategies WebsphereProxyHeaderStrategy, XForwardedHeaderStrategy, and HttpProtocolHostStrategy. \n   Client set the URL for scenario as https://bpm-test which makes the virtual host meaningless. \n\nThe strategies WebsphereProxyHeaderStrategy and XForwardedHeaderStrategy use the different methods to compute the URLs needed for external clients.  Also, the URL defined overwrite the host name given, but client was intended to define host name rather than URL.   Therefore, the overall config doesn’t fit for client’s requirement which is use the load balancer as the single entry point.  Therefore, we will need to correct their current configuration. \n\nStep 3: Correct the configuration \n\nBy checking the strategy list, we would recommend client to use the default strategy WCCMConfigStrategy to extract the protocol, host, and port from a defined virtual host. \n\nTherefore, client could use the command line setBPMVirtualHost to make sure it contains all of the information of the load balancer as below:\n\nAdminTask.setBPMVirtualHost(['-de', deploymentenvname, '-name', 'default_vh', '-hostname', 'example .com', '-port', '9443'])\n\nAnd then update the EXTERNAL_CLIENT scenario with the defined virtual host. \n\nAdminTask.setBPMEndpoint( [ '-de', deploymentenvname, '-scenario', scenario, '-virtualHost', 'default_vh' ] )\n\nAdminTask.setBPMEndpoint( [ '-de', deploymentenvname, '-scenario', scenario, '-strategies', WCCMConfigStrategy' ] )\n\nAlso, client used the parameter URL while they set up the endpoint earlier, and it led to the fact virtualHost setting is ignored. For each scenario, if the url attribute is specified, that URL is returned before any of the strategies are attempted.   We should remind client of this mistake as well for their future configuration.  \n\n Reference (Optional)\n\nResetting the endpoint service cache in IBM Business Process Manager (BPM) \nhttps://www.ibm.com/support/pages/resetting-endpoint-service-cache-ibm-business-process-manager-bpm\n\nclearBPMEndpointServiceCache command\nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS8.6.0/com.ibm.wbpm.ref.doc/topics/rrefclearbpmendpointservicecache.html \n\nWebSphere Application Server 8.5.5.X Compatibility Report \nhttps://www.ibm.com/support/pages/websphere-application-server-detailed-system-requirements#8.5.5 \n\nBusiness Process Management Deployment Guide Using IBM Business Process Manager V8.5\nhttp://www.redbooks.ibm.com/abstracts/sg248175.html?Open&mhsrc=ibmsearch_a&mhq=bpm%20deployment%20guide%20redbook \n\nStrategies for identifying endpoint information\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.imuc.ebpm.doc/topics/rcfgepstrategies.html \n\nConfiguring endpoints for dynamic URLs \nhttps://www.ibm.com/support/pages/node/1074580 \n","wordCount":0,"topics":[],"type":"Content"},{"name":"EAR Deployment","description":"shyuan@cn.ibm.com","owner":"@Yuan Shang","path":"/BusinessProcessManager/ApplicationManagement/EARDeployment","text":"2019-11-1\n\nOverview\n\nAfter you develop and test a service module in IBM Integration Designer and are satisfied that the module is working as designed, you can deploy it into the runtime environment.  Business Process Manager enables you to deploy and run business integration components such as BPEL business processes, human tasks, business state machines, business rules, and other components. The process of deployment is the topic of this chapter. \n\n Prerequisites (Optional)\n\nThis chapter requires our audience to get prepared on what an EAR file is and how it gets deployed to a BPM server. \n\nDeploying BPM Service Modules\nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS_8.6.0/com.ibm.wbpm.admin.doc/topics/cdplyovw.html \n\nWebSphere Application Server: Deploying Applications\nhttps://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/welc6topdeploying.html \n\nComponent\n\nUnlike Snapshot deployment, EAR deployment is not a function BPM owns but borrows from WebSphere Application Server.  From the perspective of application install or deploy, BPM doesn’t change the fundamental mechanism on how it works.  Therefore, to understand how an EAR gets deployed, we will need to get back to WebSphere Application Server. \n\n1.Enterprise Application Deployment\n\nAs part of deploying an application, you install application files on a server configured to hold installable modules. \n\nYou can install the following enterprise modules on a server:\nEnterprise archive (EAR)\nEnterprise bean (EJB)\nWeb archive (WAR)\nSession Initiation Protocol (SIP) module (SAR)\nResource adapter (connector or RAR)\nApplication client modules\n\nEAR file is one of the enterprise application modules we are going to cover in the article. \n\nWebSphere Application Server provides a few different ways to install the modules including the administrative console, adding modules to the monitored directory, wsadmin command line, and Java programs. \n\nWays to install enterprise applications or modules\nhttps://www.ibm.com/support/knowledgecenter/SSAW578.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/crunapp_install.html \n\n2.EAR File Overview\n\nAn EAR file is a critical piece in deploying a service application to a production server. It is a compressed file that contains the libraries, enterprise beans, and JAR files that the application requires for deployment.\n\nYou create a JAR file when you export your application modules from Integration Designer. Use this JAR file and any other artifact libraries or objects as input to the installation process.  The serviceDeploy command creates an EAR file from the input files that contain the component descriptions and Java code that make up the application.\n\nBPM have some default applications installed once you have your deployment environment ready. You could take a look at the EAR packages along with them as examples.   Location: /installroot/profiles/profilename/installedApps/\n\n3.Libraries and JAR files Overview\n\nModules often use artifacts that are located in libraries, which are special projects in Integration Designer used for storing shared resources. At deployment time, Integration Designer libraries are transformed into utility JAR files and packaged in the applications to be run.\n\nWhile developing a module, you might identify certain resources or components that could be used by other modules. These artifacts can be shared by using a library.\n\nLibrary\n\nA library is a special project in Integration Designer that is used for the development, version management, and organization of shared resources, such as those resources that are typically shared between modules. Only a subset of artifact types can be created and stored in a library, including:\n\nInterfaces or web services descriptors (files with a .wsdl extension)\nBusiness object XML schema definitions (files with an .xsd extension)\nBusiness object maps (files with a .map extension)\nRelationship and role definitions (files with a .rel and .rol extension)\n\nIn BPM, a JAR file also contains an application, which is the assembled version of the module with all the supporting references and interfaces to any other service components used by the module. To completely install the application, you need this JAR file, any other dependent JAR, web services archive (WAR), resource archive (RAR), staging libraries (Enterprise JavaBeans) JAR files, and any other archives. You then create an installable EAR file using the serviceDeploy command. \nThe figure below shows how an application contains components and related libraries.\n\n4.Installation Procedure\n\nAs mentioned above, you can either use the administrative console or a script to install the application. \n\nUsing Script:\n\n1.Copy the module and other files onto the production server. The modules and resources (EAR, JAR, RAR, and WAR files) needed by the application are moved to your production environment.\n\n2.Run the serviceDeploy command to create an installable EAR file. This step defines the module to the server in preparation for installing the application into production.\n\n&nbsp;&nbsp;&nbsp;&nbsp;a. Locate the JAR file that contains the module to deploy.\n&nbsp;&nbsp;&nbsp;&nbsp;b. Issue the serviceDeploy command using the JAR file from the previous step as input.\n\n3.Install the EAR file from step 2. How you install the applications depends on whether you are installing the application on a stand alone server or a server in a cell.\n\n4.Save the configuration. The module is now installed as an application.\n\n5.Start the application.\n\nServiceDeploy:\nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS8.6.0/com.ibm.wbpm.ref.doc/topics/rdevservicedeploy.html \n\nUsing Administrative console: (As this is the method is provided by WebSphere Application Server, I will only put link here for reference.) \nhttps://www.ibm.com/support/knowledgecenter/SSAW578.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/trunappinstalldefault.html?pos=2 \n\nTroubleshooting\n\nBased on our experience, we have two types typical issues falling into this category.   First is about clients’ own libraries or module design at Integration Designer.   Second is about the install/deploy mechanism maintained by WebSphere Application Server team. \n\n Data Collection\n\nWe have two sets of mustgather materials we usually use to collect data from clients.  \nIf the issue is related to BPM/IID capability, product design, BPEL, and SCA module, here is the list of data collection.\n\n1.Log Files + Trace\n\nTrace String\n<table border=\"1px solid #ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    Description\n    Trace string\n  \n  \n    General trace string On DMgr and App cluster members\n    =info:WAS.clientinfopluslogging=all: com.ibm.bpm.=all\n  \n  \n    SCA and bindings issues On DMgr\n    SCA.=all:SCA.Bindings.=all\n  \n  \n    BPEL issues On DMgr and App cluster members\n    com.ibm.bpe.*=all\n  \n\n  \n    WAS config and sync On Dmgr\n    com.ibm.ws.management.=all:  com.ibm.websphere.management.=all\n  \n  \n    Authorization issues\n    com.ibm.ws.security.*=all\n  \n\nThe log files need to be gathered from the deployment manager profile and each node containing an app cluster member. If the needed trace is not clear just provide the log files. \n\n2.EAR or TWX export\nIf your issue is with EAR deployment, provide the EAR you are attempting to deploy. \nLet us know how the EAR was created. \nWe may also need a PI export from IID if there are issues with the EAR. \n\nIf your issue is with a snapshot deployment, provide a TWX export of the snapshot you are trying to install as well. \n\n3.Profile config directory\n\nIn certain situations, we will need config information from the profiles. This is often the case if the install is failing to find certain files/classes and with application startup issues. If this is needed provide the following directories: \n\n/config directory from the DMgr profile\n/installedApps directory from the App cluster profile\n\nCollect troubleshooting data for EAR or Advanced Snapshot deployments with the IBM Business Process Manager (BPM) products\nhttps://www.ibm.com/support/pages/collect-troubleshooting-data-ear-or-advanced-snapshot-deployments-ibm-business-process-manager-bpm-products \n\nIf the issue is related to the installation process itself rather than the modules clients try to deploy, Or we could see the pretty obvious WAS strack from the trace collected at the first round based on the trace string given above like the exception of EJB modules or calls, engage WAS team on this could be another possible route.  The following items are the data we need to help client to prepare for WAS team. \n\nEAR File (Copy of the application) \nWebSphere Application Trace + WAS Collector\n\na. If possible, stop all WebSphere processes and clear the following directory: profile_root/logs\nb. Restart the Deployment Manager or Application Server process.\nc. Set the following Runtime mode trace:\n  In the administrative console, navigate to Troubleshooting  Logs and Trace  dmgr  Diagnostic Trace  Change Log Detail Levels.\n  Select the Runtime tab.\n\nNote: If you are in a Base environment, select server1 instead of the dmgr server. If the problem is the application is not expanded to the installedApps directory, then also enable the traces on the Node Agent process as well.\n  In the Change Log Detail Levels, modify the existing trace string to:\n=info:com.ibm.ws.console.app=all:com.ibm.ws.management.application.=all:com.ibm.websphere.management.application.=all\n  If the issue is coming from annotation scanning, modify the existing trace string to:\n=info:com.ibm.ws.console.app=all:com.ibm.config.eclipse.wtp=finer:com.ibm.ws.ecs=finer:com.ibm.config.annotations=finer:com.ibm.ws.management.application.=all:com.ibm.websphere.management.application.=all\n  Click Apply or OK so that the trace string is saved.\n\nd. If you are using wsadmin, enable the following tracing: \n  Modify the wsadmin.properties file located in the following directory:\nprofile_root/properties\n\nReplace the following line:\ncom.ibm.ws.scripting.traceString=com.ibm.*=all=enabled\nTo following line:\ncom.ibm.ws.scripting.traceString=com.ibm.ws.scripting.AdminAppClient.=all=enabled:com.ibm.ws.scripting.AbstractShell.=all=enabled:com.ibm.ws.management.=all=enabled:com.ibm.websphere.management.=all=enabled\nIf the issue is coming from annotation scanning, replace with following line instead:\ncom.ibm.ws.scripting.traceString=com.ibm.ws.scripting.AdminAppClient.=all=enabled:com.ibm.ws.scripting.AbstractShell.=all=enabled:com.ibm.ws.management.=all=enabled:com.ibm.websphere.management.=all=enabled:com.ibm.config.eclipse.wtp=fine=enabled:com.ibm.ws.metadata.annotations.=all=enabled:com.ibm.ws.websvcs.annotations.=all=enabled\ne. Recreate the problem.\nf.  Save a screen capture of the administrative console if an error is displayed on the console screen. \ng. Run the collector tool.\n\nMustGather: Problems during deployment of EAR/JAR/WAR files in WebSphere Application Server Traditional\nhttps://www.ibm.com/support/pages/mustgather-problems-during-deployment-earjarwar-files-websphere-application-server-traditional\n\nData Analysis\n\nTo diagnose an EAR deployment issue, it’s important to isolate the scope of problems and narrow down what possible root causes could be.  Before requesting data, some questions may help you as well. \n\nQuestion: \nWhether this issue happened to a specific application and jar file?  Or all of the applications hit this problem?  \n\nIf the problem only occurred on one specific application/Jar file, we might want to put our focus on the content of this application and it’s specific install process, \n\nIf the problem happened to ALL applications and files, the install service we provided or the environment may have issues, you probably want to ask if the client conducted any upgrade or environment changes on his/her end. \n\nTrace Stack:\n\nLike snapshot deployment you will need to understand the keyword of the installation process from the track stack to determine the time of start and ends of this deployment attempt. \nFor example,\nKeywords: thread name ‘InstallSchedu’\n[9/14/17 16:53:33:015 GMT+05:30] 00000619 InstallSchedu I ADMA5016I: Installation of BPMTestFlowNew_V1App started.\n\n[9/14/17 16:53:48:590 GMT+05:30] 00000619 InstallSchedu I ADMA5014E: The installation of application BPMTestFlowNew_V1App failed\n\n[3/20/18 4:36:14:285 GMT] 00000132 InstallSchedu I   ADMA5013I: Application BPMTestFlowNew_V1App installed successfully.\nNext, we will need to look into the error stack at ffdc to see which component it’s possibly related to. \n[8/24/16 14:59:19:183 EDT] 00000171 FfdcProvider W com.ibm.ws.ffdc.impl.FfdcProvider logIncident FFDC1003I: FFDC Incident emitted on /opt/IBM/BPM/profiles/Dmgr01/logs/ffdc/dmgrbac390c716.08.24_14.59.19.1135999813550397244176.txt com.ibm.ws.management.application.SchedulerImpl.run 328\n[8/24/16 14:59:19:197 EDT] 00000171 InstallSchedu I ADMA5014E: The installation of application BPM TestOutboundApp failed.\n\nOpen the FFDC pointed, locate this NPE thrown to see the details. \n\nKeywords: DMGRDeployedBPCApplicationResolver.getDeployedBPCApplications\n[8/24/16 14:59:19:113 EDT] FFDC Exception:java.lang.NullPointerException SourceId:com.ibm.ws.management.application.SchedulerImpl.run ProbeId:328 Reporter:java.lang.Class@43240c3e\njava.lang.NullPointerException\nat com.ibm.bpe.management.application.DMGRDeployedBPCApplicationResolver.getDeployedBPCApplications(DMGRDeployedBPCApplicationResolver.java:566)\nat com.ibm.bpe.management.application.DMGRDeployedBPCApplicationResolver.isTemplateAlreadyDeployedOnTarget(DMGRDeployedBPCApplicationResolver.java:617)\nat com.ibm.bpe.management.application.DMGRDeployedBPCApplicationResolver.isProcessTemplateAlreadyDeployedOnTarget(DMGRDeployedBPCApplicationResolver.java:594)\nat com.ibm.bpe.management.application.TargetHasProcessTemplateNotAlreadyConfiguredRule.verify(TargetHasProcessTemplateNotAlreadyConfiguredRule.java:73)\nat com.ibm.bpe.management.application.AbstractDeploymentTask.runVerificationRules(AbstractDeploymentTask.java:371)\nat com.ibm.bpe.management.application.AbstractDeploymentTask.performTask(AbstractDeploymentTask.java:100)\nat com.ibm.ws.management.application.SchedulerImpl.run(SchedulerImpl.java:315)\nat java.lang.Thread.run(Thread.java:796)\nWe could confirm that it’s not a WAS issue and BPM/WPS code plays an important role here. And we could try to request the PI and try to install it locally to verify our guess.  At this point, if there is no known issue can be found, you might want to seek help from BPM L3 and point out this exception to them. \n\nHere for this case, based on our experience, to install a SCA application, one of the very tricky questions is that client may try to install and uninstall or fail to install an application for many times.  It’s reasonable that they want to try multiple times if the first one didn’t work.   However, they may forget to clear the configuration workspace created by the previous attempts. \n\nTherefore, we usually search the name of application or ear at the history logs and we found\nADMR0015I: User admin created document cells/mycell01/applications/ BPM _TestOutboundApp.ear/ BPM TestOutboundApp.ear.\nIf you asked client to provide all of the historical logs, you might be able to see the failed attempt initiated earlier before this attempt. \n\nIt shows that they cannot install an SCA application with BPEL content to the Process Server even though the application is not already installed and its artifacts do not exist in the file system. A NullPointerException is thrown with getDeployedBPCApplications. \n\nPI File\n\nExcept for pure EAR deployment, a snapshot install could fail caused by the advanced component in it.   We also classify this part of issue as EAR deployment failure due to its root cause.  \n\nFor example, a snapshot install could fail if clients have associated advanced content modules with the problematic  snapshot although they do not contain any AIS services or SCA components. \n\nError Stack:\nCWLLG2164E: Install did not complete successfully because of an unexpected exception. Error:  /tmp/tmp_8509242345/import.zip7171900072405698481\n    com.ibm.bpm.pal.PALException: Failed to execute advanced transition, Error: Process app was not started.\nIn Process Center, you might see an exception that is similar to the following text:\nCWLLG2164E: Install did not complete successfully because of an unexpected exception.\ncom.ibm.bpm.fds.common.FDSException: Failed to process contribution dependency, \nat com.ibm.bpm.pal.action.BaseActionsImpl.executeAction(BaseActionsImpl.java:363)\nat com.ibm.bpm.pal.action.ProcessServerActionsImpl.snapshotDeployed(ProcessServerActionsImpl.java:59)\nat com.ibm.bpm.flm.impl.WLEInstallSnapshotHelper.performDeployment(WLEInstallSnapshotHelper.java:235)\nat com.ibm.bpm.flm.impl.WLEInstallSnapshotHelper.deploySnapshot(WLEInstallSnapshotHelper.java:157 \nOn the target Process Server deployment manager, you might see the following exception:\nCWWMH0197E: Problems were encountered while attempting to start business-level application \"WebSphere:blaname=MYPA-S1\".  It is possible that the business-level application is not running or is only partially running.  Please refer to FFDC log entries for details on any failures which were encountered. \nOn the target Process Server application cluster, you might see an error that is similar to the following text:\nCWLLG2164E: Install did not complete successfully because of an unexpected exception. Error:  /tmp/tmp_856858345/import.zip123545775698481\ncom.ibm.bpm.pal.PALException: Failed to execute advanced transition, Error: Process app was not started. \nOn the target Process Server application cluster, FFDC files might show various exceptions that get the status for the BLA or one of its components. For example:\nRedundantStateChangeException: Composition Unit WebSphere:cuname=HSAV1-T1-HiringSampleAdvancedv801Library_0001.jar,cuedition=BASE already started \nDepending on the version, you might notice warning messages during the installation process that are similar to the following text when the uninstall phase occurs:\nCWSAM0001W: Package does not contain SCA artifacts.\nThis is an issue happened with quite high frequency, many clients are not cautious on their application design and don’t pay attention on these ‘empty’ modules they didn’t intend to create and lead to this issue.     For this case, we could help client to import their PI and found the empty SCA component which blocks the deployment process.  \n\nEngage WebSphere Application Server Team\n\nFor more other situations, we need to engage WAS team as the fundamental code for EAR deployment is owned by them.   Here are some general tips for the issues we should consult them for help. \n\nException is thrown from the calls to EJB deploy\nDeployment target cannot be found,  like ObjectName, nodeName, serverName…etc. \nIf client didn’t use serviceDeploy and console but other script provided by WAS as install method\n\nBesides, here is a list of common WAS issues happened during application deployment for reference.\nhttps://www.ibm.com/support/pages/troubleshoot-application-deployment-issues \n\n Reference (Optional)\n\nDeploying BPM Service Modules\nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS_8.6.0/com.ibm.wbpm.admin.doc/topics/cdplyovw.html \n\nWebSphere Application Server: Deploying Applications\nhttps://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.nd.multiplatform.doc/ae/welc6topdeploying.html \n\nCollect troubleshooting data for EAR or Advanced Snapshot deployments with the IBM Business Process Manager (BPM) products\nhttps://www.ibm.com/support/pages/collect-troubleshooting-data-ear-or-advanced-snapshot-deployments-ibm-business-process-manager-bpm-products \n\nMustGather: Problems during deployment of EAR/JAR/WAR files in WebSphere Application Server Traditional\nhttps://www.ibm.com/support/pages/mustgather-problems-during-deployment-earjarwar-files-websphere-application-server-traditional#\n\nCommon WAS issues happened during application deployment.\nhttps://www.ibm.com/support/pages/troubleshoot-application-deployment-issues \n\nEducation Decks Shared by WASADM Team\nhttps://ibm.ent.box.com/s/zfsjxdmy9dai7o27f1rmcvs8gqi6yped/folder/47185220988 \n\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Snapshot Management","description":"shyuan@cn.ibm.com","owner":"@Yuan Shang","path":"/BusinessProcessManager/ApplicationManagement/SnapshotManagement","text":"2019-11-4\n\nOverview\n\nSnapshots record the state of library items within a process application or track at a specific point in time. You can create snapshots in the Process Center console or in IBM Process Designer. Snapshot management, such as installing, exporting, and archiving, is performed in the Process Center console.\n\n Prerequisites\n\nThis topic requires the basic understanding of BPM Process Center console and Process Designer.  Before reading the troubleshooting part, it’s suggested to have a good grasp of process application lifecycle from development to deployment. \n\nComponent\n\n1. Process Center\n\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;\tFrom the Process Center console, users can create process applications and toolkits and grant other users access to those process applications and toolkits.\n\n&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;\tUsers in IBM Process Designer create process models, services, and other assets within process applications and toolkits.\n\n&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;\tThe Process Center includes two main features-a Process Center server and Performance Data Warehouse. These features allow users working in Process Designer to run their process applications and store performance data for testing and playback purposes during development efforts.\n\n&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;\tFrom the Process Center console, administrators install process applications that are ready for testing or production on the Process Servers in those environments.\n\n2. Process Application, Track and Snapshot\n\n&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;\tProcess Application (Project) : Containers for the process models and supporting implementations that BPM analysts and developers create in Process Designer. You should create a process application for each business process to be automated using BPM.\n\n&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;\tTrack (Branch): Optional subdivisions in a process application based on team tasks or process application versions. You can determine if additional tracks are necessary for each process application and, if so, enable them at any time. \n\n&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;\tSnapshot: Record the state of the items within a process application or track at a specific point in time. From the Process Center console, you can create snapshots of your process applications. You can also deploy particular snapshots of your process applications on the process servers in development, test, staging, and production environments.\n\n&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;\tToolkit: Users can create toolkits to enable Process Designer users to share library items across process applications. Process applications can share library items from one or more toolkits, and toolkits can share library items from other toolkits.  A toolkit cannot be deployed on its own. \n\n&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;\tBLA: Business Level Application, any advanced content such as a module or library from Integration Designer. EARs and JARs created. \n\n3. Snapshot Deployment\n\nWhen you install a process application snapshot to a process server, the library items for that snapshot (including toolkit snapshots) are copied from the repository to the selected process server if they do not already exist on the process server. The process server can be connected or offline. Depending on your needs and whether the process server is connected or offline, you can use the Process Center console or wsadmin commands to install the snapshots.\n\nRepository Concepts:  https://ibm.box.com/s/k3xa5ftsgvbmycptjy23qgmsb7dysedv\nManaging and sharing assets in the Process Center repository\nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS8.6.0/com.ibm.wbpm.admin.doc/topics/managingrepos_main.html \nInstalling process application snapshots to a connected Process Server\nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS8.6.0/com.ibm.wbpm.admin.doc/topics/tadminstallextendedprocessapp.html \nInstalling snapshots to an offline server\nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS8.6.0/com.ibm.wbpm.admin.doc/topics/tinstallingapps.html\n\n Troubleshooting\n\nTwo types of issues covered in this section are snapshot deployment and repository management. These two categories shared most of the data listed at data collection part, and we investigate them from different perspectives. \n\nData Collection\n\n1. Log files + Trace\n\nTrace String:\n<table border=\"1px solid ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    General Trace String:\n    =info: WLE.=all: WAS.clientinfopluslogging=all: com.ibm.bpm.fds.*=all: ProcessApplicationLifecycle=all\n  \n  \n    Authorization Issues:\n    Include: com.ibm.ws.security.*=all\n  \n  \n    Connectivity Issues:\n    Include: com.ibm.bpm.endpoint.=all:org.apache.commons.httpclient.=all\n  \n  \n    Lightweight tracing:\n    WLE.wledeploy=all:WLE.wleexpimp=all\n  \n\n* *Regarding to the Advanced Content deployment issue, we will cover it under the topic of EAR deployment.\n\nNote:\n\nBefore enabling the trace, you may also need to increase the trace file size and number if the logs are rolling too fast. 20MB is a good starting point for the file size and you shouldn't increase it over 50MB. \nPlease make sure you enable the trace on both Process Center and Process Server. \n\n2.\tTWX File of the problematic snapshot\n\n3.\tConfiguration Files\n\nIf the issue is not clearly related to a specific configuration, request the entire configuration directory under DMGR profile could give us better understanding.  Directory: /dmgr_root/config/\n\nIf the issue is about PC PS connection, the following list of configuration files may help for further precise investigation. Please make sure you request them from BOTH PC and PS environments. \ninstallroot/profiles/dmgrname/config/cells/cell_name/cell-bpm.xml\ninstallroot/profiles/dmgrname/config/cells/cell_name/security.xml\ninstallroot/profiles/dmgrname/config/cells/cellname/clusters/clustername/cluster-\nbpm.xml (if you have more than one cluster, use the appTarget cluster here) \n\nIf there is any of the runtime configuration attributes is related to the issue, collect the specific configuration file and also request the runtime TWCR.xml file from the location below:\n\nManagedNodeProfileROOT\\config\\cells\\cellname\\nodes\\nodename\\servers\\servername\\process-center(server)\\config\\TeamWorksConfiguration.running.xml\n\n4. Related Database Tables\n\nFor most snapshot related issues,  it is helpful to have the following 3 snapshot related tables from the BPMDB. Depending on the issue there are various other tables that can provide useful data. \n    LSW_SNAPSHOT\n    LSW_BRANCH\n    LSW_PROJECT\n\nFor Snapshot Deployment specific issues, following tables could help as well. \n    Process Center: LSWSERVER; LSWDEPLOYMENT; LSWDEPLOYMENTPACKAGE\n    Process Server: LSW_INSTALLATION\n\nFor issues of repository, there could be various Persistent Objects (PO) related, we could request specific tables based on the objects client have problem with.  For instance, if clients cannot view or update the environment variables successfully, we may want to request the table LSWENVVAR and other related tables. \n\nData Analysis\n\nThe key of data analysis is to find out where or at which point the problem is.   The detailed analysis of data may depends on the case by case, most of the repository issues could end up with either database problems (data corruption or inconsistency) or Process Center issues (access permission, front-end issue..etc.) It’s relatively hard to locate and find where the problem is for snapshot deployment issues. Therefore, we will put our focus on snapshot install at this section.\n\nBPM provides two types of snapshot installation process, one is online install, and another is offline, to Diagnose and locate the point at which clients fail their snapshot install, we will need to understand all of the steps this procedure involves. \n\n1. PC PS Online Connection Mode\n\nA must-have prerequisite for any successful online deployment is that the connections between PC and PS are established and healthy. Therefore, we need to firstly guarantee the connection was good before the install started.  \n\nChecking the connection requires us to understand the basic connection mode behind PC and PS.  It’s not PC firstly connect to PS when developers decide to install a snapshot; Process Server chooses to configure to a particular Process Center repository at the first place.  The configuration at PS side can be performed during the PS deployment environment creation, and it can be also modified after that.     All of the configuration of the target Process Center will be stored at configuration files (bpm-cluster.xml) at Process Server side.   Once the configuration steps are well conducted, Process Server starts to send periodic heartbeats to Process Center.  Each heartbeat can be recorded at server logs and trace, and the contains the data of the Process Server itself including it’s host, port, user authentication alias and installed snapshots.  These data of Process Server will be sent and is supposed to be saved at Process Center’s database table named LSW_SERVER. \n\nIf all of the steps above are perfectly achieved, once a developer want to initiate a snapshot install, the Process Center will use the information stored at LSW_SERVER, connect to the specific Process Server, and send the deployment package to Process Server as expected. \n\nAny mistakes or problem at any steps mentioned above including misconfiguration, security (SSL) issue, or connection issues could abort the connection and lead to a fail snapshot install at the very beginning. \n\nTherefore, we could determine whether it’s a connection issue by checking the logs and trace and then use the configuration files and table output of LSW_SERVER to help verify the health of the connection.\n\nFor instance, if we see the snapshot install failed while PC trying to send package to PS as the trace below, we could firstly narrow the scope of the issue to the ‘connection’ between PC and PS. \n\nKeywords: installation failed after ‘Request Message for sending installation package to server .’\n[6/2/17 10:21:37:888 GMT+05:30] 000035f2 AbstractSuppo I   CWLLG0154I: test1 Remote login succeeded.\n[6/2/17 10:21:37:888 GMT+05:30] 000035f2 AbstractSuppo I   CWLLG0714I: test1 Sending export.\n[6/2/17 10:21:37:889 GMT+05:30] 000035f2 wle_deploy    3   Request Message for sending installation package to server ...\norg.apache.commons.httpclient.methods.PostMethod@6fdd7b6\n[6/2/17 10:21:37:889 GMT+05:30] 000035f2 wle_deploy    3   Sending request to server for snapshot deploy\n[6/2/17 10:21:38:556 GMT+05:30] 000035f2 HttpMethodBas 3 org.apache.commons.httpclient.HttpMethodBase getContentCharSet enter getContentCharSet( Header contentheader )\n[6/2/17 10:21:38:556 GMT+05:30] 000035f2 HttpMethodBas 1 org.apache.commons.httpclient.HttpMethodBase getContentCharSet Default charset used: ISO-8859-1\n[6/2/17 10:21:38:556 GMT+05:30] 000035f2 wle_deploy    3   Sending installation package to server failed!, Error Message ... \nMoved Temporarily, HTTP Code : 302\nGiven the error code HTTP 302, meaningful attempts are checking the connection configuration including security certificate between PC and PS, ruling out the possibilities caused by snapshot itself, confirming with client on their proxy/web server setting and other network topology,  and adding connectivity trace for further replication. \n\n2. Snapshot Deployment Procedure\n\nIf the snapshot package reaches to the Process Server successfully and start the installation service, we will need to concentrate on the log & trace on PS side as PC doesn’t play an important role at the following steps.  \n\nInstall the necessary library items and assets for the process application and referenced toolkits.\nRun the deployment service flow for each toolkit.\nRun the deployment service flow for the process application.\nMigrate data and process instances if there are running business process definition instances. \nSend tracking definitions to the Performance Data Warehouse.\nActivate scheduled undercover agents (UCAs).\nDeploy advanced content. \nOn a connected process server, send a message saying the installation is complete.\n\nBoth logs and trace enabled at PS side are quite readable and we could easily identify each phase of this procedure from the trace. \n\nPS Log   Keywords: thread ‘InstallMessag’\n\nInstall Request Received\n[3/1/18 16:45:05:545 CST] 00002469 InstallMessag I   CWLLG3578I: [BEGIN]  The process server received a request to install process application Test Application(TA), snapshot V839(V839) from the Process Center.\n[3/1/18 16:45:05:591 CST] 00002469 InstallMessag I   CWLLG3578I: [END]  The process server received a request to install process application Test Application(TA), snapshot V839(V839) from the Process Center.\nInstallation Service Triggered\n[3/1/18 16:45:06:716 CST] 00002469 InstallMessag I   CWLLG3579I: [BEGIN]  Starting the installation of process application Test Application(TA), snapshot V839(V839) as user deadmin.\n[3/1/18 16:45:06:841 CST] 00002469 InstallMessag I   CWLLG3579I: [END]  Starting the installation of process application Test Application(TA), snapshot V839(V839) as user deadmin.\nDevelopment Service for Each Toolkits and Process Application\n[3/1/18 16:45:06:841 CST] 00002469 InstallmentSt I   CWLLG3533I: Process Application: BPM Test Project, Snapshot: V101: The snapshot is being imported.\n[3/1/18 16:45:07:107 CST] 00002469 InstallMessag I   CWLLG3580I: [BEGIN]  Installing the library items and assets for the process application and referenced toolkits.\n[3/1/18 16:45:07:341 CST] 00002469 InstallMessag I   CWLLG3581I: [BEGIN]  Installing toolkit BPM Test Adapter(BTDEA), snapshot V024(V024).\n[3/1/18 16:45:23:044 CST] 00002469 InstallMessag I   CWLLG3581I: [END]  Installing toolkit BPM Test Adapter(BTDEA), snapshot V024(V024).\n[3/1/18 16:46:00:419 CST] 00002469 InstallMessag I   CWLLG3582I: [BEGIN]  Installing process application Test Application(TA), snapshot V839(V839).\n[3/1/18 16:46:14:950 CST] 00002469 InstallMessag I   CWLLG3582I: [END]  Installing process application Test Application(TA), snapshot V839(V839).\n[3/1/18 16:46:15:200 CST] 00002469 InstallMessag I   CWLLG3580I: [END]  Installing the library items and assets for the process application and referenced toolkits.\nMigrate BPD Instances\n[3/1/18 16:46:16:887 CST] 00002469 InstallMessag I   CWLLG3586I: [BEGIN]  Migrating global data.\n[3/1/18 16:46:16:903 CST] 00002469 wle_migration I   Migrating instances & data to snapshot: Snapshot.e7fed5e4-c865-49a0-a9b2-f14ebfcca53b\n[3/1/18 16:46:16:903 CST] 00002469 wle_migration I   Source snapshots to be migrated: []\n[3/1/18 16:46:16:903 CST] 00002469 wle_migration I   Source snapshots to be deleted: []\n[3/1/18 16:46:17:059 CST] 00002469 InstallMessag I   CWLLG3586I: [END]  Migrating global data.\n[3/1/18 16:46:17:090 CST] 00002469 InstallmentSt I   CWLLG3540I: Process Application: BPM Test Project, Snapshot: V101: The data for the snapshot was migrated successfully.\n[3/1/18 16:46:17:090 CST] 00002469 InstallmentSt I   CWLLG3541I: Process Application: BPM Test Project, Snapshot: V101: The instances of the snapshot are being migrated.\n[3/1/18 16:46:17:090 CST] 00002469 InstallMessag I   CWLLG3587I: [BEGIN]  Migrating process instances.\n[3/1/18 16:46:17:106 CST] 00002469 InstallMessag I   CWLLG3587I: [END]  Migrating process instances.\n[3/1/18 16:46:17:106 CST] 00002469 InstallmentSt I   CWLLG3542I: Process Application: BPM Test Project, Snapshot: V101: The instances of the snapshot were migrated successfully.\nSend Tracking Definition\n[3/1/18 16:46:17:121 CST] 00002469 InstallMessag I   CWLLG3588I: [BEGIN]  Sending tracking definitions to the Performance Data Warehouse server.\n[3/1/18 16:46:19:356 CST] 00002469 InstallMessag I   CWLLG3588I: [END]  Sending tracking definitions to the Performance Data Warehouse server.\nActivate Scheduled Undercover Agents\n[3/1/18 16:46:19:418 CST] 00002469 UCASchedulerH I   CWLLG3550I: Process Application: BPM Test Project, Snapshot: V101: The scheduled UCAs for the snapshot are being activated.\n[3/1/18 16:46:19:496 CST] 00002469 UCASchedulerH I   CWLLG3551I: Process Application: BPM Test Project, Snapshot: V101: The scheduled UCAs for the snapshot were activated successfully.\nDeploy Advanced Content\n[3/1/18 16:46:21:075 CST] 00002469 InstallMessag I   CWLLG3593I: [BEGIN]  Assembling and deploying advanced content.\n[3/1/18 16:46:21:075 CST] 00002469 InstallMessag I   CWLLG3598I:  Will wait at most 720 seconds for the BLA creation and deployment to complete. If the timeout occurs, the deployment of the BLA will continue but the install will report a failure.\n[3/1/18 16:46:21:340 CST] 00014207 Job           I   CWPFD2037I: The business level application preparation phase started for job e4397abe-a8b6-76s2-aee9-910ffb089879.\n[3/1/18 16:46:21:481 CST] 00014207 FDSExtensionH I   CWPFD3005I: Process Application: BPM Test Project, Snapshot: V101: Preparing installable content for the snapshot with the ID Snapshot.e7fed5e4-c865-49a0-a9b2-f14ebfcca53b\n[3/1/18 16:46:25:231 CST] 00014207 FDSExtensionH I   CWPFD3006I: Process Application: BPM Test Project, Snapshot: V101: Preparing advanced content\n…\n[3/1/18 16:46:33:481 CST] 00002469 InstallMessag E   CWLLG3604E:  The installation failed because the BLA deployment job failed. The failure message is: Service deploy failed with return code: -1. For additional error information, see the server logs.\n[3/1/18 16:46:33:496 CST] 00002469 InstallMessag I   CWLLG3593I: [FAIL]  Assembling and deploying advanced content.\nThe trace & logs with the keywords identified can help you easily locate the step client has problem with and most of them reveal the cause of the failure.  Like the example above, it failed while deploying the advanced content.  It’s more likely happened while the advanced Ear itself may contain any empty or incompatible content.  And we could add more advanced content trace to see the detailed stack trace and requested client to provide both TWX as well as the PI file to see if it’s possible to replicate the issue. \n\nIn summary, snapshot deployment issues could vary from snapshot design bug, environment upgrade failure, PC PS connection, advanced content issue, network, security and permission.  We are not able to cover all of the troubleshooting here.  This article introduces the basis and key to start working on a snapshot deployment issue, which is to locate the problematic step and isolate the possible root causes at the very first place. \n\n Reference\n\nCollect troubleshooting data for snapshot deployment and repository problems in IBM Business Process Manager (BPM) \nhttps://www.ibm.com/support/pages/collect-troubleshooting-data-snapshot-deployment-and-repository-problems-ibm-business-process-manager-bpm \nConfigure Process Server to connect to Process Center using command line\nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS8.6.0/com.ibm.wbpm.admin.doc/topics/tconnectto_pctr.html \nManaging and sharing assets in the Process Center repository\nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS8.6.0/com.ibm.wbpm.admin.doc/topics/managingrepos_main.html \nInstalling process application snapshots\nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS8.6.0/com.ibm.wbpm.admin.doc/topics/tinstallingsnapshots.html\nL2 Educational materials for Lifecycle\nhttps://ibm.ent.box.com/folder/89523256455 \n","wordCount":0,"topics":[],"type":"Content"},{"name":"Instance Migration","description":"shyuan@cn.ibm.com","owner":"@Yuan Shang","path":"/BusinessProcessManager/ApplicationManagement/InstanceMigration","text":"2019-11-4\n\nOverview\n\nWhen a new snapshot of a process application is deployed, users want to migrate the running process instances from the old version of the snapshot to the new one. This kind of migration is referenced as Instance Migration.   Not only process instances, snapshot data can be migrated using similar procedure as well.  We will cover both snapshot data and process instance migration at this article. \n\n Prerequisites (Optional)\n\nThis section requires basic knowledge of snapshot deployment process and how process instances work for each snapshot of a process application.  Also, it’s suggested to understand how snapshot data including EPV, ENV, team and UCA are managed as needed at an runtime environment.\n\nComponent\n\nMigration Tasks covers the migrations of both Snapshot Data and Process Instances\n\nSnapshot data migration\n\nWhile snapshot data is migrated, various settings are migrated from the source snapshot to the destination. These actions are all performed as one transaction. The data for EPV, environment variables (ENVs), and teams is migrated depending on the following behaviors. After migration, the source snapshot is deactivated and the target snapshot is activated. If the source snapshot was the default, that property is also transferred to the target.\n\nEPV data migration\n  Runtime EPV changes are migrated from the source snapshot to the target snapshot. An entry is added for each effective date and value pair. Default values set at design time are not migrated.\n  If the  property is set to true, a runtime EPV change is applied to each EPV during deployment with an effective date of the deployment time and a value equal to the EPV's default value.\n\nEnvironment variable migration\n  Runtime environment variable and server configuration settings are migrated from the source to the target snapshot. Default values set at design time are not migrated. The changes to the environment variable or server configuration that occur during run time are migrated from the source if they have a modified date that is more recent than any change that occurred at run time in the target snapshot. A change at run time always overrides the snapshot default settings.\n\nTeam migration\n  The contents of teams from the source are merged with the teams in the target. Any users or groups listed for a team from the source snapshot are added to the team in the target. Dynamic teams cannot be migrated.\nIf the  property is set to true, teams are not migrated.\n\nProcess instance migration\n\nProcess instances with a status of active, failed, or suspended are migrated from the source to the target snapshot. Each process instance is migrated in its own transaction. Multiple threads process the instance migration work based on the value of the  setting. \nDo not use the source and target snapshot processes during migration because doing so could lead to lock contention and failures.\n\nTask migration\nTasks are migrated depending on the  and  settings. Depending on the  setting, all task, all tasks except closed ones, or no tasks are migrated. \n\n  By default, all tasks except closed ones are migrated. When the task is migrated, references to source snapshot objects are updated to target snapshot objects. If  is false, the task execution context is loaded and migrated to the target environment. If objects are missing from the source snapshot, migration failures might occur when the execution context is loaded. If task or execution context migration is skipped, migration occurs the next time the task runs. Business object definition version references are not updated in the task execution context.\n\n  If tasks are not migrated, deleting snapshots those tasks refer to is prevented. Certain deprecated task assignment methods lead to dynamic teams which cannot be migrated from the source snapshot. These tasks will block the original snapshot's deletion until they are deleted. \n\n  If a token policy file is used, you can move or delete tokens associated with an orphaned activity during the instance migration. Some token migration failures will not prevent instance migration. If this occurs, you can perform the token commands after the instance migration is completed. If all tokens for a process are deleted, the process moves to the completed state. The Process Inspector in the Process Admin Console shows orphaned tokens if any were created from instance migration.\n\nSnapshot data and process instance migration overview:\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS_8.6.0/com.ibm.wbpm.admin.doc/topics/csnapshotandinstovw.html\n\n Troubleshooting\n\nThe migration failure of process instance and snapshot data could have a few different consequences.   Unlike other problems, they should be quite straightforward and easy to identify and troubleshoot.  More importantly, we have some corresponding remedies and solutions for most of the common issues, and I want to put my focus on the preventive suggestions at this section since our Standard Runtime section will cover the detailed troubleshooting part on how we could handle the runtime issues after instance migration.  Here I would like to bring up three typical scenarios for discussions: orphan token, unexpected symptoms after instance migration, and performance tuning issue during instance migration.  \n\nData Collection\n1.\tLog Files + Trace\n\nBecause snapshot data and instance migration can be triggered during snapshot deployment AND after a new snapshot gets installed manually.  Therefore, we could suggest client to enable the trace of snapshot deployment if the migration fails as a step of snapshot install. \n\nTrace String: \n=info: WLE.=all: WAS.clientinfopluslogging=all: com.ibm.bpm.fds.*=all: ProcessApplicationLifecycle=all\nIf it’s not happening during the snapshot deployment, but an in-flight data migration after installation, client could use the simplified database trace as below.\n\nTrace String:\n=info: WLE.=all: WAS.clientinfopluslogging=all\n\n2. DB Tables\n\nFor issues with instance migration, we are more likely to give a specific DB SQL query for client to run against their Process Server database and get the result back to us.  The SQL queries depend on the trace stack we find out at the 1. \n\nFor example, we could see the similar stack at the trace we collected:\nSELECT LSWBPDINSTANCE.INSTANCENAME as bpdname, \nLSWBPDINSTANCE.BPDINSTANCEID as bpdinstanceid, LSWBPDINSTANCE.DOCUMENTSSTATE as documentsstate FROM      LSWBPDINSTANCE\nWHERE      LSWBPDINSTANCE.EXECUTIONSTATUS IN (1, 3, 6) AND LSWBPDINSTANCE.SNAPSHOTID = ? AND MOD(LSWBPDINSTANCE.BPDINSTANCEID, ?) = ?\nOr we could check the specific instance which fails to migrate from source to target snapshot at the table LSWBPDINSTANCE.\n\n3. Configuration\n\nDue to the reason that we have different configuration properties which could decide how a instance migration works, we will need to check the runtime configuration file to make sure client set them correctly.   Client usually made changes on 100Custom.xml and we will check both 100Custom.xml and TeamWorksConfiguration.running.xml to verify the change. \n\nLocations: \nDmgrProfileRoot\\config\\cells\\cellname\\nodes\\nodename\\servers\\server_name\\process-server\\config\\system\\100Custom.xml\n\nManagedNodeProfileRooT\\config\\cells\\cellname\\nodes\\nodename\\servers\\servername\\process-\ncenter(server)\\config\\TeamWorksConfiguration.running.xml\nHere are some properties directly related to instance migration, we will need to pay close attention on them while checking the configuration files. \n\n4. TWX file\n\nUnder some circumstances, if we are not able to get direct evidence from trace and DB export, we may have to check the differences between two installed snapshot and helped client with the issue like orphan token. \n\nData Analysis\n\n1. Orphaned Token\n\nA token is a pointer that is associated with an activity. The token becomes orphaned when it is associated with an activity which has been deleted from the process.  When instance migration causes orphaned tokens, you must decide what to do with potential orphaned tokens or risk that the process instances won't complete.\n\nSome instance migrations fail with orphaned token, but some don’t.  Another typical symptom could be the migrated instances fail to proceed to certain steps.  We could verify this issue by either using log stack or checking the orphaned token via Process Admin console- Inspector. \n\nFor instance, you might see the very similar stack as below:\nCWLLG0531E: An exception occurred during migration. Log the error and move on to next instance.\ncom.lombardisoftware.core.TeamWorksException: Attempt to\naccess TWObject with classId TWClass.f1e801c6-7957-40b0-8659-27bb3ab1c9b3 that is not available\nrootContext=Snapshot.c137c120-ef38-4f82-a406-ff89ac6a6755\nat \ncom.lombardisoftware.core.TeamWorksException.asTeamWorksException(TeamWorksException.java:136)\nOr you might see the following exceptions while trying to access a particular instance at Process Admin console. \n\"CWTBG0047E:Process 'BPD.XXX-XXX-XXX-XXX-XXX' does not exist; it might have been deleted in the meantime\"\nMost of the orphan token issue are very obvious for us to find out.  The challenge for such issue is to implement the solutions as needed. \n\nTypical Recommendations:\n\na.\tApply Migration Policy File [Before migration]\n\nThe easiest way to identify and manage orphaned tokens is to generate a migration policy file and use it to specify whether each potential orphaned token should be moved or deleted during instance migration.\n\nInstruction on generating migration policy file before instance migration:\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.admin.doc/topics/managingorphanswithpolicyfile.html \n\nb.\tMove Token [After migration]\n\nIf you migrate process instances without using a policy file, orphaned tokens might be created. In this case, you can use the REST API client to move these orphaned tokens. \n\nInstruction on using REST API to move token\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS_8.6.0/com.ibm.wbpm.admin.doc/topics/tmovingtokens.html \n\nc.\tDelete Token [After migration]\n\nYou could also delete tokens if necessary.  To delete orphaned token, we offer both REST API and Process Admin console- Inspector to do this. \n\nREST API – Delete Token\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS_8.6.0/com.ibm.wbpm.admin.doc/topics/tdeletingtokens.html \nProcess Inspector – Delete Token\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS_8.6.0/com.ibm.wbpm.admin.doc/topics/tdeletingtokensinpi.html \n\n2. Unexpected symptoms After instance migration\n\nMany clients saw some unexpected symptoms after snapshot install or instance migration.  Other than the issues caused by orphaned token, clients may fail to delete the old snapshots, or the EPV/ENV values were not changed as expected.   Here is a case that we would like to bring up for discussion. \nProblem Description:\n\nWe migrated instances from snapshot A to snapshot B and then tried to delete the snapshot A as it’s no longer useful.  However, snapshot A cannot be deleted.\n\nError stack while executing the command line BPMDeleteSnapshot\nWASX7015E: Exception running command: \"AdminTask.BPMDeleteSnapshot('[-containerAcronym SASR -containerSnapshotAcronyms SAS_238 -force]')\"; exception information:\n\njava.lang.Exception: java.lang.Exception: You cannot delete a snapshot that is referenced by tasks belonging to BPD instances referencing another snapshot\nIn order to delete a snapshot successfully, we have to make sure there is no running instances & BPEL instances existing.  However, there is one situation which might block the snapshot deletion for that.  As client mentioned that they just performed instance migration from snapshot A to snapshot B, it’s possible that they left the closed or even all tasks on the snapshot A.   And the migrated instances which are related to these tasks could be still running. \n\nTherefore, we will firstly check whether they migrate all tasks to the new snapshot B or not.    We could verify this by enabling the trace suggested and find out the task ID which blocks the deletion.   Or we could check the configuration client used when they did the instance migration.  \n\nWe found the following stack from their configuration file 100Custom.xml and TeamWorksConfiguration.running.xml\n\nKeywords: migrate-tasks\n  \n\n5\n\nskip-closed\n\nfalse\n\n \nThe parameter  decides which tasks could be migrated.  Here are the three options for it. \n  \nChooses which tasks will be migration. The following options are availble: \n  all - Migrate all tasks\n  none - Migrate no tasks\n  skip-closed - Migrate all tasks except closed tasks\n\nSkip-closed is the default value in order to improve the performance of the entire process, and it also proved that there are closed tasks remained on snapshot A and led to this issue.   \n\nTo resolve this issue, we could either delete all of the closed tasks on snapshot A Or we could migrate the remaining closed tasks to a new snapshot then redo the snapshot deletion. \n\nDelete Tasks via Process Admin: https://www.ibm.com/support/knowledgecenter/en/SSFPJS8.6.0/com.ibm.wbpm.admin.doc/topics/bpmdbhealthtasks_delete.html \nDelete Tasks via command line BPMTasksCleanup\nhttps://www.ibm.com/support/knowledgecenter/en/SS8JB4/com.ibm.wbpm.ref.doc/topics/rref_bpmtaskscleanup.html \n\n3. Performance Tuning \n\nWork attempted on existing instances for the process app could slow down the instance migration process or cause failures. Large instance migrations could also put a heavy workload on the database.    Therefore, another type of issues reported for instance migration is performance tuning.  Because of the large amount of data transaction, our clients may experience very suspicious performance slowdown. And the reasons behind the slowness could be various. \n\nLet’s take a look at this trace stack:\nKeywords: addGroupToInternalGroup and InstanceMigrationCore.performParticipantGroupMigration\n[2/13/16 0:46:50:945 CST] 0000008d ThreadMonitor W WSVR0605W: Thread \"WebContainer : 4\" (00000130) has been active for 720,534 milliseconds and may be hung. There is/are 1 thread(s) in total in the server that may be hung. at\njava.net.SocketInputStream.socketRead0(Native Method) at java.net.SocketInputStream.read(SocketInputStream.java:140) at\ncom.ibm.db2.jcc.t4.z.b(z.java:199) at com.ibm.db2.jcc.t4.z.c(z.java:259) ... at com.lombardisoftware.client.delegate.InternalGroupsDelegateDefault.addGroupToInternalGroup(InternalGroupsDelegateDefault.java:409) at com.lombardisoftware.server.ejb.migration.PGMigration.migrating(PGMigration.java:87) at\ncom.lombardisoftware.server.ejb.migration.InstanceMigrationCore.performParticipantGroupMigration(InstanceMigrationCore.java:266) at\ncom.lombardisoftware.server.ejb.migration.InstanceMigrationCore.performGlobalMigration(InstanceMigrationCore.java:192) at com.lombardisoftware.server.ejb.migration.InstanceMigrationCore.migrateGlobalData(InstanceMigrationCore.java:130) \nThe stack above explains that the performance issue detected may have something to do with the participant groups.  And it’s reasonable for us to query the total number of records in related tables such as LSWPARTICIPANTGROUP.   And also, we could try to add the database trace to find out the specific SQL query.  It turned out the issue was caused by the large number of user groups, and we could recommend our client to purge the user group data.\n\nExcept for this, client may encounter performance issues like database lock contention, thread hung with timeout and so on. Here are some performance tuning best practice related to instance migration that we could always suggest client to check and test. \n\nBest Practice of Performance Tuning:\nThread pool size for instance migration. The default size of parameter  is 5. This is the number of threads that concurrently perform migration activities. \n  \n    To be noticed that all of the snapshot data (ENV, EPV and Team) migration are performed in one transaction.   To the contrary, each process instance is migrated in its own transaction. Multiple threads process the instance migration work based on the value of the setting. \n  \nMigrate completed tasks or not. The default value is set to skip completed tasks during migration. As I mentioned at the previous example, we have three options for parameter , migrate all tasks could affect the entire performance and total time in a very large extent.  \n\nDefer to updating task execution context during migration or not. \n\n  Because the execution context for a BPD instance or task is saved as a binary large object (BLOB) data type, the migration program has to load and deserialize the BLOB data, analyze, and update it, then serialize and save it back to the database. These are expensive database operations. If the volume of BPD instances and tasks that need to be migrated is large, the overall instance migration time can be significant.\n\n  Deferring to updating task execution context  means that the migration program will not load, analyze, and write back the task execution context to the database. This process can save much time for migration because task execution context is saved as a BLOB, which requires expensive operations to load from and save to a database. The task execution context will be updated when the task is loaded in the future.\n\nPurge application data before instance migration \n\n  Data purge is also a good remedy for instance migration performance issue, we mainly focus on BPD instances and tasks as these data play significant roles on database activities.   We could use both PAC console and command lines BPMTasksCleanup BPMProcessInstancePurge to perform such purging.  For more detailed information, please check our chapter for ‘Housekeeping.’ \n\n Reference (Optional)\n\nOpening a process instance migrated from an old snapshot causes the CWTBG0047E error to appear in IBM Business Process Manager\n https://www.ibm.com/support/pages/opening-process-instance-migrated-old-snapshot-causes-cwtbg0047e-error-appear-ibm-business-process-manager-bpm \nWhy are user / group lookup causing instance migration performance issue?\nhttps://www.ibm.com/mysupport/s/question/0D50z000062kIuuCAE/why-are-user-group-lookup-causing-instance-migration-performance-issue?language=en_US\nInstance Migration\nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS_8.6.0/com.ibm.wbpm.admin.doc/topics/csnapshotandprocessmig.html \n","wordCount":0,"topics":[],"type":"Content"},{"name":"IBM Integration Designer","description":"Andreas.Jaensch@de.ibm.com","owner":"@Andreas Jaensch","path":"/BusinessProcessManager/BPMDevToolsandRepository/IBMIntegrationDesigner","text":"Date：2019-11-20\n\nOverview\n\nIBM Integration Designer (IID) is an integrated development environment (IDE) for building applications based on service-oriented architecture (SOA). It is the authoring tool for IBM Business Process Manager Process Server and IBM WebSphere Enterprise Service Bus.\n\nIID is built on IBM Rational Application Developer (RAD) Eclipse based technology. \n\nProcess Server and WebSphere Integration Developer components:\n\n1. &nbsp;&nbsp;Service components\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Business State Machines\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Business Processes\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Human Tasks\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Business Rules\n        \n2. &nbsp;&nbsp;Supporting Services\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Business Object Maps\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Relationships\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Selectors\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mediation Flows\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adapters\n3. &nbsp;&nbsp;SOA Core\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Service component architecture\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Business Objects\n        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Common Event Infrastructure\n\nThe information below gives you an overview of the product, starting with product installation, upgrade and configuration, sample use cases for self-study, and finally a section with information about troubleshooting in case of problems come up to you while using that tool.\n\n Prerequisites (Optional)\n\nTo be able to run the self-study exercises you should have a working IID installation. For that, please download the IID source files from the links below and follow the installation instruction from the IBM Knowledge Center (KC).\n\nSupport Lifecycle Policy for IID\nhttps://www.ibm.com/support/pages/ibm-business-automation-workflow-and-ibm-integration-designer-software-support-lifecycle-policy \nThis Policy gives an overview about the actual supported product version.\n\nIID support portal\nhttps://www.ibm.com/support/home/product/S604170I01562R93/IBMIntegrationDesigner \nGives you an overview of available documents, downloads, tools as well as existing communities\n\nGetting started with IBM Integration Designer\nhttps://www.ibm.com/support/knowledgecenter/en/SS8JB4/com.ibm.wbpm.wid.main.doc/prodoverview/topics/ctechprodovr.html\nA more detailed instruction to understand the product's architecture and features\n\nComponent\n\n1. Product Installation\n\na. &nbsp;&nbsp;Prerequisites\n&nbsp;&nbsp;&nbsp;&nbsp;OS: Windows OS\n&nbsp;&nbsp;&nbsp;&nbsp;IBM Installation Manager (IBM IM) version 1.8.9 or higher\n&nbsp;&nbsp;&nbsp;&nbsp;3 GB RAM minimum (4 – 6 GB recommended)\n&nbsp;&nbsp;&nbsp;&nbsp;IID 18.0.0.1 supports Java 8, Eclipse 4.4.2.1, RAD 9.5.0.2\n&nbsp;&nbsp;&nbsp;&nbsp;DB2 as used data base for Integrated Test Server\n&nbsp;&nbsp;&nbsp;&nbsp;Supported browser: IE, FF and Chrome\n\nb. &nbsp;&nbsp;Package download\nhttps://w3-03.ibm.com/software/xl/download/ticket.wss \n&nbsp;&nbsp;&nbsp;&nbsp;CNV60ML\t(Quick Start Guide)\n&nbsp;&nbsp;&nbsp;&nbsp;CNV61ML\t(IID tool)\n&nbsp;&nbsp;&nbsp;&nbsp;CNV62ML\n&nbsp;&nbsp;&nbsp;&nbsp;CNV63ML\n&nbsp;&nbsp;&nbsp;&nbsp;CNV64ML\t(Integrated Test Server)\n&nbsp;&nbsp;&nbsp;&nbsp;CNV65ML\n&nbsp;&nbsp;&nbsp;&nbsp;CNV66ML\n\nCreate a temporary folder and extract ALL files to the SAME temporary folder, not in a subfolder!!!\n\nc. &nbsp;&nbsp;Installation (Installing from the product launchpad)\nhttps://www.ibm.com/support/knowledgecenter/en/SS8JB4/com.ibm.wbpm.wid.imuc.doc/topics/tstartinstall_launchpad.html \n\nStart launchpad.exe (as local Administrator)\nStandard installation path C:\\IBM\\IID\\v18.0. (can be changed by custom installation)\nAdd userID and password for Test Server and DB2 installation\n\nd. &nbsp;&nbsp;Verification of Installation\n\nCheck for error messages during installation\nCheck the IBM IM log files for error messages (see troubleshooting)\nCheck log files of Integrated Test Server (Dmgr, NodeAgent, SingleCluster log) for exceptions\n\n2. Backup Installation for emergency recovery\nIn case of emergency recovery, you need a backup of \nIBM Installation Manager\nWAS file system\nBPM data bases\n\nBacking up IBM Installation Manager agent data and shared files for recovery with IBM Business Process Manager (BPM)\nhttps://www.ibm.com/support/pages/backing-ibm-installation-manager-agent-data-and-shared-files-recovery-ibm-business-process-manager-bpm\n\nConsistent backups for IBM Business Process Manager (BPM)\nhttps://www.ibm.com/mysupport/s/question/0D50z000062k66hCAA/consistent-backups-for-ibm-business-process-manager-bpm?language=de\n\n3. IID online training presentation\nThere are some good videos online available that give an overview of IID and how to use this tool\n\nIBM Integration Designer online training presentation\nhttps://www.youtube.com/watch?v=c-csDnC7XKQ \nhttps://www.youtube.com/watch?v=R6M8pjQoiyE\n\n4. Self-study samples\n\nThe samples are intended for beginners and show how to model business process designs or how to develop / deploy SCA application in WID/IID. In one section every single step of that exercise is explained in detail. You can follow this instruction and build your own application.\nIf you don’t want to create the application by yourself, you can also download the deployable application file, add it to your test system and run your own test.\n\nBPC sample\nhttp://publib.boulder.ibm.com/bpcsamp/index.html\n\nThe samples cover nearly all the service components available in IID. Although the samples were created for older IID version (7.5) and the predecessor product WebSphere Integration Developer (WID), they are still valid for the actual IID version.\n\nHere is another good link to a WID tutorial explaining the WID / IID components in detail, e.g.\nMediation flows overview\nTrace Primitives\nCustom Mediation Primitives\nMessage Filter Primitives\nMessage Logger Primitives\nFlow Order Primitives\nFlat File Inbound / Outbound Adapter\nJDBC Inbound / Outbound Adapter\nMessage Element Primitives\nEvent Emitter Primitives\nDatabase Lookup Primitives\nWTx Primitives\n\nhttps://de.slideshare.net/ravireddy76/wid-websphere-integration-development-guide\n\n Troubleshooting\n\nData Collection\n\n1. Troubleshooting and problem determination\nhttps://www.ibm.com/support/knowledgecenter/en/SS8JB4/com.ibm.wbpm.wid.admin.doc/topics/ttrouble.html\n\nThis section from Knowledge Center gives some information about troubleshooting for very common problems you may see when using IID. In most cases, especially for specific error messages related to IID you need to collect more information as described in the IID general Mustgather\n\n2. General Mustgather\nCollect troubleshooting data for IBM Integration Designer\nhttps://www.ibm.com/support/pages/collect-troubleshooting-data-ibm-integration-designer\n\nBeside the standard information (detailed problem description and versionInfo) an important IID logfile is  /.metadata/.log\nThis log file stores all the activities that happens when IID is started and activities happen in the workbench.\nIf the problem happens when testing the application we need additional logs from the test server logs located at /logs\n\nAdditionally, the general Mustgather shows a way how to activate specific trace settings in IID (Preferences  Logging and Tracing) as well as specific runtime trace strings\n\n3. MustGather: Java Application Hangs\nhttps://www.ibm.com/support/pages/mustgather-java-application-hangs\n\nAs IID is based on Java, you may see situation that the workbench freezes and isn’t responsive any longer. In that case we need to know what actually is running in the Java heap when that problem occurs. Javacore files are needed to be able to debug these types of problems. These documents outline how to trigger javacore files.\n\n4. JVM crashes\nhttps://www.ibm.com/support/pages/ibm-integration-designer-running-linux-throws-no-more-handles-mozillafivehomeusrlib64xulrunner-192-error-or-jvm-crashes-start \nhttps://www.ibm.com/support/pages/vm-terminated-exit-code-1-error-received-when-launching-websphere-integration-developer\n\nSuch kind of error happens at IID startup when the Java process is started (javaw) and it crashes. This is not an issue with IID itself but related to underlying ECLIPSE platform.\n\n5. IID in BPM environment – communication problem Process Center  IID\ntrace string in WID (Window  Preferences  Business Integration   Logging and Tracing):        \n                                            \n**com.ibm.wbit.lombardi.core.utils=fine:com.ibm.wbit.lombardi.core.rest=fi \nne:com.ibm.bpm.common.rest.impl=fine:com.ibm.wbit.ui.bpmrepository.actio \nns=fine**\n\n\\.metadata\\ folder that should contain\nbpmTrace.log \nbpmHistory.log\n.log\n  \n Data Analysis\n\n1. General\n\nIf the problem happens at development time (application modeling) you should check the content of \\.metadata\\ folder. Always check first the .log folder that is created when Eclipse workspace was initialized correctly and logs every standard activity you do at development time in the workspace\nIf the problem is related to application deployment / test, then check the Dmgr log files (deployment) and Application Server log files (application test) for warnings or exception.\n\\profile\\profile_name\\logs folder\nSystemout.log\nTrace.log\n\n2. JVM related problems and crashes (Eclipse)\n\nIf IID crashes at server startup time, the log environment in IID is not initialized yet and nothing is written to the .log file.\nIn that case check for javacore files created in \nAnother file that is needed for problem determination is eclipse.ini holding startup parameter for eclipse environment.\n\nHow to investigate startup issues of Eclipse based products where the Java Process terminates unexpectedly during the start-up\n\nRight after you started the application, it crashes and presents you an Eclipse pop-up window like the following:\n\nJava started but crashed with exit code=1\n\nPrepare yourself for some debug fun. If your coffee is gone, I recommend getting another one, then continuing with the below steps. If you still have coffee left, move right on to the next step. If javacore files are created check them for exception. If not, create Javacore files to gain more insight into the root cause of the crash.\n\nDid anybody mess with your Eclipse startup parameters? If this is not a new installation and the exception happened all of a sudden, maybe some JVM arguments were changed and are hence causing this crash. Always a good candidate is the -Xmx value, which specifies the maximum memory allocation pool for the Java Virtual Machine (JVM). A lot of users still think: The more, the better! Unfortunately, they over-tune the JVM and the memory allocation is simply too large for the JVM to be successfully created. If changes were made to the JVM settings, please revert those changes back to the default values (you can for example compare them to a working or untouched system). Then try to launch your Eclipse based application again.\n\nAs Eclipse is still in the start-up process when the crash occurs, the JVM errors cannot be written to the Eclipse error logs under /.metadata/.log\nHence, we need another way to get more information about the root cause. Open your eclipse.ini file (located in the  directory) and add the following line under -vmargs opt:\n\n-Xdump:java:events=vmstop\n\nThis should enforce the creation of a javacore.txt file in case of a JVM crash. In our case here, you will find it in the IID root directory after the next restart.\n\n3. Communication problems\n\nOne of my customers reported an issue that he cannot open a Process Application or Toolkit in IBM Integration Designer (IID). This problem did NOT occur for all Applications or Toolkits, but only for some. At least consistently, so that’s good.\nYou can imagine that this kind of error blocks the user doing any of their work properly.\nThe following exception occurred when the user tried to open a sample Toolkit in the IID workspace:\n\nThe error message from the workspace .log file and bpmHistory.log was as follows:\n!ENTRY com.ibm.wbit.ui 4 0 2016-04-06 04:58:10.982\n!MESSAGE Unable to retrieve the list of process applications and toolkits from Process Center. Contact your Process Center administrator for help.\n!STACK 0\ncom.ibm.wbit.lombardi.core.exceptions.TeamworksServerRetrieveException: Unable to retrieve the list of process applications and toolkits from Process Center. Contact your Process Center administrator for help.\n                at com.ibm.wbit.lombardi.core.rest.RestActionImpl2.refresh(RestActionImpl2.java:749)\n                at com.ibm.wbit.lombardi.core.utils.BPMRepoRESTUtils.refreshFromRepositorySelective(BPMRepoRESTUtils.java:1181)\n                at com.ibm.wbit.ui.bpmrepository.utils.ProcessCenterUtils$2.run(ProcessCenterUtils.java:219)\n                at com.ibm.wbit.lombardi.core.utils.AsyncThread.run(AsyncThread.java:50)\n                at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)\nCaused by: java.lang.NullPointerException\n                at com.ibm.wbit.lombardi.core.rest.RestActionImpl2.refresh(RestActionImpl2.java:717)\n                ... 4 more\nFrom the exception text the problem is very likely related to\na.&nbsp;&nbsp;A connection problem: Process Center (PC)  IBM Integration Designer (IID)\n&nbsp;&nbsp;&nbsp;&nbsp;or\nb.&nbsp;&nbsp;A permission problem of user trying to open the Toolkit in IID workspace\n\nBeside of activation of trace settings on IID end\n**com.ibm.wbit.lombardi.core.utils=fine:com.ibm.wbit.lombardi.core.rest=fi \nne:com.ibm.bpm.common.rest.impl=fine:com.ibm.wbit.ui.bpmrepository.actio \nns=fine**                                                                \n\nalso check the Process Center (PC) server logs for logged exception messages. If the connection can be established to PC but is denied for any reason by PC it is logged in the server log file.\n\nAs the communication between PC and IID is made by http(s) calls you can also activate FIDDLER traces to see the communication between these 2 components. Maybe it shows some indication why the error happens. \n\nHow to capture HTTP traffic with the Fiddler web debugging proxy\nhttps://www.youtube.com/watch?v=mJ5o5qYPdVc\n\n4. Installation problems \nDid this installation ever worked or did you just install it? If this error shows up after a new installation of the Eclipse based product (IID), check out the installation logs to make sure it was installed without any exceptions. To do so, have a look at the IBM Installation Manager log files under /logs\n\nOpen the index.xml file and review all logs linked in there for any exceptions or failures during the installation.\n\nJR60033: INSTALLING IBM INTEGRATION DESIGNER V18.0.0.1 FAILS IF AN EARLIER VERSION OF IBM INTEGRATION DESIGNER IS ALREADY INSTALLED\nhttps://www-01.ibm.com/support/docview.wss?uid=swg1JR60033\n\nWhen you install IBM Integration Designer 18.0.0.1, the installation completes with warnings. If you look at the IBM Installation Manager log file, you see these warning messages:\n\nEclipse launcher \"C:\\IBM\\IID18\\eclipse.exe\" does not exist \nEclipse initialize returned with error status=1\n\nIf you try to start Integration Designer, nothing happens.\n\nReference (Optional)\n\n1.Best Practices using IID in BPM environment\n“Best practices when using IBM Integration Designer and IBM Process Designer together”\nhttps://www.ibm.com/developerworks/websphere/bpmjournal/1106taylor/1106taylor.html\n\n2.Hello World: WID (Skill Level: Beginner) – tutorial\nhttps://www6.software.ibm.com/developerworks/education/wes-hellowid/wes-hellowid-a4.pdf\n \n3.A beginner's guide to WebSphere Integration Developer\nhttps://it.toolbox.com/blogs/gregfullard/a-beginners-guide-to-websphere-integration-developer-061507\n\n4.SOA / SCA basic Tutorial\nhttps://docs.huihoo.com/soa/osoa/SCA-OASIS-Tutorial-part1.pdf\n\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Desktop Process Designer/Web PD","description":"michaela.trautwein@de.ibm.com","owner":"@Michaela Trautwein-Ostner","path":"/BusinessProcessManager/BPMDevToolsandRepository/DesktopProcessDesigner","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Server Connection","description":"shyuan@cn.ibm.com","owner":"@Yuan Shang","path":"/BusinessProcessManager/BPMDevToolsandRepository/ServerConnection","text":"2019-11-1\n\nOverview – Server Connections\nIn IBM Business Process Manager, there are several types of connections. Each connection type has its own specific behavior and settings.  This chapter will cover the basic behaviors behind these connections and how we could do to handle the issues with them. The main connection types are: \nProcess Server to Process Center\nProcess Center to Process Server\nProcess Designer to Process Center (Deprecated)\nProcess Designer to online Process Server (Deprecated)\nIntegration Designer to Process Center\nIntegration Designer to the unit test environment\n\n Prerequisites (Optional)\nIt’s recommended for readers to have a basic grasp of BPM/WAS topology which contains PC, PS, PD, and IID.  Also, it would be helpful to understand the chapter ‘Endpoint Configuration’ to have better understanding of the scenarios mentioned at this article.   \n** Most of the information covered at this chapter is applied for BPM 8.6.0 and later versions to BAW 19.0.0.2. \n\nComponent\n 1.Connections Diagram\n\n2.Connections between Process Server and Process Center\n\nBehaviors\n\nSettings\n\nKey Tasks:\nUpdate the host and port name of the Process Center connection details.\nChange Process Server from an offline server to a Process Center connected server (online server), and vice-versa.\nChange the Process Center connection URL. \nModify the security role mappings for ProcessCenterUser and BPMAuthor if necessary. \nConfigure SSL communication \nEnable HTTP access temporarily (Not Recommended) \n\n** HEARTBEATDESIGNATEDDEPLOYMENTENDPOINT (Default value is INTERNALCLIENT):  Configures the URL that is used by Process Center to deploy applications to Process Server. The endpoint must resolve to the teamworks.war web module in the IBMBPMTeamworks application. \n\nProcedure:\nUsing wsadmin commands to customize the Workflow Server settings used to connect to Workflow Center \nhttps://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.admin.doc/topics/tconnecttopctr.html  \n\nUsing the administrative console to customize the Workflow Server used to connect to Workflow Center \nhttps://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.admin.doc/topics/tconnecttopctr2.html \n\n 3.Connections from Process Designer to Process Center (deprecated) \nBehaviors\n\nSettings\n\nComponents of desktop Process Designer use multiple endpoints in communicating with Process Center. The initial connection is defined in the Process Designer eclipse.ini file as the value of the com.ibm.bpm.processcenter.url system property. The property value is set during Process Designer configuration based on the value of the EXTERNAL endpoint for bpmrepo-services.war that is configured on the Process Center.  \n\nIf the endpoint configuration of the bpmrepo-services.war file has changed, desktop Process Designer must be downloaded from the Process Center using a browser that is running on the machine where the Process Designer will be installed. Installing an interim fix also requires Process Designer to be downloaded and installed again. Developers should never update the connection information in the Process Designer eclipse.ini file. \n\nProblems with desktop Process Designer \nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.wle.editor.doc/topics/startingae.html  \n** As the HTTPS communication is used by default here, the default port for it should be WCdefaulthostsecure, please noted it is the port of cluster member (server) rather than dmgr. \n\n4.Connections from Process Designer to online Process Server (deprecated)\nBehaviors\n\nSettings\n\nDesktop Process Designer uses the Process Server settings that are stored in Process Center to initially connect to the online process servers by using HTTP connections.  \n\nThe URLs that desktop Process Designer uses in an HTTP connection are determined by the Process Server endpoint configuration, which is loaded after the initial connection. By default, desktop Process Designer uses the generic scenario EXTERNAL_CLIENT for all URLs to access Process Server \n\nIf a different endpoint scenario is required, then you can use the following group of optional scenarios, which take precedence over the EXTERNAL_CLIENT:  (At PS Side)  \nAETOPS\nPROCESS_CENTER\nAEIMAGESPREFIX\nAEPORTALPREFIX\nAEWEBAPIPREFIX\nAESERVLETPREFIX\nAEBPMRESTSERVICECR_PREFIX\nAESOCIALBUSWEBAPP_PREFIX\nAERESTGATEWAYCRPREFIX\n\n** Process Designer uses only HTTP calls because httpProtocolOnly is set to true.  \n** ProviderID is the bootstrap address for EJB calls and is should be stored at PC side given by PS heartbeat. \n\n 5.Connections between Integration Designer to Process Center \nBehavior\n\nSettings\n\nAccessing the Process Center repository \nhttps://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.wid.integ.doc/processcenter/topics/topenpc.html  \n\n** The default port of ORB BOOTSTRAP_ADDRESS is listening the request from IID to PC. \n\n** If the port is not accessible, the Process Center may reside behind a firewall and Integration Designer may reside outside the firewall. \n\n6.Connections between Integration Designer to the UTE\nBehavior\n\nIf you have developed modules or mediation modules in Integration Designer, you can deploy the modules to a UTE server in the Servers view for the purpose of testing using the integration test client. \nSettings\n\nIf you chose to install the Workflow Server test environment profile when you installed Integration Designer, then you will already have a default unit test environment (UTE) server that was automatically created. However, if you deleted the default server or if you are working with a standalone installation of Workflow Server, you will need to manually create a test environment server for testing your integration and mediation modules. \n\nWorking with Unit Testing Environment(UTE)\nhttps://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.wid.admin.doc/deploy/topics/tworkuteserv.html \n\n Troubleshooting\nData Collection\n\n 1.Server Trace & Logs\nTrace needed for different issues are various.  Generally, we would suggest to enable the connectivity trace if there is no obvious exception can be traced.  \nConnectivity Trace String:  \n=info: WLE.=all:com.ibm.bpm.endpoint.=all:org.apache.commons.httpclient.=all \n\nSecurity Trace String:  \n=info:com.ibm.ws.security.=all:com.ibm.websphere.security.=all:com.ibm.websphere.wim.=all:com.ibm.wsspi.wim.=all:com.ibm.ws.wim.=all \n\nSSL Trace String: \n*=info:SSL=all \n\nHTTP Connection:  \n=info:com.ibm.ws.webcontainer=all: HTTPChannel=all\n\nIf IBM HTTP Server is configured and involved in the issue, please follow the instruction provided to collect IHS trace.   If you just would like to have a quick glance, collect the access.log should be sufficient.  \nhttps://www.ibm.com/support/pages/ihsdiag-utility-package-capturing-ibm-http-server-diagnostic-information \n\n2.Configuration Files\nIf there are no specific properties we would like to check, we would suggest collecting the entire directory from location:  dmgr_root/config/cells/\n\nFor PC PS Connectivity issue, here is a list of configuration files you may want to pay attention. Please make sure you check them at both PC and PS sides.  \ninstallroot/profiles/dmgrname/config/cells/cellname/cell-bpm.xml installroot/profiles/dmgrname/config/cells/cellname/security.xml installroot/profiles/dmgrname/config/cells/cellname/clusters/clustername/cluster-bpm.xml   \n(if you have more than one cluster, use the appTarget cluster here) \n\nIf there is any of the runtime configuration attributes is related to the issue, collect the specific configuration file and also request the runtime TWCR.xml file from the location below: \n\nManagedNodeProfileROOT\\config\\cells\\cellname\\nodes\\nodename\\servers\\servername\\process-center(server)\\config\\TeamWorksConfiguration.running.xml \n\n 3.Fiddler & Network trace\nFiddler trace collection procedure: \nhttps://www.ibm.com/support/pages/how-perform-fiddler-trace-capture-network-traffic-1 \n4.Trace add on Eclipse client side\nFor desktop Process Designer issue, we have specific trace could add on PD eclipse side. Please follow the instruction below to complete the steps.  \nhttps://www.ibm.com/support/pages/collect-troubleshooting-data-ibm-process-designer-problems-ibm-business-process-manager-bpm  \n\nFor Integration Designer issue, please use this link here to apply the trace. \nhttps://www.ibm.com/support/pages/collect-troubleshooting-data-ibm-integration-designer  \n 5.Database Table\nIf the issue is about connection to Process Server, then the information comes from Process Server is essential.  \nProcess Center: LSW_SERVER  \nProcess Server: LSW_SYSTEM \n\nData Analysis\nFor most of the connection issues, we will need to locate the problematic component from a complicated topology or architecture, and then to do more troubleshooting on the specific component.  That requires you to understand the topology or the involved severs and modules very clearly before data analysis part.  \n\nStep 1: Understand the topology and participant nodes/servers within the network. \n\nAs the very first step of the troubleshooting of a connection issue, you could request clients to explain the participant parties within this connection issue or provide their topology diagram if it’s quite complicated to describe.  \n\nStep 2: Use logs & trace to locate the problematic component.  \nFor example, if client’s PS failed to connect to PC, and they saw the redirect code HTTP: 302 at the PS logs \nCWLLG0095W: The repository contact failed with a status of: 302 \nOR \nCWLLG0095W: Unable to connect to Process Center. The contact failed with a status of: 302 \nThis could be caused by PS, PC or the other modules between them like IHS, web server, or Firewall.  \nWe could check the IHS and web browser of PC server first, if the logs of IHS (like access_timestamp.log) shows the request sent by PS has been sent but redirected for some reason. And there is no incoming request received by PC side.  We could basically confirm that the problem is at HTTP Server side.     \nIf the request passed through IHS successfully and got received by PC and redirected, then we should focus on the Process Center side.   It’s pretty straightforward.  \n\nStep 3: Common methods of analysis  \nOnce we focus on a specific component of BPM, we will need to rely on the data we collect from clients.  \nFor example, to check the current connection configuration between PC and PS, we could check the file cluster-bpm.xml (dmgrroot/config/cells/cellname/clusters/cluster_name/cluster-bpm.xml) at Process Server and you will see the following properties.  \nKey properties: processCenterUrl and heartBeatInterval \n \nThese properties illustrated that the Process Center was configured with URL http://ibmbpm:9080/ProcessCenter for connection, and PC is supposed to receive the heartbeats sent by PS every 10 seconds.   \nYou could verify this by 1. Entering the URL specified at a browser on the machine of Process Server. 2. Check if PC actually receive the heartbeat every 10 seconds.  \n\nIn order to verify it at PC side, you could check the database table LSW_SERVER and let client to export the entire table to you.  \nYou may see the table export like this \n(Only key columns are extracted here)  \n<table border=\"1px solid ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    SERVER_ID\n    NAME\n    ADDRESS\n    PROVIDER_URL\n    PORT\n    IS_OFFLINE\n    LAST_HEARTBEAT \n    USER_NAME \n  \n  \n    8ac8f93-a26d-4ead-ab85-c644bfbde68d\n    Prod_PS\n    https://bpmpsprod:9443/teamworks\n    corbaname:iiop:bpmpsprod:9810 \n    9443\n    F\n    2019-10-01-02.03.19.091000\n    bpmadmin\n  \n\nWe could tell that there is a connected Process Server named Prod_PS with address https://bpmpsprod:9443/teamworks . The latest heartbeat PC received from PS was at 10/01/2019 02:03:19.   If client reported this issue after this time stamp, for instance at 10/25/2019, it basically proved that this connection has been lost for more than 25 days. We will need to focus on the PS and all of the participant nodes/servers between PC and PS.  \n\nIf we could use the step 2 to exclude the possibilities of other participant servers like IHS and web servers, between two servers, we should think about authentication and authorization issues at this moment.  \n\nTo validate our presumptions, we will need to verify whether the username & password are mapped to the correct authentication alias and given to the expected security role.   As I mentioned at the diagram for PC PS connection, the authentication alias of the role ProcessCenterUser has to be existed at Process Center and configured at Process Server. The user name & password mapped to it have to be same at both sides.  \n\nCheck the file cell-bpm.xml and security.xml (dmgrroot/config/cells/cellname/security.xml and cell-bpm.xml) to locate the ProcessCenteruser configured at PS. We could find out the following mapping: \n<authDataEntries xmi:id=\"JAASAuthData1542562019436\" alias=\"PROCCTRUSERALIASDe\" userId=\"bpmadmin\" password=\"{xor}DhGS762Xc\" description=\"\"/ \nProcessCenterUser -- PROCCTRUSERALIAS_De – bpmadmin \nTo find the corresponding cell-bpm.xml and security.xml at PC side: \n<authDataEntries xmi:id=\"JAASAuthData_1541638326243\" alias=\"CellAdminAlias\" userId=\"bpmadmin\" password=\"{xor}DDYyMz4zPnxtb25n\" description=\"BPM Cell Administrator Alias\"/  \nWe could see that the user bpmadmin exists at Process Center side, but the encrypted password doesn’t look match with each other.   We could ask client if they modified their password recently or not to validate our findings.  \n\nReference (Optional) \n\nConnections in Business Process Manager \nhttps://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.imuc.doc/topics/c_overviewconnections.html  \n\nUsing wsadmin commands to customize the Workflow Server settings used to connect to Workflow Center \nhttps://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.admin.doc/topics/tconnecttopctr.html  \n\nUsing the administrative console to customize the Workflow Server used to connect to Workflow Center \nhttps://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.admin.doc/topics/tconnecttopctr2.html  \n\nWorking with Unit Testing Environment(UTE) \nhttps://www.ibm.com/support/knowledgecenter/SS8JB4/com.ibm.wbpm.wid.admin.doc/deploy/topics/tworkuteserv.html  \n\nConfiguring SSL Communication \nhttps://www.ibm.com/support/knowledgecenter/en/SSFPJS8.6.0/com.ibm.wbpm.imuc.bpmesb.doc/topics/tinscnfgsslnd.html  \n\n \n","wordCount":0,"topics":[],"type":"Content"},{"name":"High CPU","description":"jennthom@us.ibm.com","owner":"@Jennifer Thompson","path":"/BusinessProcessManager/Performance/HighCPU","text":"Date:2019-10-16\n\nOverview \nDocumentation to diagnose IBM Business Process Manager (BPM) high CPU, hang, and Performance cases. \n\n Prerequisites (Optional) \nIt is useful to have a basic understanding of Java stack traces. \n\nComponent \nBest practices for high JVM CPU utilization issues:https://www.ibm.com/support/knowledgecenter/en/SS8JB4/com.ibm.wbpm.admin.doc/topics/radmmemoryerrorscpu.html \n\n Troubleshooting \nData Collection\nWebSphere (WAS) Mustgather Links (varies by operating system): \n\nLinux: https://www.ibm.com/support/pages/mustgather-performance-hang-or-high-cpu-issues-websphere-application-server-linux  \n\nWindows: https://www.ibm.com/support/pages/mustgather-performance-hang-or-high-cpu-issues-windows  \n\nAIX: https://www.ibm.com/support/pages/mustgather-performance-hang-or-high-cpu-issues-websphere-application-server-aix  \n\nSolaris: https://www.ibm.com/support/pages/mustgather-performance-hang-or-high-cpu-issues-solaris \n\n Data Analysis \n\nBPM Performance-High CPU Decision Tree  \n\nThis document is a step-by-step guide to diagnose BPM high CPU, hangs, and performance issues. \nhttps://ibm.box.com/s/zbc922g4sl026q9ho9v425yfhw3hp5lq\n\nReference (Optional) \n\n1.WASSDK Reference doc: https://ibm.box.com/s/von422yyw9ugaj9j6vzl7qvempkteev6\n\n2.WASSDK Performance doc reference: https://ibm.box.com/s/iwl5lf0fwfd8dqvyrc34f218te0msv9r  \n\n \n","wordCount":0,"topics":[],"type":"Content"},{"name":"Out of Memory/High Memory","description":"jennthom@us.ibm.com","owner":"@Jennifer Thompson","path":"/BusinessProcessManager/Performance/OutofMemory","text":"Date:2019-10-16\n\nOverview \n\nDocumentation to diagnose IBM Business Process Manager (BPM) out-of-memory (OOM) conditions and Java Virtual Machine (JVM) abends. \n\n Prerequisites (Optional) \n\nIt is useful to have a basic understanding of Java object construction and Java stack traces. \n\nComponent\n\n1.Review “OOM Review and Survival Guide” \nhttps://ibm.box.com/s/podg0ga1vbi9yy02o2q6hjfyjin4htn1   \n\n2.Review “Best practices for JVM memory issues” \nhttps://www.ibm.com/support/knowledgecenter/en/SS8JB4/com.ibm.wbpm.admin.doc/topics/radmmemoryerrorsgeneral.htmlB\n\n Troubleshooting \n\nData Collection \n\nMustGather: Out of Memory errors with WebSphere Application Server on AIX, Linux, or Windows \nhttps://www.ibm.com/support/pages/mustgather-out-memory-errors-websphere-application-server-aix-linux-or-windows \n\nMustGather: Out of Memory errors with WebSphere Application Server on Solaris - Heap Leak \nhttps://www.ibm.com/support/pages/mustgather-out-memory-errors-websphere-application-server-solaris-heap-leak \n\n Data Analysis \n\nThe “BPM OOM-JVM Abend Decision Tree” will provide a step by step guide for diagnosing an OOM or abend. \nhttps://ibm.box.com/s/kaprcbw1woxoos12d5ov82sm8bjl87zp  \n\nReference (Optional) \n\nWASSDK Reference doc \nhttps://ibm.box.com/s/von422yyw9ugaj9j6vzl7qvempkteev6  \n","wordCount":0,"topics":[],"type":"Content"},{"name":"Database","description":"michaela.trautwein@de.ibm.com","owner":"@Michaela Trautwein-Ostner","path":"/BusinessProcessManager/Performance/Database","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Housekeeping","description":"qingzou@cn.ibm.com","owner":"@Qing Zou","path":"/BusinessProcessManager/Performance/Housekeeping","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Process Portal","description":"smmerris@us.ibm.com","owner":"@Seth Merriss","path":"/BusinessProcessManager/BusinessUserExperience/ProcessPortal","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Human Services","description":"ellia@ca.ibm.com","owner":"Elli Afshar","path":"/BusinessProcessManager/BusinessUserExperience/HumanServices","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Coaches and Toolkits","description":"ellia@ca.ibm.com","owner":"Elli Afshar","path":"/BusinessProcessManager/BusinessUserExperience/ToolkitControls","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Business Space","description":"fangyyan@cn.ibm.com","owner":"@Yan Fang","path":"/BusinessProcessManager/BusinessUserExperience/BusinessSpace","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Process Federated Server","description":"smmerris@us.ibm.com","owner":"@Seth Merriss","path":"/BusinessProcessManager/BusinessUserExperience/ProcessFederatedServer","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Business Automation Insights","description":"mluczkowiak@us.ibm.com","owner":"@Matt Luczkowiak","path":"/BusinessProcessManager/Monitoring/BusinessAutomationInsights","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Business Monitor","description":"klaus.ulrich@de.ibm.com","owner":"@Klaus Ulrich","path":"/BusinessProcessManager/Monitoring/BusinessMonitor","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Performance Data Warehouse","description":"klaus.ulrich@de.ibm.com","owner":"@Klaus Ulrich","path":"/BusinessProcessManager/Monitoring/PerformanceDataWarehouse","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Security Scans","description":"qingzou@cn.ibm.com","owner":"@Qing Zou","path":"/BusinessProcessManager/Security/SecurityScans","text":"Date:2019-10-16\n\nOverview\nSecurity Scan Fundamentals Education teaches the basics of how to understand and work on reported security scan result issues with IBM Business Process Manager (BPM) and IBM Business Automation Workflow (BAW). This module serves as the basis for in-depth education modules on BPM/BAW security scan issues. \n\n Component\nIBM fully discloses all reported and fixed security vulnerabilities in software products, including BPM/BAW. See IBM Security Vulnerability Management (PSIRT) . Typically, a security vulnerability is fixed on the latest fixpack of all supported releases, and a security bulletin will be published. Along with this publication comes a notification email to all subscribed customers and a blog entry in the Product Security Incident Response (PSIRT) Blog . \n\nRunning Security AppScan software on IBM Business Process Manager (BPM) and WebSphere Lombardi Edition\n\nTroubleshooting\n\n General Guidelines\n1.Suggest the following to clients in order to find any listing of known vulnerabilities:\nWe strongly recommend clients to keep up to date with fixes for BPM/BAW itself, but also all supporting systems around BPM/BAW, such as WebSphere (WAS), the database, web servers, operating systems, etc. Blog BPM Security – Keep up to date with security fixes describes how to find and subscribe for IBM BPM security fix notifications.\n\n2.Visit the IBM support portal to see published security bulletins prior to their subscription.\nBPM: https://www.ibm.com/mysupport/s/ibm-community-support-search-results?language=en_US&q=security+bulletins+business+process+manager&page=1&sort=0\nBAW: https://www.ibm.com/mysupport/s/ibm-community-support-search-results?language=en_US&q=security+bulletins+business+automation+workflow&page=1&sort=0 \n\n3.Understand false positive URLs versus actual vulnerabilities.\nInterpreting IBM Security AppScan findings for IBM Business Process Manager\nInterpreting IBM Security AppScan findings for IBM Business Automation Workflow\n\n4.Check IHS Vulnerability reports. \n\n5.Check Security-hardening properties in BPM Knowledge Center for BPM configuration settings to mitigate the following web application threats.\nCross-site request forgery (CSRF)\nNetwork sniffing\nClickjacking\nUploading malicious documents\n\n6.Search by CVEID or vulnerability key word in IBM Product Security Incident Response (PSIRT) Blog . \n\n7.Search for similar issues by vulnerability key word in Watson Search and RTC. \n\n8.If no existing information can be found for the reported security vulnerability, then we can do the following: \nReview security report details.\nDetermine L2 pillar team ownership based on the correlative URL. \nData collection: \n   Client’s understanding about the reported vulnerability. \n   Detailed BPM version info by running the command from /bin: versionInfo -fixpacks -ifixes  versioninfo.txt \n   Client-side network data and server logs with issue recreated. \n      Client-side network data: \n        HAR file captured through Firefox & Google Chrome Developer tools (F12) Network tab. \n        XML file captured through IE Developer Tools (F12) Network tab. \n      Server logs:\n        installroot/profiles/profilename/logs/server_name \n        nstallroot/profiles/profilename/logs/ffdc \n      Required data for issue replication in lab: \n        Sample TWX file without external dependency. \n        Recreation steps. \n        Any tooling used for the issue recreation. \n        Web browser information (Is it happened with specific web browser or all web browsers?) \n        \n 9.L2 to try issue replication in lab if possible. \n \n 10.Engage corresponding L3 team for comments. \n \n #### Known Issue Reference\n 1.Unrestricted File Upload \n We can restrict file types for upload and modify mime types for download, refer to APAR is JR50092. \n \n 2.Host Header Injection \n Host Header Injection can be configured in HTTP server (this exact sample is WAS code, which we cannot influence. It may be a good idea to also involve WAS SEC L3. \n \n 3.Clear Text Password Submission\n The jusername and jpassword are part of the JEE spec. The current WAS behavior is a widely accepted standard. Authentication schemes can be customized, including password-free authentication approaches. Refer to Configuring third-party authentication products. \n \n 4.Autocomplete Enabled \n This is current behavior for login pages. With User Management Service, autocomplete is turned off. Refer to Installing and configuring the User Management Service. \n If we want to change this, it would be \"next release\" only. \n \n 5.Missing Security Headers \n See Security.StrictTransportSecurityHeaderValue in Security-hardening properties.\n \n 6.Options Method Enabled \n Options is enabled by intent as we support CORS for REST. Can be configured with  Security.AllowedHttpMethods mentioned in Security-hardening properties. \n \n 7.Cookie Flag Missing \n Secure flag is enforced for HTTPS URLs in current releases, see APAR JR58492. \n \n8.Input Limit Missing \nInput elements must not be restricted in size when longer values are valid. BPM does not restrict the size of a user search string. \n\n9.Platform Version Disclosed \nSee com.ibm.ws.webcontainer.disablexPoweredBy in Web container custom properties. \n","wordCount":0,"topics":[],"type":"Content"},{"name":"SSL","description":"shangjin@cn.ibm.com","owner":"@Jin Shang","path":"/BusinessProcessManager/Security/SSL","text":"Date:2019-11-12\n\nOverview\n\nSecure Sockets Layer (SSL) is the most widely used protocol for implementing cryptography on the Web. SSL uses a combination of cryptographic processes to provide secure communication over a network. SSL provides a secure enhancement to the standard TCP/IP sockets protocol used for Internet communications. Secure sockets layer is added between the transport layer and the application layer in the standard TCP/IP protocol stack.\n\nWebSphere Application Server uses Java Secure Sockets Extension (JSSE) as the SSL implementation for secure connections. JSSE is part of the Java 2 Standard Edition (J2SE) specification and is included in the IBM implementation of the Java Runtime Extension (JRE).\n\n Component\n\n1.SSL handshake\nCommunication using SSL begins with an exchange of information between the client and the server. This exchange of information is called the SSL handshake. The three main purposes of the SSL handshake are:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a. Negotiate the cipher suite\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The SSL session begins with a negotiation between the client and the server as to which cipher suite they will use. A cipher suite is a set of cryptographic algorithms and key sizes to encrypt data.\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b. Authenticate identity\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Authenticating the server allows the client to be sure that the server represents the entity that the client believes the server represents.\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c. Establish information security by agreeing on encryption mechanisms\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The client and server exchange information that allows them to agree on the same secret key. For example, with RSA, the client uses the server's public key, obtained from the public key certificate, to encrypt the secret key information.\n\n2.JSSE\nJSSE handles the handshake negotiation and protection capabilities that are provided by SSL to ensure secure connectivity exists across most protocols. JSSE uses on X.509 certificate-based asymmetric key pairs for secure connection protection and some data encryption.\n\n3.X.509 certificates\nThe digitally-signed X.509 certificates are used for SSL. X.509 certificates include the information about distinguished name, expiration, serial number, algorithm ID, Issuer and so on. A certificate must be signed by a CA because the certificate represents the identity of an entity to the general public.\n\n4.Keystore\nA keystore is a database of key material. It consists of an entity's identity and its private key, and can be used for a variety of cryptographic purposes. There are various types of keystores available, including \"PKCS12\" and \"JKS.\"\n\n5.Truststore\nA truststore is a keystore which is used when making decisions about what to trust. If you receive some data from an entity that you already trust, and if you can verify that the entity is the one it claims to be, then you can assume that the data really came from that entity.\n\n6.Cipher suite \nA cipher suite is a combination of cryptographic parameters that define the security algorithms and key sizes used for authentication, key agreement, encryption, and integrity protection.\n\n7.Public key cryptography\nPublic key cryptography uses an encryption algorithm in which two keys are produced. One key is made public while the other is kept private. The public key and the private key are cryptographic inverses; what one key encrypts only the other key can decrypt. Public key cryptography is also called asymmetric cryptography.\n\nTroubleshooting\n\n Data Collection\n\n1.MustGather for JSSE, SSL or JCE problems\nhttp://www-01.ibm.com/support/docview.wss?uid=swg21162961\n\n2.SSL=all trace tells about\nWhich type of SSL configuration is selected (Dynamic, programmatic, managed scope, direct selection)\nWhich truststore/keystore is used\n\n3.javax.net.debug trace tells about\nCertificate chain sent from remote\nDistinguished name, expiration, serial number, Issuer etc.,,,\nCipher Suite used in the session\n\nData Analysis\n\nBelow is an example of JSSE trace on client side.\n\n1.Send “Client hello” to SSL server\n[3/3/10 11:30:11:828 JST] 00000021 SystemOut     O   *** ClientHello, TLSv1\n[3/3/10 11:30:11:828 JST] 00000021 SystemOut     O   Cipher Suites: [SSLRSAWITHRC4128MD5, SSLRSAWITHRC4128SHA, SSLRSAWITHAES128CBCSHA,SSLDHERSAWITHAES128CBCSHA,, SSLDHEDSSWITHRC4128_SHA]\n[3/3/10 11:30:11:828 JST] 00000021 SystemOut     O   [write] MD5 and SHA1\n2.Receive “Server hello” from SSL server\n[3/3/10 11:30:11:937 JST] 00000021 SystemOut     O   *** ServerHello, TLSv1\n[3/3/10 11:30:11:937 JST] 00000021 SystemOut     O   Cipher Suite: SSLRSAWITHRC4128_MD5\n3.Receive “Certificate chain” from SSL server\n[3/3/10 11:30:11:968 JST] 00000021 SystemOut     O   *** Certificate chain\n[3/3/10 11:30:11:984 JST] 00000021 SystemOut     O   chain [0] = [\n[ Version: V3\n  Subject: CN=mods.makuhari.japan.ibm.com, OU=Terms of use at www.verisign.com/cps/testca (c)05, OU=IBM, O=SWTS, L=Makuhari, ST=Toyko, C=JP\n  Signature Algorithm: SHA1withRSA, OID = 1.2.840.113549.1.1.5\n Validity: [From: Sun Feb 28 09:00:00 JST 2010,\n               To: Mon Mar 15 08:59:59 JST 2010]\n  Issuer: CN=VeriSign Class 3 Secure Server 1024-bit Test CA, OU=Terms of use at https://www.verisign.com/cps/testca/ (c)07, OU=VeriSign Trust Network, OU=FOR TEST PURPOSES ONLY, O=\"VeriSign, Inc.\", C=US\n  SerialNumber: [75567502602804770198902073950259089487]\n[3/3/10 11:30:11:984 JST] 00000021 SystemOut     O   chain [1] = [\n[ Version: V3\n  Subject: CN=VeriSign Class 3 Secure Server 1024-bit Test CA, OU=Terms of use at https://www.verisign.com/cps/testca/ (c)07, OU=VeriSign Trust Network, OU=FOR TEST PURPOSES ONLY, O=\"VeriSign, Inc.\", C=US\n  Signature Algorithm: SHA1withRSA, OID = 1.2.840.113549.1.1.5\n Validity: [From: Tue Apr 24 09:00:00 JST 2007,\n               To: Mon Apr 24 08:59:59 JST 2017]\n  Issuer: OU=For Test Purposes Only, OU=VeriSign Trust Network, OU=Terms of use at https://www.verisign.com/cps/testca/ (c)02, OU=Class 3 TEST Public Primary Certification Authority - G2, O=\"VeriSign, Inc.\", C=US\n  SerialNumber: [19080311188043284684508743335647212147]\n…\n[3/3/10 11:30:11:984 JST] 00000021 SystemOut     O   chain [2] = [\n[ Version: V1\n  Subject: OU=For Test Purposes Only, OU=VeriSign Trust Network, OU=Terms of use at https://www.verisign.com/cps/testca/ (c)02, OU=Class 3 TEST Public Primary Certification Authority - G2, O=\"VeriSign, Inc.\", C=US\n  Signature Algorithm: SHA1withRSA, OID = 1.2.840.113549.1.1.5\n4.Check whether server certificate is trusted( Search signer certificate in truststore)\n[3/3/10 11:30:11:984 JST] 00000021 WSX509TrustMa   checkServerTrusted Entry\n[3/3/10 11:30:11:984 JST] 00000021 WSX509TrustMa 3   Certificate information:\n[3/3/10 11:30:11:984 JST] 00000021 WSX509TrustMa 3     Subject DN: CN=mods.makuhari.japan.ibm.com, OU=Terms of use at www.verisign.com/cps/testca (c)05, OU=IBM, O=SWTS, L=Makuhari, ST=Toyko, C=JP\n[3/3/10 11:30:11:984 JST] 00000021 WSX509TrustMa 3     Issuer DN: CN=VeriSign Class 3 Secure Server 1024-bit Test CA, OU=Terms of use at https://www.verisign.com/cps/testca/ (c)07, OU=VeriSign Trust Network, OU=FOR TEST PURPOSES ONLY, O=\"VeriSign, Inc.\", C=US\n[3/3/10 11:30:11:984 JST] 00000021 WSX509TrustMa 3     Serial number: 75567502602804770198902073950259089487\n…\n[3/3/10 11:30:11:984 JST] 00000021 WSX509TrustMa 3   Certificate information:\n[3/3/10 11:30:11:984 JST] 00000021 WSX509TrustMa 3     Subject DN: CN=VeriSign Class 3 Secure Server 1024-bit Test CA, OU=Terms of use at https://www.verisign.com/cps/testca/ (c)07, OU=VeriSign Trust Network, OU=FOR TEST PURPOSES ONLY, O=\"VeriSign, Inc.\", C=US\n[3/3/10 11:30:12:000 JST] 00000021 WSX509TrustMa 3     Issuer DN: OU=For Test Purposes Only, OU=VeriSign Trust Network, OU=Terms of use at https://www.verisign.com/cps/testca/ (c)02, OU=Class 3 TEST Public Primary Certification Authority - G2, O=\"VeriSign, Inc.\", C=US\n[3/3/10 11:30:12:000 JST] 00000021 WSX509TrustMa 3     Serial number: 19080311188043284684508743335647212147\n…\n[3/3/10 11:30:12:000 JST] 00000021 WSX509TrustMa 3   Certificate information:\n[3/3/10 11:30:12:000 JST] 00000021 WSX509TrustMa 3     Subject DN: OU=For Test Purposes Only, OU=VeriSign Trust Network, OU=Terms of use at https://www.verisign.com/cps/testca/ (c)02, OU=Class 3 TEST Public Primary Certification Authority - G2, O=\"VeriSign, Inc.\", C=US\n5.Is the server trusted? (Is the signer certificate for the server certificate found?)\n  \n[3/3/10 11:30:12:000 JST] 00000021 SystemOut     O   Found trusted certificate:\n[3/3/10 11:30:12:015 JST] 00000021 SystemOut     O   [\n[ Version: V3\n  Subject: CN=mods.makuhari.japan.ibm.com, OU=Terms of use at www.verisign.com/cps/testca (c)05, OU=IBM, O=SWTS, L=Makuhari, ST=Toyko, C=JP\n  Signature Algorithm: SHA1withRSA, OID = 1.2.840.113549.1.1.5\n Validity: [From: Sun Feb 28 09:00:00 JST 2010,\n               To: Mon Mar 15 08:59:59 JST 2010]\n  Issuer: CN=VeriSign Class 3 Secure Server 1024-bit Test CA, OU=Terms of use at https://www.verisign.com/cps/testca/ (c)07, OU=VeriSign Trust Network, OU=FOR TEST PURPOSES ONLY, O=\"VeriSign, Inc.\", C=US\n  SerialNumber: [75567502602804770198902073950259089487\n[3/3/10 11:30:12:062 JST] 00000021 SystemOut     O   Found trusted certificate:\n[3/3/10 11:30:12:062 JST] 00000021 SystemOut     O   [\n[ Version: V1\n  Subject: OU=For Test Purposes Only, OU=VeriSign Trust Network, OU=Terms of use at https://www.verisign.com/cps/testca/ (c)02, OU=Class 3 TEST Public Primary Certification Authority - G2, O=\"VeriSign, Inc.\", C=US\n  Signature Algorithm: SHA1withRSA, OID = 1.2.840.113549.1.1.5\n Validity: [From: Sat Apr 20 09:00:00 JST 2002,\n               To: Wed Aug 02 08:59:59 JST 2028]\n  Issuer: OU=For Test Purposes Only, OU=VeriSign Trust Network, OU=Terms of use at https://www.verisign.com/cps/testca/ (c)02, OU=Class 3 TEST Public Primary Certification Authority - G2, O=\"VeriSign, Inc.\", C=US\n  SerialNumber: [104676769249816804185635383688073198822]\n6.Server is trusted by the SSL client\n[3/3/10 11:30:12:062 JST] 00000021 WSX509TrustMa 3   Server is trusted by all X509TrustManagers.\n[3/3/10 11:30:12:062 JST] 00000021 WSX509TrustMa <  checkServerTrusted Exit\n7.Receive “Certificate request” from SSL server\n[3/3/10 11:30:12:078 JST] 00000021 SystemOut     O   *** CertificateRequest\n[3/3/10 11:30:12:078 JST] 00000021 SystemOut     O   Cert Authorities:\n[3/3/10 11:30:12:093 JST] 00000021 SystemOut     O   \n[3/3/10 11:30:12:093 JST] 00000021 SystemOut     O   \n[3/3/10 11:30:12:093 JST] 00000021 SystemOut     O   \n[3/3/10 11:30:12:093 JST] 00000021 SystemOut     O   \n…\n8.Receive “Server hello done” from SSL server\n[3/3/10 11:30:12:093 JST] 00000021 SystemOut     O   *** ServerHelloDone\n9.Send “Client certificate” to SSL server\n[3/3/10 11:30:12:093 JST] 00000021 SystemOut     O   matching alias: hnaoclientcertificate02\n[3/3/10 11:30:12:093 JST] 00000021 WSX509KeyMana   normalizeAliasName Entry\n                                 hnaoclientcertificate02\n[3/3/10 11:30:12:093 JST] 00000021 WSX509KeyMana <  chooseClientAlias Exit\n                                 hnaoclientcertificate02\n[3/3/10 11:30:12:093 JST] 00000021 SystemOut     O   chain [0] = [\n[ Version: V3\n  Subject: CN=hnao, OU=user, O=stsc, C=US\n  Signature Algorithm: SHA1withRSA, OID = 1.2.840.113549.1.1.5\n Validity: [From: Wed Jan 13 00:27:50 JST 2010,\n               To: Thu Jan 13 00:27:50 JST 2011]\n  Issuer: CN=hnao, OU=user, O=stsc, C=US\n  SerialNumber: [5292370009037]\n10.Send “Client key exchange” to SSL server\n[3/3/10 11:30:12:109 JST] 00000021 SystemOut     O   *** ClientKeyExchange, RSA PreMasterSecret, TLSv1\n[3/3/10 11:30:12:109 JST] 00000021 SystemOut     O   Random Secret:  { 3, 1, 228, 152, 55, 141, 9, 21, 110, 20, 191, 108, 121, 121, 19, 136, 117, 141, 244, 29, \n11.Send “Certificate Verify” to SSL server\n[3/3/10 11:30:12:312 JST] 00000021 SystemOut     O   *** CertificateVerify\n12.Send “Change cipher spec” to SSL server\n[3/3/10 11:30:12:328 JST] 00000021 SystemOut     O   WebContainer : 0, WRITE: TLSv1 Change Cipher Spec, length = 1\n13.Send “Finished” to SSL server\n[3/3/10 11:30:12:359 JST] 00000021 SystemOut     O   *** Finished\n14.Send “Change Cipher Spec” to SSL server\n[3/3/10 11:30:12:375 JST] 00000021 SystemOut     O   WebContainer : 0, READ: TLSv1 Change Cipher Spec, length = 1\n15.Receive “Finished” from SSL server\n[3/3/10 11:30:12:375 JST] 00000021 SystemOut     O   *** Finished\n\n Reference\n\nJava Authentication and Authorization Service (JAAS) Reference Guide\nhttp://java.sun.com/j2se/1.5.0/docs/guide/security/jsse/JSSERefGuide.html#SSLOverview\n\nWebSphere Application Server Security Handbook\nhttp://www.redbooks.ibm.com/redbooks/pdfs/sg246316.pdf\n\nSSL PD Education\nhttps://ibm.ent.box.com/file/540907035140\n\n","wordCount":0,"topics":[],"type":"Content"},{"name":"SSO","description":"shangjin@cn.ibm.com","owner":"@Jin Shang","path":"/BusinessProcessManager/Security/SSO","text":"Date:2019-11-11\n\nOverview\n\nSingle Sign On (SSO) is a mechanism that allows users to access multiple applications on different servers without having to re-enter their username and password. In SSO environments, Lightweight Third Party Authentication (LTPA) keys are exchanged between Process Portal, Process Federation Server, and each IBM BPM server in the federated environment. When users log in to one server, they can access all the other servers in the federated environment for which they are authorized without getting prompted again for their credentials.\n\n Component\n\n1.Lightweight Third Party Authentication (LTPA)\nIBM Proprietary mechanism for passing security information from one server to another.\n\n2.LTPA Key\nA string used by WebSphere to create the LTPA Token. This must be the same on each server trying to do SSO.\n\n3.LTPA Token\nA cookie created WebSphere security that contains the user and expiration. It is stored by the client. Once WebSphere AppServer sends it to the client, it no longer exists on the server.\n\nTroubleshooting\n\n Data Collection\n\n1.Core security trace string:\n=info:com.ibm.ws.security.=all:com.ibm.websphere.security.=all:com.ibm.websphere.wim.=all:com.ibm.wsspi.wim.=all:com.ibm.ws.wim.=all\n2.If the problem is related to authentication to an Enterprise JavaBean:\n=info:com.ibm.ws.security.=all:com.ibm.websphere.security.=all:com.ibm.websphere.wim.=all:com.ibm.wsspi.wim.=all:com.ibm.ws.wim.=all:SASRas=all:ORBRas=all\n\n3.If the problem is related to security domains:\n=info:com.ibm.ws.security.=all:com.ibm.websphere.security.=all:com.ibm.websphere.wim.=all:com.ibm.wsspi.wim.=all:com.ibm.ws.wim.=all:SecurityDomain=all\nData Analysis\n\nBelow is a trace example of a normal SSO initial login procedure.\n\n1.Initial login with security enabled.\n[6/15/09 11:03:12:328 CDT] 00000036 EJSWebCollabo   preInvoke Entry\n                                 com.ibm.ws.webcontainer.srt.SRTServletRequest@7c6a7c6a\n                                 com.ibm.ws.webcontainer.srt.SRTServletResponse@195c195c\n                                 /\n                                 default_host\n                                 Snoop Servlet\n                                 true\n[6/15/09 11:03:12:343 CDT] 00000036 EJSWebCollabo 3   Http Header names and values:\nHost=[localhost:9444]\nUser-Agent=[Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.0.11) Gecko/2009060215 Firefox/3.0.11]\nAccept=[text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8]\nAccept-Language=[en-us,en;q=0.5]\nAccept-Encoding=[gzip,deflate]\nAccept-Charset=[ISO-8859-1,utf-8;q=0.7,*;q=0.7]\nKeep-Alive=[300]\nConnection=[keep-alive]\nCookie=[TJE=; TE3=]\n[6/15/09 11:03:12:343 CDT] 00000036 WebCollaborat 3   Invoked and received Subject are null, setting it anonymous/unauthenticated.\n[6/15/09 11:03:12:343 CDT] 00000036 WSCredentialI    Entry\n                                 \"\"\n                                 UNAUTHENTICATED\n                                 **\n[6/15/09 11:03:12:343 CDT] 00000036 WSCredentialI <   Exit\n[6/15/09 11:03:12:343 CDT] 00000036 ContextManage 3   Setting caller subject: Subject:\n\tPrincipal: /UNAUTHENTICATED\n\tPublic Credential: com.ibm.ws.security.auth.WSCredentialImpl@60e060e0\n[6/15/09 11:03:12:343 CDT] 00000036 PermissionRol 3   No permissions found for /snoop:GET\n[6/15/09 11:03:12:343 CDT] 00000036 WebConstraint   getRequiredRoles :  /snoop GET Entry\n[6/15/09 11:03:12:343 CDT] 00000036 WebResourceCo   matches Entry\n                                 /snoop\n                                 GET\n[6/15/09 11:03:12:343 CDT] 00000036 WebResourceCo 3   Checking URL: /snoop/*\n….\n[6/15/09 11:03:12:343 CDT] 00000036 PermissionRol 3   DefaultApplication.ear, /snoop:GET required roles are org.eclipse.jst.j2ee.common.internal.impl.SecurityRoleImpl(All Role)\n…..\n[6/15/09 11:03:12:343 CDT] 00000036 WebResourceCo   getMatchType Entry\n                                 /snoop/*\n[6/15/09 11:03:12:343 CDT] 00000036 WebResourceCo 3   URI Match type = PATHNAME\n[6/15/09 11:03:12:343 CDT] 00000036 WebResourceCo <  getMatchType Exit\n[6/15/09 11:03:12:343 CDT] 00000036 WebConstraint <  getConstraints not null Exit\n[6/15/09 11:03:12:343 CDT] 00000036 WebCollaborat 3   URI -  /snoop.GET is protected\n\n2.Login after basic auth.\n[6/16/09 9:56:06:484 CDT] 00000037 EJSWebCollabo 3   Http Header names and values:\nHost=[localhost:9444]\nUser-Agent=[Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.0.11) Gecko/2009060215 Firefox/3.0.11]\nAccept=[text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8]\nAccept-Language=[en-us,en;q=0.5]\nAccept-Encoding=[gzip,deflate]\nAccept-Charset=[ISO-8859-1,utf-8;q=0.7,*;q=0.7]\nKeep-Alive=[300]\nConnection=[keep-alive]\nAuthorization=[Basic d2FzYWRtaW46dzM4c3BoZXJl]\n[6/16/09 9:56:06:484 CDT] 00000037 WebAuthentica   handleSSO Entry\n[6/16/09 9:56:06:484 CDT] 00000037 WebAuthentica <  handleSSO: no cookies present in the request. Exit\n[6/16/09 9:56:06:484 CDT] 00000037 WebAuthentica   handleBasicAuth Entry\n[6/16/09 9:56:06:484 CDT] 00000037 WebAuthentica 3   Authorization: Basic d2FzYWRtaW46dzM4c3BoZXJl\n[6/16/09 9:56:06:484 CDT] 00000037 WebAuthentica 3   BasicAuthEncoding:null\n[6/16/09 9:56:06:484 CDT] 00000037 WebAuthentica   basicAuthenticate Entry\n[6/16/09 9:56:06:484 CDT] 00000037 ContextManage   login(realm, user, password) - login(defaultWIMFileBasedRealm, wasadmin, ***, system.WEB_INBOUND AppContext: {RedirectURL=null, WebAppName=Default Web Application}) Entry\n\n3.Setting SSO domain.\n[6/16/09 10:07:15:046 CDT] 00000037 WebAttributes 3   Setting SSO cookie with name: LtpaToken2 logout false, value: pGZ7oztr2Lt Ze….JIV8gS2NWnJ\n[6/16/09 10:07:15:046 CDT] 00000037 WebAttributes   getSSODomain Entry\n[6/16/09 10:07:15:046 CDT] 00000037 WebAttributes 3   SSO Domain List: .ibm.com\n[6/16/09 10:07:15:046 CDT] 00000037 WebAttributes 3   SSO Domain will be set to an empty string if a parent domain is not found in the list above.\n[6/16/09 10:07:15:046 CDT] 00000037 WebAttributes 3   URL: https://pork5-009041030204.austin.ibm.com:9444/snoop\n[6/16/09 10:07:15:046 CDT] 00000037 WebAttributes 3   Request host: pork5-009041030204.austin.ibm.com\n[6/16/09 10:07:15:046 CDT] 00000037 WebAttributes 3   Domain match found: '.ibm.com'\n[6/16/09 10:07:15:046 CDT] 00000037 WebAttributes 3   SSO Domain is: '.ibm.com'\n[6/16/09 10:07:15:046 CDT] 00000037 WebAttributes <  getSSODomain Exit\n[6/16/09 10:07:15:046 CDT] 00000037 WebAttributes <  createCookiesStatic: returning 2 cookie(s) to add to response. Exit\n\nAdditional login with LTPA Token.\n[6/16/09 9:39:57:765 CDT] 00000037 EJSWebCollabo 3   Http Header names and values:\nHost=[localhost:9444]\nUser-Agent=[Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.0.11) Gecko/2009060215 Firefox/3.0.11]\nAccept=[text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8]\nAccept-Language=[en-us,en;q=0.5]\nAccept-Encoding=[gzip,deflate]\nAccept-Charset=[ISO-8859-1,utf-8;q=0.7,*;q=0.7]\nKeep-Alive=[300]\nConnection=[keep-alive]\nCookie=[TJE=; TE3=N0:C N1:C N2:C N3:C N4:C N5:C N6:C N7:C N8:C N9:C N10:C N11:C N12:C N13:C N14:C N15:C N16:C N17:C N18:C N19:C N20:C N21:C N22:C N23:C N24:C N25:C; LtpaToken2=lBYo2YVPzkgwFI………..Clm/02yUO7EAnhG8JG83DrdTLiqC4AI1noWZAzHC; LtpaToken=hgWQ1fVerkXY1N…………zR/R78VUmz8Cqgt0r0VRkucfVEzi+eyMi4Q==]\n[6/16/09 9:39:57:765 CDT] 00000037 WebAuthentica   handleSSO Entry\n[6/16/09 9:39:57:765 CDT] 00000037 WebAuthentica 3   Attempting primary cookie validation for: LtpaToken2\n[6/16/09 9:39:57:765 CDT] 00000037 WebAuthentica   getCookieValues Entry\n                                 LtpaToken2\n[6/16/09 9:39:57:765 CDT] 00000037 WebAuthentica 3   lBYo2YVPzkgwFI1UlFkTQmqHxmxl+MLriYZXoGS8VP71V7uUG7s8tMfONH…….AI1noWZAzHC\n[6/16/09 9:39:57:765 CDT] 00000037 WebAuthentica <  getCookieValues Exit\n[6/16/09 9:51:00:218 CDT] 00000037 LTPAServerObj 3   BEGIN VALIDATING TOKEN: some errors may occur, look for SUCCESS:\n…..\n[6/16/09 9:51:00:218 CDT] 00000037 LTPAToken     <  validate LTPAToken from byte[] Exit\n[6/16/09 9:51:00:218 CDT] 00000037 LTPATokenFact <  validateTokenBytes (success) Exit\n[6/16/09 9:51:00:218 CDT] 00000037 LTPAServerObj  SUCCESS: validated using tokenFactoryArray[0]: com.ibm.ws.security.ltpa.LTPATokenFactory Exit\n[6/16/09 9:51:00:218 CDT] 00000037 LTPAServerObj 3   Prediction successful:token:com.ibm.ws.security.ltpa.LTPATokenFactory::256\n[6/16/09 9:51:00:218 CDT] 00000037 LTPAServerObj <  validateToken Exit\n\n Reference\n\nManaging LTPA Keys\nhttps://www.ibm.com/support/knowledgecenter/SSEQTP8.5.5/com.ibm.websphere.base.iseries.doc/ae/tsecsslmanagelptakeys.html\n\nSSO with WebSphere and Domino\nhttp://www-12.lotus.com/ldd/doc/dominonotes/7.0/help7admin.nsf/f4b82fbb75e942a6852566ac0037f284/0bb0e5440ba375098525706f0065d9cb?OpenDocument\n\nWebSphere Security, SSO ,LTPA and Form Login\nhttps://ibm.ent.box.com/file/540939659327\n\n","wordCount":0,"topics":[],"type":"Content"},{"name":"User and Group Security","description":"bkonopik@us.ibm.com","owner":"@Brad Konopik","path":"/BusinessProcessManager/Security/User&GroupSecurity","text":"to be added\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Advanced Integration Service","description":"shangjin@cn.ibm.com;lifengbj@cn.ibm.com","owner":"@Jin Shang,@Feng Li","path":"/BusinessProcessManager/AdvancedContent/AIS","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Business Process Choreographer","description":"ILGUEN@de.ibm.com;siro@it.ibm.com","owner":"@Serhad Ilgün,@Dino Sironi","path":"/BusinessProcessManager/AdvancedContent/BPC","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Bindings","description":"shangjin@cn.ibm.com;lifengbj@cn.ibm.com","owner":"@Jin Shang,@Feng Li","path":"/BusinessProcessManager/AdvancedContent/Bindings","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Service Integration Bus","description":"shangjin@cn.ibm.com;lifengbj@cn.ibm.com","owner":"@Jin Shang,@Feng Li","path":"/BusinessProcessManager/AdvancedContent/SIB","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Failed Event","description":"shangjin@cn.ibm.com;lifengbj@cn.ibm.com","owner":"@Jin Shang,@Feng Li","path":"/BusinessProcessManager/AdvancedContent/FailedEvent","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Adapters","description":"lifengbj@cn.ibm.com","owner":"@Feng Li","path":"/BusinessProcessManager/AdvancedContent/Adapters","text":"Date:2019-10-21\n\nOverview\n\nIBM Business Automation workflow (BAW) supplies a set of adapters that can be integrated with the Service Component Architecture (SCA) framework. These adapters are based on the Java Connector Architecture (JCA).  Adapters enable business applications to act as services by connecting them to diverse enterprise information systems (EISs), such as databases, enterprise resource planning systems, file systems, and email systems. \n\n Prerequisites\n\nThe Connector Architecture enables Java EE components to interact with enterprise information systems (EISs) and EISs to interact with Java EE components. EIS software includes various types of systems: enterprise resource planning (ERP), mainframe transaction processing, and nonrelational databases, among others. Connector architecture simplifies the integration of diverse EISs. Each EIS requires only one implementation of the Connector architecture. Because an implementation adheres to the Connector specification, it is portable across all compliant Java EE servers. \n\nThis tutorial will be useful for learning the basics of JCA. This is an elementary tutorial that introduces the concepts of WebSphere Adapter. \n\nJ2EE Connector Architecture: \nhttps://www.oracle.com/technetwork/java/javaee/index-138715.html\n\nComponent\n\n EIS – Enterprise Information System\nThis term is used to describe the applications that form an enterprise's existing system for handling company-wide information. An enterprise information system offers a well-defined set of services that are exposed as local or remote interfaces or both. Enterprise Resource Planning (ERP) and Database are typical enterprise information systems. \n\nEMD – Enterprise Metadata Discovery\nA specification that you can use to examine an EIS and get details of business object data structures and APIs. An EMD stores definitions as XML schemas by default,  and builds components that can access the EIS. \n\n BO - Business Object\nIn a development or production environment, a set of XML schema attributes that represents a business entity (such as an invoice) and the definition of actions that can be performed on those attributes (such as the create and update operations). \n\nInbound\nAn event is generated on the EIS and the adapter responds to the event by sending a message to BAW. The WebSphere Adapters export support inbound communication. When the EIS sends an event to the adapter, a message is propagated from the WebSphere Adapters export.\n\n Outbound\nBAW uses the adapter to send a request to the EIS. The WebSphere Adapters import support outbound communication. When a message is propagated to the WebSphere Adapters import node, the adapter sends a request to the EIS. \n\nWebSphere Technology Adapters, which integrate using file exchange and database records, include:  \nWebSphere Adapter for Email - enables the exchange of business objects with a variety of applications \nWebSphere Adapter for Enterprise Content Management - create integrated processes that include the exchange of information with a CMIS server\nWebSphere Adapter for Flat Files - enables the communication with an application through the exchange of text files \nWebSphere Adapter for FTP - extends ESB with business document exchange via FTP server \nWebSphere Adapter for IBM i - enables bi-directional connectivity and exchange of information with IBM i applications\nWebSphere Adapter for JDBC - allows exchange of objects with applications built on any database supported by JDBC Driver  \nWebSphere Adapter for Lotus® Domino® - create modules that can exchange information with the Lotus Domino server\n\n WebSphere Application Adapters, which integrate to Enterprise Application Suites, include:  \nWebSphere Adapter for JD Edwards EnterpriseOne - provides bidirectional, real-time integration between JD Edwards Enterprise One and OneWorld Xe\nWebSphere Adapter for Oracle E-Business Suite - supports real-time, bi-directional integration to all Oracle applications modules and other systems \nWebSphere Adapter for PeopleSoft Enterprise - provides bi-directional, real-time integration between PeopleSoft and other applications \nWebSphere Adapter for SAP Software - provides bi-directional, multi-threaded, real-time integration between SAP and other applications, using SAP's all interfaces capabilities \nWebSphere Adapter for Siebel Business Applications - provides comprehensive bi-directional, real-time integration between Siebel and order management, ERP, e-business, and legacy systems\n\n WebSphere Adapter Toolkit enables you to develop custom JCA adapter to meet unique business requirements. \n\nTroubleshooting\n\n Questions to ask\nIs this an inbound module or outbound module? \nDid you make any change at EIS end? \nIs your network stable? \nHow many adapters are deployed in this system? \nDid you try the latest Ifix of the adapter?\nIf you make some change at EIS end, did you rerun the EMD to regenerate the artifact? \nHow is your adapter deployed? embedded or stand alone ? \n\nData Collection\n\n1.To trace the problems that are specific to WebSphere Adapter n BPM, add and enable this trace string on the application server. Base trace: \n\n=info:com.ibm.j2ca.=all\n2.Dump event recovery table( EP_TableName ) as well. This table is used for event persistence for the inbound module. \n\n Trace Analysis\n\nAll of the following information and examples were gathered from working adapters. You can search key words and locate information in the trace files. If your trace files do not match the correct examples, then this can assist in troubleshooting. \n\nUsage 1#: Activation Specification of adapters Start \nKey words: J2CA0523I\nComment :  During BAW server starts up, the Activation Specification of adapters is activated. You should see the sample information during server starting up. \nSample: \n[11/29/18 22:02:48:668 CST] 0000003c ActivationSpe I   J2CA0523I: The Message Endpoint for ActivationSpec myFlatFile/mytest/erp/invoiceFF/inbound/myadapterInboundExportAS (com.ibm.j2ca.flatfile.FlatFileActivationSpecWithXid) and MDB Application myFlatFileApp#myFlatFile/mytest/erp/invoiceFF/inbound/myadapter_InboundExport#myFlatFile is activated. \n\nUsage 2#: Activation Specification of adapters Stop\nKey words: J2CA0524I \nComment : During BAW shutdown, the Activation Specification of adapters is deactivated. You should see the sample information during server shut down. \nSample: \n[11/29/18 23:23:32:558 CST] 0000003c ActivationSpe I   J2CA0524I: The Message Endpoint for ActivationSpec myFlatFile/mytest/erp/invoiceFF/inbound/myadapterInboundExportAS (com.ibm.j2ca.flatfile.FlatFileActivationSpecWithXid) and MDB Application myFlatFileApp#myFlatFilemytest/erp/invoiceFF/inbound/myadapter_InboundExport#myFlatFile is deactivated.  \n\nUsage 3#: Adapter configuration information in trace file \nKey words: traceActicationSpec\nSample: \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      2 com.ibm.j2ca.base.WBIResourceAdapter traceActicationSpec(ActivationSpec) Entering method. \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      1 com.ibm.j2ca.base.WBIResourceAdapter traceActicationSpec(ActivationSpec) Endpoint activation called.  Tracing ActivationSpec contents \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      1 com.ibm.j2ca.base.WBIResourceAdapter traceActicationSpec(ActivationSpec) BiDiContextEIS =  \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      1 com.ibm.j2ca.base.WBIResourceAdapter traceActicationSpec(ActivationSpec) boNamespace = http://www.ibm.com/xmlns/prod/websphere/j2ca/sap \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      1 com.ibm.j2ca.base.WBIResourceAdapter traceActicationSpec(ActivationSpec) deliveryType = ORDERED \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      1 com.ibm.j2ca.base.WBIResourceAdapter traceActicationSpec(ActivationSpec) pollPeriod = 2000 \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      1 com.ibm.j2ca.base.WBIResourceAdapter traceActicationSpec(ActivationSpec) pollQuantity = 10 \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      1 com.ibm.j2ca.base.WBIResourceAdapter traceActicationSpec(ActivationSpec) retryConnectionOnStartup = false \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      1 com.ibm.j2ca.base.WBIResourceAdapter traceActicationSpec(ActivationSpec) retryInterval = 60000 \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      1 com.ibm.j2ca.base.WBIResourceAdapter traceActicationSpec(ActivationSpec) retryLimit = 0 \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      1 com.ibm.j2ca.base.WBIResourceAdapter traceActicationSpec(ActivationSpec) stopPollingOnError = false \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      1 com.ibm.j2ca.base.WBIResourceAdapter traceActicationSpec(ActivationSpec) filterFutureEvents = false \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      1 com.ibm.j2ca.base.WBIResourceAdapter traceActicationSpec(ActivationSpec) assuredOnceDelivery = true \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      1 com.ibm.j2ca.base.WBIResourceAdapter traceActicationSpec(ActivationSpec) failedEventRetryLimit = 5 \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      < com.ibm.j2ca.base.WBIResourceAdapter traceActicationSpec(ActivationSpec) Exiting method. \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties BEGIN trace SAPActivationSpec properties.\n\nUsage 4#: SAP adapters Connection information \nKey words: SAPActivationSpec\nSample: \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties BEGIN trace SAPActivationSpec properties \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties Trace SAP logon configuration values*** \n[3/22/11 13:44:57:390 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties UserName=SOWMYAS \n[3/22/11 13:44:57:406 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties Password=** \n[3/22/11 13:44:57:406 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties Language=EN (English) \n[3/22/11 13:44:57:406 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties Client=100 \n[3/22/11 13:44:57:406 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties ApplicationServerHost=saperp05.svl.ibm.com \n[3/22/11 13:44:57:406 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties SystemNumber=00 \n[3/22/11 13:44:57:406 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties GatewayHost=saperp05.svl.ibm.com \n[3/22/11 13:44:57:406 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties GatewayService=sapgw00 \n[3/22/11 13:44:57:406 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties LogonGroup=PMR \n[3/22/11 13:44:57:406 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties SAPSystemID=DYL \n[3/22/11 13:44:57:406 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties MessageServerHost=saperp05.svl.ibm.com \n[3/22/11 13:44:57:406 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties RFCTraceOn=false \n[3/22/11 13:44:57:406 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties RFCProgramID=SARMASERVER \n[3/22/11 13:44:57:406 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties IgnoreIDocPacketErrors=false \n[3/22/11 13:44:57:406 IST] 00000011 SAPRA001      C com.ibm.j2ca.sap.util.SAPUtil traceLoginProperties END trace SAPActivationSpec properties.\n\nUsage 5#: SAP Adapter ALE Listener starting information \nKey words: startAleEventListener\nSample: \n[3/22/11 13:45:01:031 IST] 00000011 SAPRA001      I com.ibm.j2ca.sap.inbound.SAPEventListenerManager startAleEventListener Starting ALE Event Listener - 0 - Connection Parameters - gwhost - 9.30.204.151 | gwserv - sapgw01 | progid - SAASERVER | unicode - 1 |.  \n\nUsage 6#: Adapter deployment \nKey words: hasEmbeddedRAR\nComment : this information would be reported during deployment, and it indicates whether the adapter is embedded or standalone. \nSample: \n[16/11/16 9:50:43:763 JST] 000018a4 J2CBinding 3 com.ibm.ws.sca.binding.j2c.deploy.J2CGenerateDataBindingTask !hasEmbeddedRAR - standalone\n\nUsage 7#: Adapter inbound module polling \nKey words: pollForEvents(int)\nSample:\n[6/22/17 15:35:55:607 EDT] 00000052 FFRA001       2 com.ibm.j2ca.extension.eventmanagement.internal.EventManager pollForEvents(int) Entering method.  \n[6/22/17 15:35:55:641 EDT] 00000052 FFRA001       < com.ibm.j2ca.extension.eventmanagement.internal.EventManager pollForEvents(int) Exiting method\n\nUsage 8#: Adapter outbound module sends request \nKey words: com.ibm.j2ca.base.WBIConnectionFactory getConnection()\n. \nSample:\n[11/29/11 23:21:54:667 CST] 000000c4 SAPRAResource 2 com.ibm.j2ca.base.WBIConnectionFactory getConnection() Entering method. \n[11/29/11 23:21:54:667 CST] 000000c4 SAPRAResource 2 com.ibm.j2ca.base.WBIManagedConnectionFactory matchManagedConnections Entering method. \n[11/29/11 23:21:54:667 CST] 000000c4 SAPRAResource 3 com.ibm.j2ca.base.WBIManagedConnectionFactory getPasswordCredential Using the default PasswordCredential \n[11/29/11 23:21:54:705 CST] 000000c4 SAPRAResource 3 com.ibm.j2ca.base.WBIManagedConnectionFactory matchManagedConnections The matched ManagedConnection is valid \n[11/29/11 23:21:54:705 CST] 000000c4 SAPRAResource < com.ibm.j2ca.base.WBIManagedConnectionFactory matchManagedConnections Exiting method.. \n\nReference\n\nCollect troubleshooting data for WebSphere Adapter problems in IBM Business Process Manager \nhttp://www-01.ibm.com/support/docview.wss?uid=swg21240322 \n\nDeploying and configuring WebSphere Adapters in a clustered environment \nhttps://www.ibm.com/developerworks/websphere/library/techarticles/0909jain/0909jain.html \n\nPerformance tuning the WebSphere JDBC Adapter inbound service \nhttps://www.ibm.com/developerworks/websphere/library/techarticles/1106lu/1106lu.html\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Mediation","description":"shangjin@cn.ibm.com","owner":"@Jin Shang","path":"/BusinessProcessManager/AdvancedContent/Mediation","text":"\nOverview\nThe mediation module is a new type of SCA component that can process or mediate service interactions. Inside a mediation module there can be one mediation flow component. Mediation flows contain the high-level mediation logic. Mediation flows consist of a sequence of processing steps for\n   Routing communications between services\n   Converting between different transport protocols\n   Transforming message formats between service requestor and provider\n   Handling business events from disparate sources\n\nMediation modules are deployed to Process Server as EAR format.\n\n Prerequisites\nYou should have a basic understanding of below technology.\n\n1.Service Oriented Architecture\nService Oriented Architecture (SOA) is an approach to defining integration architectures based on the concept of a service. Applications collaborate by invoking each other services and services can be composed into larger sequences to implement business processes.\n\n2.Service Component Architecture\nService Component Architecture (SCA) was developed to simplify the integration between business applications and the development of new services. SOA is an abstract way to interpret the services and his correlations, SCA is defined as the implementation of the SOA architecture. Its standards allow the creation of services and the integration between them.\n\n3.Service Module\nService Module is the SCA unit of packaging and deployment.  Service Modules contain one or more Service Components which contain an implementation, and interfaces.\n\n4.Bindings\nBindings identify a specific type of invocation for a service consumer or provider. Bindings can be applied to mediation module imports or exports. Exports let a mediation module offer a service to consumers. Imports let a mediation module access external services (services that are outside the SCA module) in a transparent manner. For more details about Bindings, refer to below topic on BAW knowledge center.\nhttps://www.ibm.com/support/knowledgecenter/en/SS8JB4/com.ibm.wbpm.ref.doc/help_sca/index.html\n\nComponent\n Technical Concepts\n1.Mediation Primitives\nMediation Primitives are the smallest building blocks in mediation flow. They are wired and configured inside mediation flows. They let you change the format, content, or target of service requests; log messages; do database lookups; and so forth.\n\n2.Service Message Objects\nMessages can come from a variety of sources, so the payload has to be able to carry a number of different types of messages. Mediation primitives need to be able to operate on these messages, and service message objects (SMOs) represents the common representation that is needed.\n\nTechnical Articles\n1.Getting Started with WebSphere Enterprise Service Bus\nhttp://www.redbooks.ibm.com/abstracts/sg247212.html\n\n2.Strategies for designing error handling in web service mediations\nhttps://www.ibm.com/developerworks/websphere/library/techarticles/1108toth/1108toth.html\n\n3.List of mediation primitives\nhttps://www.ibm.com/developerworks/websphere/library/techarticles/1108toth/1108toth.html\n\n Troubleshooting\nData Collection\n\n1.To trace the problems that are specific to the Mediation Flow Component and its primitives, below trace string should be enabled on application server:\n\n=info:com.ibm.ws.sibx.=all:com.ibm.wsspi.sibx.=all:com.ibm.websphere.sibx.=all:com.ibm.ws.sib.processor.utils.UserTrace=all:com.ibm.wbiserver.transform.=all:com.ibm.sr.client.=all\n\n2.Enable Runtime trace dynamically:\nLogon admin console. Under Troubleshooting  Log and Trace, pick the server where you want to change the settings.\nClick Change Log Detail Levels.\nSelect the Runtime tab to dynamically set the tracing and enter the new trace string.\nClick OK to save the changes.\nReproduce the issue and note the time the symptoms occurred.\nInsure the trace covers the time period noted in step four above.\nZip up the profile's logs directory.\nSend us the zip of the logs directory noting any errors, exceptions, or symptoms.\n\n3.Customer should also export their Project Interchange (PI) file. The associated PI file can be exported from IBM Integration Designer (IID) and is very useful to the support team. The file not only describes the application configuration, but it also permits the opportunity for the support team to recreate the problem. PI files have an extension of .zip, but do not need to be unarchived to import into IID.\n\nTo create a PI file, from within IID, complete the following steps:\nSelect File  Export.\nSelect Project Interchange and select the modules which are relevant to your project.\nChoose a file name for the Project Interchange file, and fill it in, in the field at the bottom.\n\nAfter receiving the PI file, support engineer should import it into local workspace within IID:\nSelect File  Import.\nSelect Project Interchange and select the PI file.\n\n Recreating Problem\nAfter importing PI file in IID, using IID testing tools (Test Component):\n1.First insure the test BPM server is started, and the module to test is deployed.\n2.Bring up the test facility :\n\nRight click on the component to test within the Assembly Diagram\nSelect “Test Component”\n\n3.Enter test value(s) provided by the client into the corresponding field(s).\n4.Click the continue button  to start the test execution.\n\nTrace Analyzing\n1.All mediation codes are contained within \".sibx.\"\nExample Exception 1:\ncom.ibm.ws.sca.uow.UOWRolledBackException: caused by: \ncom.ibm.wsspi.sibx.mediation.flow.MediationRuntimeException: com.ibm.ws.sibx.scax.mediation.component.FlowBuildException: CWSXM1006E: Error whilst setting properties of mediation primitive MessageFilter1. In mediation component SampleModule in module SampleModule\n...\nCaused by: com.ibm.wsspi.sibx.mediation.flow.MediationRuntimeException: com.ibm.ws.sibx.scax.mediation.component.FlowBuildException: CWSXM1006E: Error whilst setting properties of mediation primitive MessageFilter1. In mediation component SampleModule in module SampleModule\n\n2.Find the entry into the mediation flow. Example:\n[8/28/19 20:52:39:840 IST] 000001a6 SIBXTraceUtil 1 \ncom.ibm.ws.sibx.scax.mediation.engine.utils.trace.SIBXTraceUtil startExecuteFlow \nStartExecuteFlow\nFlow metadata   :\n    Module      : SampleModule\n    Port type   : http://SampleModule/SimpleInterface}SimpleInterface\n    Operation   : operation1\n    Interaction : Request\n    Component   : com.ibm.ws.sca.internal.scdl.impl.ManagedComponentImpl@5d3bee83 (description: null) (displayName: SampleModule) (name: SampleModule)\nNode name        : SimpleInterfaceoperation1Input\nNode display name: operation1 : SimpleInterface\nNode type (class): null\nNode properties  : null\nTerminal name    : out [Display name : out]\nTerminal type    : Output\nMessage          : ServiceMessageObject: ServiceMessageObject@e62af8cb (context=ContextType@3ba4ffb7, headers=HeadersType@2e17b83a, body=operation1RequestMsg@85bed9e3, ) \n\n3.Check the data value in SMO body. Example:\n\n  \n  \n    \n      D8D23CEF-016C-4000-E000-10F40973C730\n      \n        7\n        0\n        0\n      \n      Request\n    \n  \n  \n    \n      this is a test\n    \n  \n\n4.Trace provides detailed information for each step in mediation flow. The ‘Terminal type’ of the node tells the step in mediation flow. For example, below trace tells us the SMO data in request flow before input node Mapping which is an XSLT primitive.\nProcessMessage\nFlow metadata   :\n    Module      : SampleModule\n    Port type   : http://SampleModule/SimpleInterface}SimpleInterface\n    Operation   : operation1\n    Interaction : Request\n    Component   : com.ibm.ws.sca.internal.scdl.impl.ManagedComponentImpl@5d3bee83 (description: null) (displayName: SampleModule) (name: SampleModule)\nNode name        : Mapping\nNode display name: Mapping\nNode type (class): com.ibm.ws.sibx.mediation.primitives.xslt.XSLTMediation\nNode properties  : {sibxMayChangeMessage=true, sibxOnlyFireAtEnd=true, validateInput=false, sibxNoChangeOnFailure=true, SMOVersion=SMO61, associatedXSL=, implementationClass=com.ibm.ws.sibx.mediation.primitives.xslt.XSLTMediation, XMXMap=xslt/Mappingreq1.map, root=/body, XSLTransform=xslt/Mappingreq1.xsl}\nTerminal name    : in [Display name : in]\nTerminal type    : Input\nMessage          : ServiceMessageObject: ServiceMessageObject@e62af8cb (context=ContextType@3ba4ffb7, headers=HeadersType@2e17b83a, body=operation1RequestMsg@85bed9e3, ) \n\nAnd below trace shows the SMO data after the node named with Mapping.\nProcessMessage\nFlow metadata   :\n    Module      : SampleModule\n    Port type   : http://SampleModule/SimpleInterface}SimpleInterface\n    Operation   : operation1\n    Interaction : Request\n    Component   : com.ibm.ws.sca.internal.scdl.impl.ManagedComponentImpl@5d3bee83 (description: null) (displayName: SampleModule) (name: SampleModule)\nNode name        : Mapping\nNode display name: Mapping\nNode type (class): com.ibm.ws.sibx.mediation.primitives.xslt.XSLTMediation\nNode properties  : {sibxMayChangeMessage=true, sibxOnlyFireAtEnd=true, validateInput=false, sibxNoChangeOnFailure=true, SMOVersion=SMO61, associatedXSL=, implementationClass=com.ibm.ws.sibx.mediation.primitives.xslt.XSLTMediation, XMXMap=xslt/Mappingreq1.map, root=/body, XSLTransform=xslt/Mappingreq1.xsl}\nTerminal name    : out [Display name : out]\nTerminal type  : Output\nMessage         : ServiceMessageObject: ServiceMessageObject@e62af8cb (context=ContextType@3ba4ffb7, headers=HeadersType@2e17b83a, body=operation1RequestMsg@15c9de5, ) \n\nSome of the key elements given for each step in the flow include:\nModule:  Name of mediation module.\nOperation:  Name of operation being performed\nInteraction:  Either Request or Response\nNode Name:  Name of primitive (i.e. Custom Mediation1)\nNode Display Name:  Label given to node by client (i.e. RemoveTags)\nTerminal Name:   Name of terminal given by client \nTerminal Type:   Type of terminal (Input, Output, etc)\nMessage:  Displays current output of SMO.\n\nStep through trace.log, starting at the ‘StartExecuteFlow’, following each primitive In and Out until the exception or the end of mediation flow.\nStopExecuteFlow\nFlow metadata   :\n    Module      : SampleModule\n    Port type   : http://SampleModule/SimpleInterface}SimpleInterface\n    Operation   : operation1\n    Interaction : Request\n    Component   : com.ibm.ws.sca.internal.scdl.impl.ManagedComponentImpl@5d3bee83 (description: null) (displayName: SampleModule) (name: SampleModule)\n\n","wordCount":0,"topics":[],"type":"Content"},{"name":"BPD & Service Engine","description":"nldillard@us.ibm.com","owner":"@Nathan Dillard","path":"/BusinessProcessManager/StandardRuntime/BPD","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Event Manager","description":"nldillard@us.ibm.com","owner":"@Nathan Dillard","path":"/BusinessProcessManager/StandardRuntime/EventManager","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"JavaScript & REST API","description":"nldillard@us.ibm.com","owner":"@Nathan Dillard","path":"/BusinessProcessManager/StandardRuntime/JSAPI,RESTAPI","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Web Service","description":"shangjin@cn.ibm.com","owner":"@Jin Shang","path":"/BusinessProcessManager/StandardRuntime/WebService","text":"Date:2019-10-15\n\nOverview\n\nIntegration services enable outbound integration with web services so that processes can retrieve and update data that is stored on an external system. Web service component provides a way for an external system or application to call into BPM. You can use a web service binding in a SCA module to invoke existing web services and expose functionality within the module as a web service. This topic will talk about these web service related components in BPM.\n\n Prerequisites\n\nBelow tutorial will be useful for learning the basics of web services. This is an elementary tutorial that introduces the concepts of web services.\n\nWeb Services Tutorial\nhttp://www.tutorialspoint.com/webservices/\n\nComponent\n\n Outbound Processing\n\nIntegration services enable outbound integration with web services so that processes can retrieve and update data that is stored on an external system. You can use an External Service or a SOAP Connector or a Web Service Integration step to enable the access to the web service.\n\n1.External Service\nYou can create an external service by discovering a web service that is hosted on an external system, and use this external service in a service flow to invoke the web service. Refer to below topic on knowledge center for detailed introduction.\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS_8.6.0/com.ibm.wbpm.wle.editor.doc/topics/twebinvoke.html\n\n2.SOAP Connector\nSOAP connector is an embedded integration service, Call WebService via SOAP, is provided in the System Data Toolkit. This connector abstracts the complexity of the web service implementation and requires only minimal configuration. Refer to below topic on knowledge center for detailed introduction.\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.wle.editor.doc/topics/tsoapconncall.html\n\nBelow article including many screenshots to introduce how to the SOAP connector to call a web service.\nhttps://www.ibm.com/support/pages/using-soap-connector-call-web-service-websphere-lombardi-edition\n\n3.Web Service Integration\nUse a Web Service Integration component to invoke a web service that is hosted externally. You can configure the WSDL properties, SOAP header information, authentication, signature and encryption properties for the web service integration. Refer to below topic on knowledge center for detailed introduction.\n  https://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.wle.editor.doc/topics/configuringwebserviceintegration_step.html\n\nInbound Processing\n\nWeb Service component provides a way for an external system or application to call into BPM. You can create a web service component in BPM that you expose to exterior systems so that they can access functionality in an IBM BPM application. The web service component invokes an operation that calls a particular BPM service or service flow. Refer to below topic on knowledge center for detailed introduction.\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.wle.editor.doc/topics/creatingexposed_services.html\n\n SCA Component\n\nYou can use a Web Service Binding in a SCA module to invoke existing web services and expose functionality within the module as a web service. A web service binding provides a specification for transmitting messages to and from a web service. You can use a web service import binding to call an external web service to an import. You can use a web service export binding to provide a service to external clients as a web service. Refer to below topic on knowledge center for detailed introduction.\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS_8.6.0/com.ibm.wbpm.wid.integ.doc/access/topics/cwebbind.html\n\nTroubleshooting\n\n Questions to ask\n\nIs the web service call in question an inbound (a client sending a request to BPM) or an outbound (BPM acting as a client consuming an external web service) call?\nIs there any Web Services security involved (SSL, WS-Security, etc)?\nWas this working in any prior versions of the product (or legacy products)? If so, which version/product was in working in?\nWas it ever working on this version itself?  If so, what has changed (could be backed web service, Business Object structure, authentication requirement, etc)?\n\nVerifying Webservice\n\nAdd ?WSDL to the end of web service URL. Paste the URL into a browser window and you should see something like the following screen shot.\n\n Data Collection\n\n1.To trace the problems that are specific to External Service/Web Service/SOAP Connector/Web Service Integration in BPM, below trace string should be enabled on application server:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.Base trace:\n\n=info:WLE.=all:com.ibm.ws.webservices.=all:org.apache.=all:com.ibm.ws.websvcs.=all:com.ibm.ws.metadata.=all\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b. If you see IOException related to Webservice requests:\n\n=info:WLE.=all:com.ibm.ws.webservices.=all:org.apache.=all:com.ibm.ws.websvcs.=all:com.ibm.ws.metadata.=all:HTTPChannel=all:GenericBNF=all:TCPChannel=all\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c. If it’s performance related issue or it’s in a production environment, you can use this slighter trace setting:\n\n=info:WLE.wle_outbnd_ws=all:com.ibm.bpm.ws.jaxws.=all\n\n2.To trace the problems that are specific to Web Service Binding in BPM, below trace string should be enabled on application server:\n\n=info:SCA.=all:com.ibm.ws.webservices.=all:org.apache.=all:com.ibm.ws.websvcs.=all:com.ibm.ws.metadata.=all\n3.For Outbound web service issue, the following materials are required.\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a. The WSDL of the actual Web Service (including any included/imported .xsd files)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b. A sample response from the Web Service\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c. The project (see below point 5 for details)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d. Sample request SOAP message from BPM\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e. TeamWorksConfiguration.running.xml file from profile configuration directory\n\n4.For Inbound web service issue, the following materials are required.\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a. The SOAP request from the web service client\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b. The project (see below point 5 for details)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c. A sample response SOAP message from BPM (if relevant to problem description)\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d. TeamWorksConfiguration.running.xml file from profile configuration directory\n\n5.Project file\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a. For issue of External Service/Web Service/SOAP Connector/Web Service Integration, request the .twx file for the process application as well as the service name in question.\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b. For issue of Web Service Binding, request the Project Interchange file as well as which import or export component in the project is in question.\n\nRecreating Problem\n\n1.Download SoapUI from https://www.soapui.org/. Install the tool using the default configuration.\n\n2.For outbound calls:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a. Create new SOAP project and specify WSDL URL in SoapUI.\n\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b. Generate SOAP mock service. This emulates the customer’s web service so we don’t need direct access to it.\n\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c. In web service component in process application, modify the host and port information in WSDL URL to match the mock service. Test scenario to invoke the web service. This is a way to see what BPM actually sends in its request (SoapUI will print out requests received, including HTTP Headers if desired).\n\n3.For inbound calls:\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a. Create new SOAP project and specify WSDL URL in SoapUI.\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b. Create request message to simulate the customer’s use case.\n\n4.For WSDL discover:\nObtain WSDL and all imported XSD files from customer. Specify to the local WSDL file in WSDL discover wizard.\n\n Trace Analyzing\n\n1.Key words:\nwle_outbnd_ws\nrequest =\nresponse = \n\nUsage:\nPrint out the request and response SOAP messages invoked by the outbound web service components.\n\nSample: \n[9/5/19 09:30:42:558 GMT] 00008cb0 wleoutbndws 1   request = <?xml version=\"1.0\" encoding=\"utf-8\"?&lt;cwtNotificationRequest xmlns='http://sample.uk/hbeu/e2e/sil/data/cwt'&gt;&#xD; \n&lt;dealId&gt;[Field3]&lt;/dealId&gt;&#xD; \n&lt;correlationId&gt;[Field2]&lt;/correlationId&gt;&#xD; \n&lt;router&gt;DATA_UPDATE&lt;/router&gt;&#xD; \n&lt;additionalFields&gt;&#xD; \n…\n\n[9/5/19 09:30:42:875 GMT] 00008cb0 wleoutbndws 1   response = <?xml version=\"1.0\" encoding=\"utf-8\"?SUCCESS \n\n2.Key words:\nsetInputParameters\ngetOutputParameters\n\nUsage:\nMethods to set and get SOAP messages before and after the web service invocation.\n\nSample: \n[9/5/19 14:02:53:645 GMT] 00000793 wleoutbndws 1 com.ibm.bpm.ws.jaxws.connector.SOAPConnector setInputParameters setInputParameters(), parameterValues = [{http://www.sample.com/gltc/bpm/rcs/integration/web/services/optimization/web/version/v100}retrieveNewApp=false, {http://www.sample.com/gltc/bpm/rcs/integration/web/services/optimization/web/version/v100}countryCode=HAS, {http://www.sample.com/gltc/bpm/rcs/integration/web/services/optimization/web/version/v100}snapshotVersion=HASE.Cards.V.0.0.0.72, {http://www.sample.com/gltc/bpm/rcs/integration/web/services/optimization/web/version/v100}wsdlVersion=wsdl002, {http://www.sample.com/gltc/bpm/rcs/integration/web/services/optimization/web/version/v100}entityId=HAS, {http://www.sample.com/gltc/bpm/rcs/integration/web/services/optimization/web/version/v100}entityCode=HAS, {http://www.sample.com/gltc/bpm/rcs/integration/web/services/optimization/web/version/v100}processStepInfo=null, {http://www.sample.com/gltc/bpm/rcs/integration/web/services/optimization/web/version/v100}requesterInfo=TWObject[(Active: Y), (Type: 1), (TWClassID: TWClass.848854a5-b044-4fb7-86a2-ac10bad5a84b), (Property names: ID, name), (MetaData: dirty=true, shared=false, key=null, version=null, rootVersionContextID=2064.cebe74fe-ef69-4e12-8c8d-6147a5fb95ea, className=WebUserInfo)], {http://www.sample.com/gltc/bpm/rcs/integration/web/services/optimization/web/version/v100}applicationId=201607846081, {http://www.sample.com/gltc/bpm/rcs/integration/web/services/optimization/web/version/v100}type=0]\n\n[9/5/19 14:02:54:292 GMT] 00000793 wleoutbndws 1 com.ibm.bpm.ws.jaxws.connector.SOAPConnector getOutputParameters getOutputParameters(), outputParameterValues = {http://www.sample.com/gltc/bpm/rcs/integration/web/services/optimization/web/version/v100}returnCode=SUCCESS, {http://www.sample.com/gltc/bpm/rcs/integration/web/services/optimization/web/version/v100}workItemId=2563, {http://www.sample.com/gltc/bpm/rcs/integration/web/services/optimization/web/version/v100}instanceId=41498, {http://www.sample.com/gltc/bpm/rcs/integration/web/services/optimization/web/version/v100}requesterInfo=TWObject[(Active: Y), (Type: 1), (TWClassID: TWClass.848854a5-b044-4fb7-86a2-ac10bad5a84b), (Property names: ID, name, groups), (MetaData: dirty=true, shared=false, key=null, version=null, rootVersionContextID=2064.cebe74fe-ef69-4e12-8c8d-6147a5fb95ea, className=WebUserInfo)], {http://www.sample.com/gltc/bpm/rcs/integration/web/services/optimization/web/version/v100}applicationData=TWObject[(Active: Y), (Type: 1), (TWClassID: TWClass.ac644f76-4913-40df-adf8-4a535e7ddded), (Property names: applicationId, workItemId, currentStatus, smg3CallForSCL, requestedLoanAmount, recommendedLoanAmount, captureDateStr, annualInterestRate, aapsUpdated, mortgageUpdated, maxLTVProject, maxLTVCampaign, avaliableExposureProject, avaliableExposureCampaign, specialIndicator, documents, requiredDocuments, customers, scoringResults, verficationTasks, groupTotalApprovedWIP, totalUnapprovedWIPAppl, textAttrs, accountInfos, cardInfos, appCIFException, appHITException, appFraudException, appExceptionSummary, customerMiscellaneousReference, remarks, uuid, entityId), (MetaData: dirty=true, shared=false, key=null, version=null, rootVersionContextID=2064.cebe74fe-ef69-4e12-8c8d-6147a5fb95ea, className=WebApplicationData)]}\n\n3.Key word:\nfound cached WSAddress\n\nUsage:\nIndicates whether WS address can be found in cache or need to read from WSDL file again, usually this is related to cache setting and performance. The WSDL is downloaded and cached in BPM on the first invocation, so it will be slower the first time. The cache can be adjusted in the configuration files to hold more or less cached WSDL files, but the more in the cache, the more memory will be consumed by the cache.\n\nSample:  \n[9/5/19 09:30:42:584 GMT] 00008cb0 WSAddress       WSAddress.getAddress() with targetURL https://test-bpmcl:443/silws1/ws1/iqAdapter.wsdl Entry \n[9/5/19 09:30:42:584 GMT] 00008cb0 WSAddress     3   cacheKey = https://test-bpmcl:443/silws1/ws1/iqAdapter.wsdl \n[9/5/19 09:30:42:584 GMT] 00008cb0 WSAddress     3   Using key https://test-bpmcl:443/silws1/ws1/iqAdapter.wsdl, found cached WSAddress https://test-bpmcl:443/silws1/ws1/iqAdapter.wsdl, -644025203 \n[9/5/19 09:30:42:584 GMT] 00008cb0 WSAddress     <  WSAddress.getAddress() wsAddr : https://test-bpmcl:443/silws1/ws1/iqAdapter.wsdl Exit \n\n4.Key word:\nSocketChannel\n\nUsage:\nIndicates the status of socket channel connection.\n\nSample:  \n[9/5/19 09:30:18:754 GMT] 0000000d WorkQueueMana 1   SocketChannel connect failed, local: /128.161.56.13:60994 remote: null\n[9/5/19 09:30:18:754 GMT] 0000000d WorkQueueMana 3   SocketChannel.finishConnect Exception Caught: java.net.ConnectException: Connection refused\n[9/5/19 09:30:40:336 GMT] 00008c37 NBAcceptChann 1   SocketChannel accepted, local: /128.161.56.13:9081 remote: /128.161.56.13:59229\n[9/5/19 09:30:42:590 GMT] 00008cb0 WorkQueueMana 1   SocketChannel connected, local: /128.161.56.13:59456 remote: test-bpmcl/128.162.104.57:443\n\n5.Key words:\nTCPBaseReques\nWrote\nRead\n\nUsage:\nIndicates TCP communication read and wrote bytes.\n\nSample:  \n[9/5/19 09:30:42:591 GMT] 00008cb0 TCPBaseReques 1   Wrote 90(90) bytes, 90 requested on local: Sample/128.161.56.13:59456 remote: test-bpmcl/128.162.104.57:443 \n[9/5/19 09:30:42:591 GMT] 00008cb0 TCPBaseReques 3   write complete, at least minimum amount of data written \n[9/5/19 09:30:42:593 GMT] 00008cb0 TCPBaseReques 1   Read 86(86) bytes, 1 requested on local: Sample/128.161.56.13:59456 remote: test-bpmcl/128.162.104.57:443 \n[9/5/19 09:30:42:593 GMT] 00008cb0 TCPBaseReques 3   read complete, at least minimum amount of data read\n\nReference\n\nCollect troubleshooting data for web service problems in IBM Business Process Manager\nhttps://www.ibm.com/support/pages/collect-troubleshooting-data-web-services-problems-ibm-business-process-manager\n\nTroubleshooting web services and outbound web service integrations\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.wle.editor.doc/topics/webservicesecurityI.html\n\nTroubleshooting XML schema messages for web service integrations\nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.wle.editor.doc/topics/troubleshootingxml4webservice.html\n\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Undercover Agent (UCA)","description":"lifengbj@cn.ibm.com","owner":"@Feng Li","path":"/BusinessProcessManager/StandardRuntime/UCA","text":"Date:2019-10-22\n\nOverview\n\nAn Undercover Agent (UCA) listens for triggers from external systems, invokes UCA service components or scheduled, time-based events. UCAs also handle Message Start Events and Message Intermediate Events in a Business Process Definition (BPD) or process. \n\n Component\n\nOn Event – Triggered as a result of an explicit Invoke UCA in a service \n\nWhen a UCA is activated, it basically represents an event. That event can carry payload data with it. When an event arrives and triggers a UCA, the UCA in turn will execute an IBPM service. This is specified by the Attached Service attribute and is commonly an IBPM General Service. The way that the UCA causes the service to be called is not by invoking that service explicitly, instead, the UCA queues the request to start the service on a logical queue. It must be stressed that this is indeed a logical queue and has no relationship to JMS or SI Bus. The queuing mechanism here is used to serialize the execution of UCA originated events. When the UCA places a request on a queue, any further requests placed on that queue are not processed until the previous events have completed which means that the associated services have completed. One exception to this is the special queue called the Async Queue. If the UCA start service request is placed on this queue, further requests to start services will not wait for previous services to complete. The number and names of these queues can be changed in the IBPM Process Admin Console. \n\n Time Elapsed – Triggered on schedule from the run-time\n\nThe Time Schedule defines recurring periods of when the UCA should fire. The Time Schedule is quite flexible in its configuration. Each time the schedule is reached, the UCA fires. Within Process Center there is a Process Server used for testing. It does not make sense for a UCA to fire for each of the schedules held in the repository in the Process Center Server. As such, they simply do not. For testing, the Run now button can be used to explicitly trigger an instance of the UCA. \nWhen a UCA is scheduled, we can see it in the Process Admin Console (PAC) under Event Manager  Monitor\n\nIntermediate Message Event (IME)\n\nThe Message Intermediate Event is an Event listener that is used to listen for incoming events within a process instance that is already running.   \nBecause a Message Intermediate Event listener lives within an existing process instance, when an event occurs that event must be matched against the correct instance of the process for which the event is destined. The ability to match the event against this correct process instance is called \"correlation\". \nThe Message Intermediate Event is actually watching for the arrival of a UCA. When that UCA arrives, the event is said to have happened. This is the mapping between the logical concept of an event and the actual implementation of an event within the IBPM product. \nA Message Intermediate Event is always associated with a UCA and a UCA can carry data with it. In the IBPM PD, we can specify a variable whose value must match that of an incoming event's UCA payload in order to be considered a match. \nMessage Intermediate Event can also be used to invoke a UCA which is the logical equivalent of generating a new message. \n\n Start Message Event (SME)\n\nThe Message Start Event is a starting node that can be used to initiate an instance of a process due to the arrival of an event. When the Message Start Event element is added, the properties of that element allow users to define which UCA should be used. When the UCA fires the data from the UCA is passed as the starting data to the new instance of the Business Process that is to start. \n\nInvoke UCA\n\nWithin a Service, you may wish to invoke a UCA. Invoking a UCA can cause the creation of a new instance of a process. Remember that UCAs are usually associated with an external service or timer causing them to be invoked. Giving us the ability to initiate a UCA explicitly adds a lot more flexibility to solutions we may build. A primitive is supplied that allows us to explicitly invoke a named UCA. \nThe UCA caller primitive's implementation names the UCA that is to be called. The Data Mapping section allows us to map the variables in scope in the process to the parameters expected by the UCA. \n\n Mechanism\nFrom UCA to Message Event\n\nInvocation of the UCA defined in one snapshot and passing data to it. This creates an Event Manager task\nThe execution of the UCA task (and its optional attached service) \nThe delivery of the UCA output to a  number of eligible (correlation) message events, that subscribed to that UCA \n\n How non-durable Subscription work (IME only)\n\nDuring deployment of the process app the linkage between the UCA and the IME will be created in table LSWBPDEVENT \n   Link to UCA → LSWBPDEVENT.UCA_ID\n   non durable subscription → LSWBPDEVENT.DURABALE_SUBSCRIPTION = ‚F‘\nTo subscribe to an UCA message, the token of a process instance needs to be on a message event. Process flow is suspended until the UCA is executed and the IME is ready to consume its output message. \nThere could be multiple IMEs waiting for an UCA message at the same time:  \n→ All of those with correct correlation (explained in detail later)  would receive the message \n\nUCA Correlation:\n\n Prerequisites for UCA execution\n\nThe following conditions need to be met for an UCA to execute: \n\n1.EM active\n&nbsp;&nbsp;&nbsp;&nbsp;→ LSWEMINSTANCE.STATUS = 1 \n2.No Blackout Period active\n&nbsp;&nbsp;&nbsp;&nbsp;→ LSWBLACKOUTCALENDAR\n3.Snapshot containing UCA must be active and default*\n&nbsp;&nbsp;&nbsp;&nbsp;→ LSWSNAPSHOT.ISACTIVE = T\n&nbsp;&nbsp;&nbsp;&nbsp;→ LSWSNAPSHOT.ISDEFAULT = T\n4.UCA enabled in Process Designer \n&nbsp;&nbsp;&nbsp;&nbsp;→ LSWUCA.ISENABLED = T\n5.UCA enabled in PAC (not relevant for event based UCA)\n&nbsp;&nbsp;&nbsp;&nbsp;→ LSW_FAVORITE.ENABLED = T \n\nTroubleshooting\n\n Questions to ask\n\nDid the UCA ever work normally?\nDid you deploy any snapshot before the issue happened? \nIs your BPM in same time zone with your BPM DB?\nIs your Event Manager still working normally?\nCan the tokens in your BPD/Process instances move forward? \nDid you recently apply any fix and strictly follow the migration instruction? \n\nVerifying the UCA \n\nLogin to the Process Admin Console (PAC)  Deployed Apps and check whether the UCA is enabled or not: (make sure the checkbox is selected) \n\nCheck Event Manager Monitor in PAC and make sure the Time Based UCA is NOT scheduled at 2099: \n\n Data Collection \n\n1.To trace the problems that are specific to Undercover Agent or Message Intermediate Event in BPM, the below trace string should be enabled on application server. Please Note: Enabling the trace might slow down your system. Disable this trace after collecting the requested information. \n\n=info:WLE.=all\nBelow is a lightweight trace string that has minor impact on BPM system performance, but please make clients aware that the trace string may not catch all information needed. \nWLE.wle_ucaexception=finest\n\n2.Please dump below tables from the BPM database.  All instances of Time Base UCA should be here. You also can find the next scheduled execution time. \nLSWEMTASK , LSWEMTASKKEYWORDS, LSWUCA\nBelow are the LSW_UCA columns: \n\n3.Event manager logging.\nThis function logs every operation that passes through the core BPMN (Lombardi) engine to the LSWEMTASK_HISTORY table. Complete the following steps. \n\nUse a custom XML configuration file to enable this logging. The following code is the contents of the XML file. The file must be XML compliant and have no extra spaces or line breaks. Due to web page formatting, the  value might not be on one line when it is copied over. \n   \n   \n      \n        \n         com.lombardisoftware.server.scheduler.DbTaskExecutionListener \n        \n      \n     \nPlace this file in the same directory as the 100custom.xml file and restart the IBM Business Process Manager Process Server (AppTarget JVM). For more information on the 100custom.xml file, see Configuration file overview and explanation for Lombardi Teamworks, WebSphere Lombardi Edition (WLE), and the IBM Business Process Manager (BPM) products. \n  \nRestart the server.\n   \nCheck the TeamworksConfiguration.running.xml the  is in the file. If not, repeat steps 1-3 \n\nRun one instance or task. Check the LSW_EM_TASK_HISTORY table for new entries. \n    \nTwo (2) additional tables will be required as well. LSW_EM_TASK and LSW_EM_TASK_KEYWORDS. \n\nExport the tables into an easy to consume text format with CSV (comma separated values) or XSL (Excel spread sheet) or ODS (open document spread sheet) \n    \nAfter problem determination with IBM, remove the custom XML file, restart system to turn off logging, and truncate LSW_EM_TASK_HISTORY. This table can grow very quickly and use database disk space. \n\nAfter completing the previous steps, send the following information to IBM Technical Support using the information in the Exchanging information with IBM Technical Support for problem determination document: \nProvide an exported version of the LSW_EM_TASK_HISTORY table in a .csv or .xsl format. \n\nNote: The removal of data from the LSW_EM_TASK_HISTORY table is a manual process. To stop Event Manager history logging, remove the custom XML file and restart the IBM Business Process Manager Process Server (AppTarget). \n\nProvide the name of the failing or non-functioning UCA. \n\nProvide an exported version of the LSW_EM_TASK table in the .csv format. \n    \nProvide an exported version of the application as a .twx file with details of how to find the UCA that is causing the error. If you cannot export the application, supply screen shots of the UCA settings and also provide a diagram that shows where the UCA is located. \n\nProvide a copy of the Event Manager settings from the 80EventManager.xml file and a copy of the TeamworksConfiguration.running.xml file. Both of these files are located two directories up from the following file path:\n\ninstalldir\\profiles\\profilename\\config\\cells\\cellname\\nodes\\nodename\\servers\\servername\\servertype\\config\\system\\ \n\n4.Request the .twx file for the process application as well as the service name in question.\n\nTrace Analyzing \n\nAll below information are gathered when UCA works correctly. You can search key words and locate the information in trace files. \nUsage 1: Event Manager Start \nKey words: Heartbeat/Acquire \nSample:\n[4/6/17 18:31:20:601 CST] 00001579 Heartbeat     I   CWLLG0570I: Heartbeat paused. \n[4/6/17 18:31:51:466 CST] 000015ee Heartbeat     I   CWLLG0615I: Heartbeat resumed. \n[4/6/17 18:32:06:611 CST] 00000169 TaskLoader    I   CWLLG0597I: Trying to acquire synchronous queue SYNCQUEUE1. \n[4/6/17 18:32:06:639 CST] 00000169 TaskLoader    I   CWLLG0581I: Acquired synchronous queue SYNCQUEUE1. \n[4/6/17 18:32:22:045 CST] 00000169 TaskLoader    I   CWLLG0597I: Trying to acquire synchronous queue SYNCQUEUE2. \n[4/6/17 18:32:22:048 CST] 00000169 TaskLoader    I   CWLLG0581I: Acquired synchronous queue SYNCQUEUE2. \n[4/6/17 18:32:38:259 CST] 00000169 TaskLoader    I   CWLLG0597I: Trying to acquire synchronous queue SYNCQUEUE3. \n[4/6/17 18:32:38:260 CST] 00000169 TaskLoader    I   CWLLG0581I: Acquired synchronous queue SYNCQUEUE3. \n\nUsage 2#: InvokeUCA schedules task \nKey words: TaskManager/scheduleTasks \nComment : Trace file when InvokeUCA triggers a UCA. \nSample:\n[4/19/17 14:03:24:928 CST] 000013b9 TaskManager    com.lombardisoftware.server.scheduler.TaskManager scheduleTasks ENTRY [com.lombardisoftware.server.scheduler.ScheduledTask@629a7f38 \n scheduledTime: 1492581804927 = Wed Apr 19 14:03:24 CST 2017 \n repeatString: null \n execClassName: com.lombardisoftware.server.scheduler.tasks.UcaExecutorTask \n arguments: 4.0ddf859f-d703-4984-a9bc-89bd2ae2b886;7;TonyUCA \n  FCI_C \n   \n    &lt;variable type=\"String\"&gt;&lt;![CDATA[000]]&gt;&lt;/variable&gt; \n   \n \n description: Execute UCA TonyUCA, triggered by invokeUCA \n queueId: -100 \n blackoutCalendarId: 1 \n blackoutBehavior: BlackoutBehavior(3, EXECUTEMANYAFTER_BLACKOUT) \n inClosingTransaction: false \n idInDB: null \n reuseStrategy: 0 \n keywords: List start \n   uca4.0ddf859f-d703-4984-a9bc-89bd2ae2b886 \n   invokeUCA \nList end] true \n/if there is a big gap between BPM Time and BPD DB Time,  the UCA may be executed in wrong time/ \n[4/19/17 14:03:24:928 CST] 000013b9 TaskManager   1 com.lombardisoftware.server.scheduler.TaskManager adjustTaskTimes *** JR43099 currentTime   : 1492581804928 <<<<<<<<<<<<<<<<<<<<<<<< BPM Time \n[4/19/17 14:03:24:928 CST] 000013b9 TaskManager   1 com.lombardisoftware.server.scheduler.TaskManager adjustTaskTimes *** JR43099 currentDbTime : 1492581804928 <<<<<<<<<<<<<<<<<<<<<<<< BPM  DB Time \n[4/19/17 14:03:24:929 CST] 000013b9 TaskManager   1 com.lombardisoftware.server.scheduler.TaskManager adjustTaskTimes *** JR43099 scheduledTime before adjustment: 1492581804927 = Wed Apr 19 14:03:24 CST 2017 \n[4/19/17 14:03:24:929 CST] 000013b9 TaskManager   1 com.lombardisoftware.server.scheduler.TaskManager adjustTaskTimes *** JR43099 scheduledTime after adjustment: 1492581804927 = Wed Apr 19 14:03:24 CST 2017 \n\nUsage 3#: JMS message is triggered \nKey words: BaseJMSEventPublisher.send / UCA \nSample:\n[10/7/16 13:21:40:060 MST] 000001ab wle_event 1 Entering BaseJMSEventPublisher.send, event \nis BranchSummaryChange( clientUUID=feb969dc-c8c4-4434-9ceb-d03fa9a29b3c, branchId=Branch.51857a4de755- \n478d-ad36-86ce6ce3217f, updatedClient=ClientActivitySummary{ seq=335604, \nbranchId=Branch.51857a4d-e755-478d-ad36-86ce6ce3217f, tip=true, user=User.1, editing=[], \nviewingOnly=[ProjectDefaults.3ca830f0-cd7b-4898-aa29-e1444300d644, UCA.0d6a7a19-dec8-4420-8c4e- \n60c71f3a4e3c, BPD.558bf025-049f-48dc-ac58-4373d869d7d7] } ) and message properties is null \n\nUsage 4#: JMS message is received by Event Manager \nKey words: Received Event Manager message \nSample:\n[10/7/16 13:21:40:060 MST] 00000151 EventMgrMessa 1 \ncom.lombardisoftware.server.ejb.eventmgr.EventMgrMessageListenerCore onMessage Received Event \nManager message: \nJMSMessage class: jms_text \nJMSType: null \nJMSDeliveryMode: 2 \nJMSExpiration: 0 \nJMSPriority: 4 \nJMSMessageID: ID:7d556c1e25e710d25a44d203110a134f0000000000000001 \nJMSTimestamp: 1475871699769 \nJMSCorrelationID: null \nJMSDestination: queue://eventqueueDestination.SOA-AppCluster?busName=BPM.IPS-SOA.Bus \nJMSReplyTo: null \nJMSRedelivered: false \nJMSXDeliveryCount: 1 \nJMSIBMSystemMessageID: 2BD73D1D768F047264503589 \nJMSXUserID: uid=deadmin,o=defaultWIMFileBasedRealm \nJMSXAppID: Service Integration Bus \n<?xml version=\"1.0\" encoding=\"UTF-8\"? \n<in:eventmsg xmlns:in=\"http://BPMSOA_StartupInterface/J ... \n\nUsage 5#: UCA is scheduled(Make sure DB Time same to BPM Time) \nKey words: Scheduling task / scheduleTasks \nComment : Trace file when Time Based UCA schedules the execution time. \nSample: \n[10/7/16 13:21:40:078 MST] 00000151 TaskManager  \ncom.lombardisoftware.server.scheduler.TaskManager scheduleTasks ENTRY \n[com.lombardisoftware.server.scheduler.ScheduledTask@5dabbc6f \nscheduledTime: 1475871700066 = Fri Oct 07 13:21:40 MST 2016 \nrepeatString: null \nexecClassName: com.lombardisoftware.server.scheduler.tasks.UcaExecutorTask \narguments: 4.7420f1e5-80f0-46bf-9fb0-26fbbc010498;15;CTA Start UCA \nCTA \n \n&lt;value&gt; \n... \n[10/7/16 13:21:40:090 MST] 00000151 TaskManager 1 \ncom.lombardisoftware.server.scheduler.TaskManager adjustTaskTimes *** JR43099 currentTime : \n1475871700079 \n[10/7/16 13:21:40:090 MST] 00000151 TaskManager 1 \ncom.lombardisoftware.server.scheduler.TaskManager adjustTaskTimes *** JR43099 currentDbTime : \n1475896900000 \n[10/7/16 13:21:40:090 MST] 00000151 TaskManager 1 \ncom.lombardisoftware.server.scheduler.TaskManager adjustTaskTimes *** JR43099 scheduledTime before \nadjustment: 1475871700066 = Fri Oct 07 13:21:40 MST 2016 \n[10/7/16 13:21:40:090 MST] 00000151 TaskManager 1 \ncom.lombardisoftware.server.scheduler.TaskManager adjustTaskTimes *** JR43099 scheduledTime after \nadjustment: 1475896899987 = Fri Oct 07 20:21:39 MST 2016 \n... \n[10/7/16 13:21:40:093 MST] 00000151 TaskManager 1 \ncom.lombardisoftware.server.scheduler.TaskManager scheduleTaskChunk Scheduling task \nTask_Id = 109704 \ncom.lombardisoftware.server.scheduler.ScheduledTask@5dabbc6f \nscheduledTime: 1475896899987 = Fri Oct 07 20:21:39 MST 2016 \nrepeatString: null \nexecClassName: com.lombardisoftware.server.scheduler.tasks.UcaExecutorTask \narguments: 4.7420f1e5-80f0-46bf-9fb0-26fbbc010498;15;CTA Start UCA \nCTA \n \n&lt;value&gt; \n... \n[10/7/16 13:21:40:131 MST] 00000151 TaskManager < \ncom.lombardisoftware.server.scheduler.TaskManager scheduleTasks RETURN 1 \n\nUsage 6#: UCA is executing \nKey words: CWLLG0194I / Executing TASK_ID\nSample: \n[4/19/17 14:03:25:021 CST] 000015a2 Engine        1 com.lombardisoftware.server.scheduler.Engine execute CWLLG0194I: Execution of task Execute UCA TonyUCA, triggered by invokeUCA is beginning. \n[4/19/17 14:03:25:021 CST] 000015a2 Engine        1 com.lombardisoftware.server.scheduler.Engine execute  Executing TASK_ID = 638 \n[4/19/17 14:03:25:021 CST] 000015a2 UcaExecutorTa 1 com.lombardisoftware.server.scheduler.tasks.UcaExecutorTask execute Invoking UCA UCA.0ddf859f-d703-4984-a9bc-89bd2ae2b886 with reason  \n  FCI_C \n   \n    &lt;variable type=\"String\"&gt;&lt;![CDATA[000]]&gt;&lt;/variable&gt; \n   \n \n[4/19/17 14:03:25:021 CST] 000015a2 clientinfoplu 3   preInvoke(executeUCA) \n[4/19/17 14:03:25:022 CST] 000015a2 EventMgrCore   com.lombardisoftware.server.ejb.eventmgr.EventMgrCore executeUCA ENTRY id = UCA.0ddf859f-d703-4984-a9bc-89bd2ae2b886, xmlReason =  \n  FCI_C \n   \n    &lt;variable type=\"String\"&gt;&lt;![CDATA[000]]&gt;&lt;/variable&gt; \n   \n \n\nUsage 7#: UCA is executed successfully or fails \nKey words: CWLLG0202I / CWLLG0204I / CWLLG0203E / Successfully executed task\nUndercover Agent job succeeded / Undercover Agent job failed \nSample:\n[10/7/16 13:23:41:043 MST] 000558b2 wle_scheduler 1 com.lombardisoftware.server.scheduler.Engine \nnotifyListeners CWLLG0202I: When notifying listeners of task 1,124, the following task execution \nlog string was generated: Successfully executed task 'Execute UCA UCA - sinstring - Event, \ntriggered directly (1124, com.lombardisoftware.server.scheduler.tasks.UcaExecutorTask): start \ndelay = 2.0 sec, execution time = 0.54 sec. \n\n[10/7/16 13:23:42:077 MST] 00558b2 wle_scheduler 1 com.lombardisoftware.server.scheduler.Engine \nnotifyListeners CWLLG0204I: Undercover Agent job succeeded. Task 1,124 job details are: \nclass=com.lombardisoftware.server.scheduler.tasks.UcaExecutorTask parameters=[4.0d6a7a19-dec8- \n4420-8c4e-60c71f3a4e3c;27;UCA - sinstring - Event] \n\n[10/7/16 13:23:42:077 MST] 0000004c CWLLG0203E: Undercover Agent job failed. Task 18542 job \ndetails are: class=com.lombardisoftware.bpd.runtime.engine.quartz.DbNotificationBpdTask \nparameters=[1234;654321] \n\nUsage 8#: SME is linked to start new BPD instance in same thread \nKey words: doStartBPD / BPDExecutionContext / createToken \nComment : Trace file when SME receives event from UCA and starts. \nSample:\n//Linking the UCA to the start event of the BPD in the same thread \n[6/30/17 18:47:00:151 AEST] 000558b2 wle_engine 1 \ncom.lombardisoftware.server.ejb.bpd.BPDEngineServicesCore doStartBPD BEGIN: doStartBPD(), bpdId = \nBPD.558bf025-049f-48dc-ac58-4373d869d7d7, name = IBM L2 - test SME with UCA - sinstring, \nstartEventId = BPDObjectIdImpl(bpdid:0574f2181bf4aeec:-484d2df6:13b3e1187dd:-7fc3) \n//Executing the instance created from the start message event (SME) \n[6/30/17 18:47:00:154 AEST] 000558b2 wle 1 \ncom.lombardisoftware.bpd.runtime.engine.BPDExecutionContext BPDExecutionContext BEGIN: \nconstuctor(), instanceId = BpmnInstanceId(958), diagramId = Ref[/BPD.558bf025-049f-48dc-ac58- \n4373d869d7d7], startObjectId=BPDObjectIdImpl(bpdid:0574f2181bf4aeec:-484d2df6:13b3e1187dd:-7fc3), \nstartLaneOwnerId = 9 \n//Creating the BPMN token for the instance \n[6/30/17 18:47:00:155 AEST] 000558b2 wle 1 \ncom.lombardisoftware.bpd.runtime.engine.BPDNetState createToken END: createToken(), result = \nBPDToken(bpdInstanceId=BpmnInstanceId(958), tokenId=0, locationId = \nBPDObjectIdImpl(bpdid:0574f2181bf4aeec:-484d2df6:13b3e1187dd:-7fc3)) \n//Execution context saving for this instance. \n[6/30/17 18:47:00:155 AEST] 000558b2 wle 1 \ncom.lombardisoftware.bpd.runtime.engine.js.BPDTWSystemBPDScriptable setBpdExecutionContext BEGIN: \nsetBpdExecutionContext(), bpdExecutionContext =  \n \n \nBPD.558bf025-049f-48dc-ac58-4373d869d7d7 \nIBM L2 - test SME with UCA - sinstring \n \n \n-1 \n \n \n \nBpmnInstanceId(958) \n0 \nBPDObjectIdImpl(bpdid:0574f2181bf4aeec:-484d2df6:13b3e1187dd:- \n7fc3) \n \n \n \n \n \nbpdid:0574f2181bf4aeec:-484d2df6:13b3e1187dd:-7fe9 \n9 \n \n \n \n \n \n\nUsage 9#: Message is stored if Durable Subscription is checked in IME definition \nKey words: DurableMessageCheckTask \nComment: Trace file when Message stored for Durable Subscription. \nSample:\n[6/30/17 18:46:59:992 AEST] 00000194 Engine كcom.lombardisoftware.server.scheduler.Engine \nloadTasksIfOwnerInternal loaded task: com.lombardisoftware.server.scheduler.FullTask@c912518f \ntaskId: 507 \nscheduledTime: 1498812419914 = Fri Jun 30 18:46:59 AEST 2017 \ndbScheduledTime: 1498812419992 = Fri Jun 30 18:46:59 AEST 2017 \nexecuteTime: 1498812419992 = Fri Jun 30 18:46:59 AEST 2017 \ndbExecuteTime: 1498812419992 = Fri Jun 30 18:46:59 AEST 2017 \ndiscriminator: 295 \nrepeatString: null \ndescription: Check For Durable Message Waiters for message 442381631502 \nblackedOut: false \nblackoutCalendarId: 1 \nblackoutBehavior: BlackoutBehavior(2, EXECUTEONEAFTER_BLACKOUT) \nqueueId: -101 \nexecClassName: com.lombardisoftware.bpd.runtime.engine.message.DurableMessageCheckTask \narguments:  \n \n \n<![CDATA[0481112330]] \n<![CDATA[I am who I am!]] \n \n \n&lt;cv cpi=\"2055.e27b3233-e57b-42ac-ad5c-ec000c2122c8\" \ntype=\"String\"&gt;&lt;![CDATA[938912399]]&gt;&lt;/cv&gt; \n \n \ninClosingTransaction: false \nreExecuteCount: 0 \nkeywords: List start \nmsg.id.442381631502 \nList end \n\nUsage 10#: Event is received by IME, including IME name & parameter \nKey words: BPD Event ID: / Event Type: 3 / Finished parsing event \nComment: Trace file when IME receives Message. \nSample:\n[6/30/17 18:47:00:117 AEST] 00002bd8 \nBPDEngine فcom.lombardisoftware.bpd.runtime.engine.BPDEngine \nprocessNotificationRegardlessStatus processNotification(), treeNode = Step (IME) \n[6/30/17 18:47:00:117 AEST] 00002bd8 FlowObjectExe 1 \ncom.lombardisoftware.bpd.runtime.engine.FlowObjectExecutionTreeNode doWork \ncanExecutePreAssignments = true \n[6/30/17 18:47:00:117 AEST] 00002bd8 FlowObjectExe 1 \ncom.lombardisoftware.bpd.runtime.engine.FlowObjectExecutionTreeNode doWork \ncanExecuteAttachedEvents = true \n[6/30/17 18:47:00:117 AEST] 00002bd8 MessageEventW 1 \ncom.lombardisoftware.bpd.component.flowcomponent.event.worker.MessageEventWorkerHelper \nprocessIntermediateAction processIntermediateMessageAction(...) state is 1 \n[6/30/17 18:47:00:117 AEST] 00002bd8 wle_sca ف Event actionType:1, actionSubType:0 \n[6/30/17 18:47:00:117 AEST] 00002bd8 wle_sca ف BpmnId: \nBPDObjectIdImpl(bpdid:6bad0ab0745abd48:3dff7ae:15caa7a2583:-7fa8) \n[6/30/17 18:47:00:117 AEST] 00002bd8 wle_sca 1 BPD Event ID: BpdEvent.0273b4d2-8b39- \n44b5-94cf-96864773361c \n[6/30/17 18:47:00:117 AEST] 00002bd8 wle_sca 1 Name: IME \n[6/30/17 18:47:00:117 AEST] 00002bd8 wle_sca 1 Event Type: 3 \n[6/30/17 18:47:00:117 AEST] 00002bd8 wle_sca 1 Action Type: 1 \n[6/30/17 18:47:00:117 AEST] 00002bd8 wle_sca 1 Action SubType: 0 \n[6/30/17 18:47:00:117 AEST] 00002bd8 wle_sca 1 Event ucaRef: Ref[/UCA.b951d712-595a- \n4700-9845-d29cc60dff5e] \n[6/30/17 18:47:00:117 AEST] 00002bd8 wle_sca 1 SCA Service Identigier: null \n[6/30/17 18:47:00:117 AEST] 00002bd8 wle_sca 1 SCA Service MessageObject: null \n[6/30/17 18:47:00:117 AEST] 00002bd8 wle_sca 1 \n<<<<<<<<<<<<<<<<<<<<< Finished parsing event <<<<<<<<<<<<<<<<<<< \n[6/30/17 18:47:00:117 AEST] 00002bd8 MessageEventW 1 \ncom.lombardisoftware.bpd.component.flowcomponent.event.worker.MessageEventWorkerHelper \nassignOutputValues Assigning value of output parameter name = message, value = I am who I am! to \ntw.local.message \n[6/30/17 18:47:00:117 AEST] 00002bd8 MessageEventW 1 \ncom.lombardisoftware.bpd.component.flowcomponent.event.worker.MessageEventWorkerHelper \nassignOutputValues Assigning value of output parameter name = key, value = 0481112330 to \ntw.local.key \n\nUsage  11#: IME execution is done (must be POST instead of PRE) \nKey words: fireEvent / Flow Object: Event IME (POST) / INTERMEDIATION_TYPE\nComment: Trace file when IME completes successfully. \nSample:\n[6/30/17 18:47:00:133 AEST] 00002bd8 FlowObjectExe  \ncom.lombardisoftware.bpd.runtime.engine.FlowObjectExecutionTreeNode fireEvent ENTRY \n[6/30/17 18:47:00:133 AEST] 00002bd8 FlowObjectExe 1 \ncom.lombardisoftware.bpd.runtime.engine.FlowObjectExecutionTreeNode fireEvent Flow Object: Event \nIME (POST) \n[6/30/17 18:47:00:133 AEST] 00002bd8 FlowObjectExe 1 \ncom.lombardisoftware.bpd.runtime.engine.FlowObjectExecutionTreeNode fireEvent Event type: \nINTERMEDIATE_TYPE \n[6/30/17 18:47:00:133 AEST] 00002bd8 FlowObjectExe 1 \ncom.lombardisoftware.bpd.runtime.engine.FlowObjectExecutionTreeNode fireEvent FlowObject IME has 1 \nevent action(s). \n[6/30/17 18:47:00:148 AEST] 00002bd8 FlowObjectExe < \ncom.lombardisoftware.bpd.runtime.engine.FlowObjectExecutionTreeNode fireEvent RETURN \n\nReference\n\nCollect troubleshooting data for UCA problems in IBM Business Process Manager \nhttp://www-01.ibm.com/support/docview.wss?uid=swg21660915 \n\nWhat are the expected log entries in BPM when using a UCA to start a process https://developer.ibm.com/answers/questions/168562/what-are-the-expected-logentries-in-bpm-when-usin.html \n\nWhen the exception \"CWLLG0203E:Undercover Agent job failed\" occurs, what do the parameters mean in the exception stack \nhttps://developer.ibm.com/answers/questions/165834/an-exception-cwllg0203eoccured-while-running-an-u.html \n\nCommon steps to resolving issues with undercover agents in IBM Business Process Manager \nhttp://www-01.ibm.com/support/docview.wss?uid=swg27041883 \n\n Common Scenario: \n\nHere is how InvokeUCA triggers an IME.  \n1.Make sure EM is running &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Usage 1#) \n2.InvokeUCA starts correctly &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Usage 2#) \n3.JMS Message is triggered &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Usage 3#) \n4.JMS Message is received by EM &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Usage 4#) \n5.UCA is scheduled &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Usage 5#) \n6.UCA is executing &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Usage 6#) \n7.UCA is executed successfully &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Usage 7#) \n8.Event is received by IME &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Usage 10#) \n9.IME execution is done &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Usage 11#) \n\nSQL to check BPM status in DB \n\n1.Get BPM configuration file TeamWorksConfiguration.running.xml: \n\"profiles/$bpmnode/config/cells/$cellname/nodes/$nodename/servers/$servername/process-center(server)\" \n \n2.Run the following queries: \n2.1) \nselect EXECUTIONSTATUS, count(*) cnt from lswbpdinstance group by EXECUTIONSTATUS \n2.2) \nselect count(*) from lsw_task \n2.3) \nselect count(*) from lswepvvar_value \n2.4) \nselect * from lswemtask \n2.4) do not run this query if 2.3 return big number, run it after cleanup the EPV var value history for this case. \nselect * from ( \nselect distinct epvVarVal.EPVVARID, epvVarVal.EPVVARVALUE_ID, \ncase \nwhen epvVarVal.reason is null and epvVarVal.value is null then 0 \nwhen epvVarVal.reason is null and epvVarVal.value is not null then length(epvVarVal.value) \nwhen epvVarVal.reason is not null and epvVarVal.value is null then length(epvVarVal.reason) \nelse length(epvVarVal.value) + length(epvVarVal.reason) end as lob_len, \nepvVarVal.EFFECTIVE_ON \nfrom lswepvvar_value epvVarVal \norder by lob_len desc \n) where rownum < 50\n2.5) \nselect taskstatus, count(*) cnt from lswemtask group by taskstatus \n2.6) \nselect TASKSTATUS, count(*) as cnt from lswemtask group by TASKSTATUS order by cnt desc \n2.7) \nselect TASKEXECUTIONCLASS, count(*) as cnt from lswemtask group by TASKEXECUTIONCLASS order by cnt desc \n2.8) \nselect TASKEXECUTIONCLASS, TASKSTATUS, count(*) as cnt from lswemtask group by TASKEXECUTIONCLASS, TASKSTATUS order by cnt desc \n2.9) \nselect count(*) from LSWEMTASK where taskid in (select taskid from lswemtask_keywords where keyword = 'retryLimitExceeded') \n2.10) \nselect count(*) from lsw_favorite\n2.11) \nselect count(*) from lswusrxref \n2.12) \nselect count(*) from lswusrgrp_xref\n2.13) \nselect count(*) from lswusrgrpmemxref \n2.14) \nselect count(*) from lswgrpgrpmemexploded_xref \n2.15) \nselect ISACTIVE, count(*) from lswsnapshot group by IS_ACTIVE \n\n \n","wordCount":0,"topics":[],"type":"Content"},{"name":"Process Admin Console","description":"shangjin@cn.ibm.com;shyuan@cn.ibm.com","owner":"@Jin Shang,@Yuan Shang","path":"/BusinessProcessManager/StandardRuntime/ProcessAdminConsole","text":"Date:2019-11-1\n\nOverview\nThe Process Admin Console provides configuration and management approaches for the process server in BPM environment. \n\nThe Process Admin Console provides functionality to manage BPM users, as well as the queues and caches for particular server. The console also provides tools to configure the installed applications.  \n\nTo work with the Process Admin Console: \n\nUse the Server Admin page to perform server administration tasks and view status information for process instances and applications. \nUse the Process Inspector page to view and manage process instances for process applications. \nUse the Installed Apps page to view and manage snapshots of installed process applications. \n\n Prerequisites\n\nComponent \n\n1.Server Admin\n\nWhen the Process Admin Console starts, it displays the Server Admin capabilities. You can perform server administration tasks, user and group management, process and event monitoring in this area. Use the WebSphere command-line administration tool (wsadmin) AdminConfig commands to change the access restriction or grant access to additional users to the listed menu. \n\n2.Process Inspector\n\nUse Process Inspector to view and manage process instances for process applications that are running on a specific process server. You can use Process Inspector to investigate and resolve runtime problems with process instances.  \n\nThe Process Inspector provides information about events and processes across your entire system-including information about such things as general metadata, current activities, timers, message events, orphaned tokens, and the status of tasks. In addition to viewing the detailed activity information about process instances, you can also interactively perform certain troubleshooting and maintenance tasks. For example, from the Process Inspector display, you can delete a process instance, or restart a group of failed process instances. \n\nHere are some typical activities administrator and task owners can perform on Process Inspector.  \n\nDelete Process Instances\nDeletes a completed, failed, or suspended process instance on a non-production server. The delete action is not available on production servers. After a process instance is deleted, the row is gone and can be recovered only by using a backup. There is no way to revive a deleted process instance.\n\nDelete Orphaned Tokens\nDeletes orphaned tokens from the process instance to allow processing to continue. \nOrphan tokens occur when an instance migrates from one snapshot to another and there is an activity in the old snapshot that contains a token but the activity does not exist in the new snapshot. Deleting orphaned tokens does not recover the orphaned tokens, but allows the process to resume so that the remaining process tokens can proceed. \n\nManage Process Instances\nEdit Data section, change Due Date, Resume, Retry failed steps, Suspend the active instances, and Terminate failed or suspended instances.  \n\n** All of the actions above regarding to process instances can be done by bulk processing. \n\nManage Runtime Activity Actions\nActions include ‘Disable’, ‘Start’, and ‘Enable’ to change the state. \n\nManage Tasks\nAssign tasks to a user, remove the assignment, Edit Data section, Priority, and Due Date,\n\n** Only the task owner or a member of the task owner's team can view and modify task data. By default, members of the BPM security group can act on the associated process instance.  \n\nAdministering Process with Process Inspector  \nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.admin.doc/topics/tadmprocinspector.html\n\n3.Installed Apps\n\nThe Installed Apps area provides capabilities to administer and configure runtime settings for application snapshots that are installed on a Process Server. \n\n Troubleshooting \n\nData Collection\n\n1.To trace the problems that are specific to user and group management issues, below trace string should be enabled on application server: \n\n=info:WLE.=all \n\n2.To trace the problems that are specific to process inspector, below trace string should be enabled on application server: \n\n=info:com.ibm.bpm.wle.query.=all:com.ibm.bpm.wle.util.=all:com.ibm.bpm.rest.=all \n\nIf the results shown on Inspector is not expected or different from what is captured from DB directly, the following database trace is also appropriate.  \n=info: WLE.=all: WAS.clientinfopluslogging=all \n\nSometimes we also need to enable Fiddler trace and Instrumentation logs to assist the troubleshooting.\n\n3.If the issue is related to user not able to see expected menus in Server Admin console, collect the following data. \n\n1)SystemOut.log file \n2)Outcome of below command: \nwsadmin -conntype NONE -lang jython -f \\util\\Security\\BPMSecurityConfig_sample.py -E  -g  \nThe console value can be found in the 'Properties' column of Table 2 in link https://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.admin.doc/topics/csecconfigproperties.htmlcsecconfigproperties_pac \nFor example: \nwsadmin -conntype NONE -lang jython -f C:\\IBM\\BPM\\v8.6\\util\\Security\\BPMSecurityConfig_sample.py -E ProcessCenter -g console.manage.caches \n3)For the user who cannot access certain control panels, execute below command in IE and collect the output. \nhttp://[server]:[port]/rest/bpm/wle/v1/user/[userName]?parts=all \nFor example: \nhttp://localhost:9080/rest/bpm/wle/v1/user/deadmin?parts=all \n\nData Analysis \n\n1.For troubleshooting the issue related to user not able to see expected menus in Process Admin Console, compare the outputs of commands mentioned in 3 in Data Collection section. The output of wsadmin likes below. \nC:\\IBM\\BPM\\v8.6\\binwsadmin -conntype NONE -lang jython -f C:\\IBM\\BPM\\v8.6\\util\\Security\\BPMSecurityConfig_sample.py -E ProcessCenter -g console.manage.caches \nWASX7357I: By request, this scripting client is not connected to any server process. Certain configuration and application operations will be available in local mode. \nWASX7303I: The following options are passed to the scripting environment and are available as arguments that are stored in the argv variable: \"[-E, ProcessCenter, -g, console.manage.caches]\" \n\nCurrent value for property console.manage.caches in DE ProcessCenter is: \nconstraint 0 : tw_admins \n\nAbove outcome indicates the Manage Caches menu is only visible for group tw_admins. \n\nThen check the membership definitions in the REST result. The result should contain below definition if the user wants to see the menu. \ntw_admins \n\nOtherwise, customer should change the access restriction and grant proper access to the user by using wsadmin AdminConfig command as described in below article. \nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.admin.doc/topics/csecconfig_properties.html \n\n2.Two typical issues occurred on Process Inspector are \n\n&nbsp;&nbsp;&nbsp;&nbsp;a.We see unexpected results at the search panel.  \n&nbsp;&nbsp;&nbsp;&nbsp;b.Overall search behavior is very slow (performance)  \n\nWe see unexpected results at the search panel.  \n\nFor example, client searched and clicked the task data of a specific user task at Inspector.  However, nothing can be displayed, and a pop-up window showed the following exception: \nCWTBG0019E: Unexpected exception during execution. Exception \ninformation: 'For input string: \"null \n\nFirstly, we could check the server logs and ffdc to see what happened.  \n\nKeywords: createProcessInstanceCompleteDetails, updateTaskTypes, and getResponseData \nThese errors also occurred in the logs \n[7/6/14 15:45:34:769 SGT] 00000144 BaseProcessIn E    \ncom.ibm.processinspector.rest.ProcessAdminRestException \n at \ncom.ibm.processinspector.rest.BaseProcessInspectorRestAPI.getRes \nponseData(BaseProcessInspectorRestAPI.java:762) \n at \ncom.ibm.processinspector.rest.BaseProcessInspectorRestAPI.update \nTaskTypes(BaseProcessInspectorRestAPI.java:589) \n at \ncom.ibm.processinspector.rest.BaseProcessInspectorRestAPI.create \nProcessInstanceCompleteDetails(BaseProcessInspectorRestAPI.java: \n393) \n at \ncom.ibm.processinspector.rest.ProcessInstanceSearchAPIImpl.getPr \nocessInstanceCompleteDetails(ProcessInstanceSearchAPIImpl.java:1 \n388) \n at \ncom.ibm.processinspector.server.handlers.ProcessInstanceDetailsH \nandler.handleRequest(ProcessInstanceDetailsHandler.java:63) \n at \ncom.ibm.processinspector.server.BPMInspectorRestFacade.doGet(BPM \nInspectorRestFacade.java:124) \n \n\nAnd the following stack \n[7/6/14 15:46:00:205 SGT] 00000144 RestHelper    W   Invalid \nUUID string  'null' \njava.lang.IllegalArgumentException:  Invalid UUID string 'null' \n at com.lombardisoftware.core.TWUUID.invalid(TWUUID.java:131) \n at com.lombardisoftware.core.TWUUID.fromString(TWUUID.java:47) \n at \ncom.lombardisoftware.client.persistence.common.ID$UUID.(ID \n.java:198) \n at \ncom.lombardisoftware.client.persistence.common.ID.get(ID.java:24 \n1) \n at \ncom.ibm.bpm.rest.internal.impl.WLE75InternalAPIImpl.findVersioni \nngContextAndServiceById(WLE75InternalAPIImpl.java:805) \n at \ncom.ibm.bpm.rest.internal.impl.WLE75InternalAPIImpl.findServiceB \nyId(WLE75InternalAPIImpl.java:789) \n at \ncom.ibm.bpm.rest.impl.service.ServiceModelResource.getServiceMod \nel(ServiceModelResource.java:107) \n\nBased on the stack above, we need to understand why a UUID type value was given an invalid string null value, while our code is trying to get this data for display.     \n\nWe could try to check the BPD in problem and verify whether it’s expected to see this ‘invalid string value’.  \n\nBut we checked with client and understood that this was not an internal call and it’s an external activity, and they cannot provide us the information on BPD details.  Therefore, we suggested client to enable the fiddler trace as well as the REST API trace, and the following HTTP URL request could be seen in the browser's web console or fiddle logs: \nhttps://:/rest/bpm/wle/v1/process/null \n\nThis request illustrated that this issue can be either caused by the external client which sent this request OR our product code which is used to parse the incoming request.  \n\nOverall search behavior is very slow (performance)  \n\nThe performance issue of Inspector always contributes to a quite large number of cases we handled.  Many of them might be caused by the large number of existing instance/tasks data, some of them are led by the imperfect database queries designed by our product, and a few of them are related to how a specific database vendor like DB2 or Oracle handle the complicated or nested SQL clauses.  \n\nFor a complicated Inspector performance issue, we will need to check the send and response time layer by layer including the database activities, web browser, and server.  \n\nBrowser → Server → Database → Server → Browser  \n\nFor example, if a client made a customized search on Process Inspector and it took more than 30s or longer to display the results Or it might get stuck at the loading page.  \n\nDB:  \nWe could firstly suggest client to enable the database trace, and see how it took at DB side to get the response back.  \nIf the time elapsed at DB side has already occupied most of the time, then we will need to focus on the question what took DB such a long time to give the response.      \nIt’s recommended for client to query their total number records of some key tables in BPMDB, especially for LSWBPDINSTANCE, and LSW_TASK.     \nAlso, try to locate the most expensive SQL query from DB trace or client’s DBA can also provide the Oracle AWR and SYSIBMADMIN.TOPDYNSQL view as reference.  \n\nSERVER: \nThe issues happened at server side may vary, we will need to check the server log exception to determine what kind of server issue it could be.  \n\nBROWSER: \nIf the response time at DB and server sides look good for us, we will need to enable Fiddler trace or sometimes network trace to diagnose the performance issue only occurred at browser side.  \n\nBest Practice for Ultimate Process Inspector Performance  \n&nbsp;&nbsp;&nbsp;&nbsp;-  Delete completed Process Instances \n&nbsp;&nbsp;&nbsp;&nbsp;-  Delete Closed Tasks  \n(Detailed information on instance & tasks cleanup can be found at our Chapter ‘Housekeeping’) \n\nReference \n\nCollect troubleshooting data for problems with the Process Admin Console in IBM Business Process Manager (BPM) \nhttps://www.ibm.com/support/pages/collect-troubleshooting-data-problems-process-admin-console-ibm-business-process-manager-bpm \n\nReading and decoding instrumentation files for WebSphere Lombardi Edition (WLE), and IBM Business Process Manager (BPM) products \nhttps://www.ibm.com/support/pages/reading-and-decoding-instrumentation-files-websphere-lombardi-edition-wle-and-ibm-business-process-manager-bpm-products \n\n \n \n","wordCount":0,"topics":[],"type":"Content"},{"name":"Document Store & ECM Integration","description":"shangjin@cn.ibm.com","owner":"@Jin Shang","path":"/BusinessProcessManager/StandardRuntime/DocumentStore&ECMIntegration","text":"Date:2019-11-12\n\nOverview \n\nIn IBM Business Process Manager (BPM), you can work with documents on an Enterprise Content Management (ECM) server in a business process. The ECM server where the documents are stored can be any of the following: \nBPM document store \nAn external ECM server \n\nThe BPM document store is a Content Management Interoperability Services (CMIS) embedded document repository that uses FileNet to store documents in BPM version 8.5.5.0 and later. BPM also provides capability to directly interact with an external ECM server such as IBM FileNet P8 to store the documents. You can create, edit, and work with documents on the ECM server using documents coach views or content integration in a service. \n\nThe document store functionality is provided by the below enterprise applications: \n<table border=\"1px solid ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    IBM BPM CMIS SingleCluster\n  \n  \n    IBM BPM DocStoreAdmin SingleCluster\n  \n  \n    IBM BPM DoccumentStore SingleCluster\n  \n\nPrerequisites (Optional) \n\nThe IBM FileNet P8 platform offers enterprise-level capability to access and manage all forms of content. Below topic introduces the architecture overview of FileNet P8 platform. \nhttps://www.ibm.com/support/knowledgecenter/SSNW2F_5.5.0/com.ibm.p8.sysoverview.doc/p8sov083.htm \n\nYou should add the Content Management (SYSCM) toolkit to your dependencies, if it has not been added as you will need access to the ECM types. To add this toolkit dependency, select + beside TOOLKITS. In the Add dependency menu, select the Content Management toolkit version you require. \n\n Component \n\n1.Documents Coach Views \nTo store a document, use one of the document coach views. The type of documents that you want to work with determines which of the following coach views you can use: \nBPM Documents: BPM Document List view \nExternal ECM documents: Document Explorer view or ECM Document List view \n\nFrom these views, you can retrieve a set of documents from an ECM server, display a selected document, and store documents. The way that you configure the document coach view determines how the view behaves in the process.  \n\nHow to create, update and view documents from BPM document store \nhttps://www.youtube.com/watch?v=VQhh__rwwDk \n\n2.Content Integration \nThe heritage human service and integration service supply Content Integration node to integrate with BPM document store or an external ECM server. If you are working with an external ECM system rather than BPM document store, you should add the Enterprise Content Management Server in Process App Settings before configuring content integration node in service. Refer to below topic on knowledge center for details of content integration configuration. \n\nIBM Business Process Manager 8.6.0 - Integrating with an ECM system or an IBM BPM store \nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.wle.editor.doc/topics/tecmbldintegrationsrv.html \n\n3.ACCE Console \nUse the ACCE Console (IBM Administration Console for Content Platform Engine) to administer objects, such as folders and documents, in the embedded document store that is available in BPM. \nhttps://myserver.example.com:9443/acce\n\n4.EmbeddedECMTechnicalUser \nThe EmbeddedECMTechnicalUser role defaults to the deployment environment administrator, which is used by BPM to access ECM with administrator privileges. Check the authentication alias assigned to the EmbeddedECMTechnicalUser role in Servers  Deployment Environments  myDEname  Authentication aliases. Note the alias name that is used for the EmbeddedECMTechnicalUser role. \n\n5.Content Engine Startup Context (Ping Page) \nYou can verify that the embedded Content Platform Engine deployment by accessing the Content Platform Engine Startup Context (Ping Page) - http://server:port/FileNet/Engine. For example: http://localhost:9080/FileNet/Engine. \n\nTo access the page, you should map the deployment environment administrator to the IBMBPMDocumentStore application in Integrated Solutions Console. \n\nTroubleshooting \n\n Data Collection\n\n1.To trace the problems that are specific to ECM/document store issues, below trace string should be enabled on application server: \n\n=info:WLE.=all:com.ibm.bpm.embeddedecm.=all:com.ibm.bpm.integration.=all:com.ibm.bpm.auth.=all:WAS.clientinfopluslogging=all:com.lombardisoftware.component.ecmconnector.=all \n2.Collect below data after reproducing the issue. \n\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1)The entire server logs directory from the BPM node profile(s): \n\"/$installroot/profiles/$bpmnode/logs/\" \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2)For document store issue, collect the p8servererror.log and p8servertrace.log files in the FileNet directory from the BPM node profiles(s): \n\"/$installroot/profiles/$bpmnode/FileNet/$bpm_server\" \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3)BPM configuration file TeamWorksConfiguration.running.xml: \n\"profiles/$bpmnode/config/cells/$cellname/nodes/$nodename/servers/$servername/process-center(server)\" \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4)The .twx file for the process application as well as the service name in question. \n\n3.Collect the outcome of the getDocumentStoreStatus command to obtain the status of the BPM document store and the IBMBPMDocumentStore application. Example: AdminTask.getDocumentStoreStatus('[-deName myDeName]’) \nReference link: \n\nIBM Business Process Manager 8.6.0 - getDocumentStoreStatus command \nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.ref.doc/topics/rrefgetdocstorestatus.html \n\nData Analysis \n\nThe following trace snippets present the normal behavior of document store operations. Use the key word to review traces so that you can understand in which procedure the case error happens. \n\n1.Key words:  \nECMConnection \ngetEmbeddedECMConnection\n\nUsage: \nEstablish connection with ECM server. \n\nSample:  \n[9/15/19 20:20:33:233 IST] 0001fe21 ECMConnection  com.ibm.bpm.integration.runtime.ECMConnection getEmbeddedECMConnection ENTRY \n[9/15/19 20:20:33:233 IST] 0001fe21 ECMConnection < com.ibm.bpm.integration.runtime.ECMConnection getEmbeddedECMConnection RETURN com.ibm.bpm.integration.runtime.ECMConnection@d8164bed  \n\n2.Key words:\nDocumentStore \nmapECMPropertiesToLocalDocument\n\nUsage: \nRead ECM properties of document. \n\nSample:  \n[9/15/19 20:20:33:248 IST] 0001fe21 DocumentStore  com.ibm.bpm.integration.runtime.DocumentStoreUtils mapECMPropertiesToLocalDocument ENTRY com.lombardisoftware.data.Document@dc3bc820 [PropertyImpl [objectTypeId=IBMBPMDocumentProcessInstanceId, values=[-1]], PropertyImpl [objectTypeId=IBMBPMDocumentFileNameURL, values=[TextFile1.log]], PropertyImpl [objectTypeId=IBMBPMDocumentFileType, values=[FILE]], PropertyImpl [objectTypeId=IBMBPMDocumentUserId, values=[9]], PropertyImpl [objectTypeId=IBMBPMDocumentHideInPortal, values=[false]]] \n[9/15/19 20:20:33:248 IST] 0001fe21 DocumentStore 3 com.ibm.bpm.integration.runtime.DocumentStoreUtils mapECMPropertiesToLocalDocument Setting bpdInstanceId to -1 \n[9/15/19 20:20:33:248 IST] 0001fe21 DocumentStore 3 com.ibm.bpm.integration.runtime.DocumentStoreUtils mapECMPropertiesToLocalDocument Setting fileName to TextFile_1.log \n[9/15/19 20:20:33:248 IST] 0001fe21 DocumentStore 3 com.ibm.bpm.integration.runtime.DocumentStoreUtils mapECMPropertiesToLocalDocument Setting fileType to FILE \n[9/15/19 20:20:33:248 IST] 0001fe21 DocumentStore 3 com.ibm.bpm.integration.runtime.DocumentStoreUtils mapECMPropertiesToLocalDocument Setting author to [UserInfo id=User.9 fullname=null username=null userState=null data=null lastLoginTime=null] \n[9/15/19 20:20:33:248 IST] 0001fe21 DocumentStore 3 com.ibm.bpm.integration.runtime.DocumentStoreUtils mapECMPropertiesToLocalDocument Setting hideInPortal to false \n[9/15/19 20:20:33:248 IST] 0001fe21 DocumentStore < com.ibm.bpm.integration.runtime.DocumentStoreUtils mapECMPropertiesToLocalDocument RETURN \n\n3.Key word: \nBPMDocumentUt\n\nUsage: \nIndicates the document operation and the corresponding document ID in ECM server. \n\nSample:   \n[9/15/19 20:20:33:264 IST] 0001fe21 BPMDocumentUt  com.ibm.bpm.embeddedecm.documents.BPMDocumentUtils createDocument ENTRY 5 5 TestFile1.log 9 -1 false null TextFile1.log FILE {} true java.io.ByteArrayInputStream@76a5fd3e null TextFile_1.log false \n[9/15/19 20:20:33:530 IST] 0001fe21 BPMDocumentUt < com.ibm.bpm.embeddedecm.documents.BPMDocumentUtils createDocument RETURN CreateDocumentResult(id=idd6067356D-0000-CE18-A9DB-CACB613E4437, versionSeriesId=idv6067356D-0000-C313-9C12-3B9696B4A451, version=1) \n\n4.Key word: \nECMIntegratio \ngetDocument\n\nUsage: \nIndicate the Get Document operation implementation procedure in Content Integration node. \n\nSample:   \n[9/15/19 21:16:36:020 IST] 00025136 ECMIntegratio  com.ibm.bpm.integration.runtime.ECMIntegrationServices getDocument ENTRY ExecutionStack(ExecutionJob(worker(com.lombardisoftware.component.ecmconnector.worker.ECMConnectorWorker@3d3138bc), processItemId = ProcessItem.b678352b-a338-4fc8-a460-95a0add79984, processTiming = N, saveExecutionContextBehaviour = EXECUTIONCONTEXTDONOTSAVE)), SymbolTable(SymbolTable(...)), sharedData = null EMBEDDEDECMSERVER {6067356D-0000-CE18-A9DB-CACB613E4437} \n[9/15/19 21:16:36:098 IST] 00025136 ECMIntegratio < com.ibm.bpm.integration.runtime.ECMIntegrationServices getDocument RETURN DocumentImpl [objectId=idd6067356D-0000-CE18-A9DB-CACB613E4437, objectTypeId=IBMBPMDocument, name=TestFile1.log, checkinComment=null, contentFileName=TextFile_1.log, contentLength=5577, contentMimeType=application/octet-stream, createdBy=deadmin,… \n\n Reference\n\n1.Collect troubleshooting data for BPM document store or ECM problems in IBM Business Process Manager (BPM) and IBM Business Automation Workflow (BAW) \nhttps://www.ibm.com/support/pages/collect-troubleshooting-data-bpm-document-store-or-ecm-problems-ibm-business-process-manager-bpm-and-ibm-business-automation-workflow-baw \n\n2.Troubleshooting interactions with Enterprise Content Management systems \nhttps://www.ibm.com/support/knowledgecenter/SSFPJS8.6.0/com.ibm.wbpm.wle.editor.doc/topics/recmtrouble.html \n\n3.Limitations in working with IBM BPM documents \nhttps://www.ibm.com/support/knowledgecenter/SSFPJS_8.6.0/com.ibm.wbpm.wle.editor.doc/topics/tbpmdoclimits.html \n\n4.Limitations in administering the IBM BPM document store \nhttps://www.ibm.com/support/knowledgecenter/SSFPJS_8.6.0/com.ibm.wbpm.admin.doc/topics/tbpmconfiglimits.html \n\n5.Why am I unable to connect to the IBM BPM Document Store and my Event Manager is not starting correctly? \nhttps://developer.ibm.com/answers/questions/202074/why-is-am-i-unable-to-connect-to-the-ibm-bpm-docum/ \n\n6.How to recover if my BPM Event Manager won't start because Embedded ECM initialization fails? \nhttps://developer.ibm.com/answers/questions/260551/how-to-recover-if-my-bpm-event-manager-wont-start.html?sort=votes \n\n \n \n\n \n\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Acronyms list","description":"ELEBRAS@jp.ibm.com","owner":"@Erwan Le Bras","path":"/OperationalDecisionManager/GeneralODM/Acronymslist","text":"Date:2019-12-04\n\nOverview \n\nThis is a list of common acronyms used with IBM Operational Decision Manager (ODM). \nThis list is relevant to all the other topics for ODM. \nSome acronyms are very specific to the product itself, while others are more generic ones. \n\n Acronyms specific to this product: \n\nODM: Operational Decision Manager\nThe name of the product \n\nDC: Decision Center\nDecision Center is a set of tools to allow business users to author, model, and manage decisions that are directly based on organizational knowledge and best practices, with limited or no dependence on the IT department. Decision Center includes the Business console, the Enterprise console, and a rule repository. \nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.dcenter.overview/topics/odmdcenter_overview.html#QRPsg7Mp \n\nDS: Decision Server\nDecision Server provides development and runtime components for any ODM applications. It comprises the Rule Designer and the Rule Execution Server \nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.dserver.rules.overview/topics/odmdserverrulesoverview.html \n\nRD: Rule Designer \nRule Designer is an Eclipse-based development environment in which you design, author, test, and deploy decision services.  \nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.dserver.rules.tutorials/tutdesignertopics/tutruledesignertutorials.html \n\nRES: Rule Execution Server \nRule Execution Server provides the runtime environment for running and monitoring decision services. \nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.dserver.rules.tutorials/tutrestopics/tutres_tutorials.html \n\nXU: Execution Unit \nThe execution unit (XU) is a resource adapter for Java™ EE Connector Architecture (JCA) 1.5 that handles the low-level aspects of ruleset execution and collaborates with the server to manage resources. \nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.dserver.rules.res.managing/topics/conresexecxu.html \n\nBOM: Business Object Model\nThe BOM is used to make business rule editing user-friendly by providing tools to set up a natural language vocabulary.  https://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.dserver.rules.designer.author/configauthtopics/tpcrd_bom.html \n\nXOM: Execution Object Model \nThe execution object model (XOM) is the model against which you run rules. It references the application objects and data, and is the base implementation of the business object model (BOM). Rule projects reference the XOM.  \nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.dserver.rules.designer.author/designingbomtopics/conbom_overview.html \n\nIRL: ILOG Rule Language  \nContains a set of keywords and syntax to structure each part of a rule \nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.dserver.rules.ref.designer/langirlreftopics/tpcirlintro.html \n\nBAL: Business Action Language \nYou can use Business Action Language (BAL) to define your own business rule language. Rule Designer provides these components in a plug-in.  \nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.dserver.rules.ref.designer/langarlreftopics/tpcarlintro.html \n\nARL: Advanced Rule Language \nFor each Business Action Language (BAL) expression that you create for BOM-to-XOM mapping in the decision engine, you can review its equivalent Advanced Rule Language (ARL) expression. ARL is a read-only rule language that is similar in syntax to Java 7.  \nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.dserver.rules.ref.designer/langarlreftopics/tpcarlintro.html \n\nDT: Decision table \nA decisions artifact that allows you to display your rules as a table, with conditions and actions columns. Each row of the table becomes a rule. \nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.dcenter.bu.bconsole/dtables/conbcdtablesoverview.html \n\nAR: Action Rule\nA business rule that can be edited in the rule editor \n\nBRLDF: Business Rule Language Definition Framework \nA framework for defining custom business rule languages, using XML schemas and property files. \n\nBRMS: Business Rule Management System\nA system designed to modify and manage business logic independently from the applications within an organization. \n\nDS: Decision Service\nA decision service contains one or more rule projects. Each rule project contains action rules and decision tables that you update directly. You can easily move among the projects to make changes, and deploy the decision service to a test or production environment. \nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.dcenter.bu.bconsole/mngchanges/conbcds_decisionservices.html \n\nDGF: Decision Governance Framework \nThe decision governance framework is a methodology that provides you with tools to implement changes to your business rules in a structured, secure, and controlled way. \nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.dcenter.bu.bconsole/mngchanges/conbcgovernance.html \n\nDVS: Decision Validation Service \nA feature to test and simulate rulesets in Rule Designer and Decision Center. It was deprecated in V8.8 \n\nXSLT: Extensible Stylesheet Language Transformation\nAn XML processing language that is used to convert an XML document into another document in XML, PDF, HTML, or other format. \n\n&nbsp;\n\nHTDS: Hosted Transparent Decision Service\n&nbsp;\n\nMore widely used acronyms (industry related) \nWAS: WebSphere Application Server \nAn Application Server that is frequently used to host ODM applications \n\nJDK: Java Development Kit \nThe JDK is a development environment for building applications, applets, and components using the Java programming language. \n\nKPI: Key Performance Indicator \nA quantifiable measure that is designed to track one of the critical success factors of a business process. \n\nJVM: Java Virtual Machine \nA Java virtual machine (JVM) is a virtual machine that enables a computer to run Java programs as well as programs written in other languages that are also compiled to Java bytecode. \n\nJCA: Java™ Connector Architecture \nJava EE Connector Architecture (JCA) is a Java-based tool for connecting application servers and enterprise information systems (EIS) as part of enterprise application integration (EAI) solutions \n\nDSRs: Detailed System Requirements. \nA list of operating systems, prerequisites, server virtualization environments, translations, end-of-service information, and system requirements for using a product. \nFor ODM, please consult https://www.ibm.com/support/pages/ibm-operational-decision-manager-detailed-system-requirements \n\nWSDL: Web Service Description Language \n\nWADL: Web Application Description Language \n\nREST: Representational State Transfer  \n\nURIs: Uniform Resource Identifiers \n","wordCount":0,"topics":[],"type":"Content"},{"name":"Learning Roadmap","description":"renyren@cn.ibm.com","owner":"@Ren Yan","path":"/OperationalDecisionManager/GeneralODM/Learningroadmap","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Skills Transfer","description":"","owner":"","path":"/OperationalDecisionManager/GeneralODM/SkillsTransfer","text":"\nGetting to know Digital Business Automation (DBA) Series\n<table border=\"1px solid #ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    <th width=\"29%\" style=\"text-align:center;\";Topic\n    Link\n    <th width=\"20%\"style=\"text-align:center\"Date\n  \n  \n    Getting to know Digital Business Automation (DBA) - ODM, BAI, and Datacap\n    https://ec.yourlearning.ibm.com/w3/playback/10039706\n    2019-07\n  \n  \n","wordCount":0,"topics":[],"type":"Content"},{"name":"Knowledge Buckets","description":"","owner":"","path":"/OperationalDecisionManager/GeneralODM/Knowledgebuckets","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Installation","description":"wyouli@cn.ibm.com","owner":"@May Wang","path":"/OperationalDecisionManager/Install,Upgrade,Migration/Installation","text":"Date：2019-11-11\n\nOverview\n\nThis document introduces how to install Operational Decision Manager (ODM) and how to troubleshoot the problems that may happen during the installation.\n\nTo use ODM, you must install Decision Center, Decision Server and Rule Designer, and if you want to install Decision Insights, you must have an Advanced License.\n\n Prerequisites (Optional)\n\n1.Installation Manager: The Installation Manager should be installed first.\n2.System requirements: Please check IBM Operational Decision Manager detailed system requirements\nhttps://www.ibm.com/support/pages/ibm-operational-decision-manager-detailed-system-requirements\n3.License: You need to have an ODM license to install ODM. The license table is below\nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.distrib.install/topics/coninst_licensing.html\n\nNote: For other ODM versions, please check Knowledge Center (KC).\n\nComponent\n\n1.Install ODM locally\nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.distrib.install/topics/tskinstsingleworkstation.html\n2.Install ODM in multiple workstation\nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.distrib.install/topics/coninst_silent.html\n3.Install Designer with an existing Eclipse environment\nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.distrib.install/topics/tskinsteclipseibmprod_intro.html\n4.Install Liberty Developer Tools\nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.distrib.install/topics/tskinstinsightswdt.html\n5.Set up Ant\nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.distrib.install/topics/tsksettingupant.html\n\nNote: For other ODM versions, please check Knowledge Center (KC).\n\n Troubleshooting\n\nData Collection\n\n1.Version of Installation Manager installed\n2.Components installed and version numbers\n3.License type\n4.Operating system\n5.Installation Manager logs\nhttps://www.ibm.com/support/pages/mustgather-ibm-installation-manager-troubleshooting-logs\n\n Typical Problems\n\n1.Compatibility problems\nProblem description example: Can I use Java 7/8 when upgrade to ODM 8.x.x? Upgrade path from current version to JBoss. \nHow to troubleshoot: Check the System Requirements carefully\n  Application Server Compatibility: For JBoss, only EAP version is supported.\n  Java Compatibility: IBM JDK is always recommended.\n  \nRefer to https://www.ibm.com/support/pages/ibm-operational-decision-manager-detailed-system-requirements\n\n2.Fix list and fix pack download & installation:\nProblem description example: What the steps to install fix pack? Where can I get fixpack of ODM 8.X.X?\nSolution: Go to Fix Central and download the fixpack. Then install them by Readme.txt file of each fixpack. Customer may have problem about their IBM ID. Fix List link:\nhttps://www.ibm.com/support/pages/fix-list-ibm-operational-decision-manager\n\n3.Disk space problem\nProblem description: Available disk space at /opt is insufficient. Total required space is 1.92 GB. Total available space is 120.00 MB.\nSolution: Ensure there is enough space on disk.\n\n4.Sample Server related\nProblem Description: How to find the installation part of Sample Server when install ODM? How to run Sample Server with WAS or Liberty? How to restore Sample Server?\nSolution:\n  Install Sample Server: When you install ODM, choose install Sample Server, a testing environment to use samples and tutorials will be installed. Along with all the sample projects.\n  Restore Sample Server: You can restore the sample server to its initial state, the link is:\nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.distrib.samples/smpconsoletopics/trbsmpserver_restoring.html\n\n5.License Question:\nProblem description: How to check license of installed ODM? How to change ODM license without re-installation?\nSolution:\n  How to check the License of installed ODM Environment: Using ILMT Tools\nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.distrib.install/topics/coninstilmttagging.html\n  How to update the license type of installed ODM Env:\nhttps://www.ibm.com/mysupport/s/question/0D50z00005pewI0CAI/ibm-license-metric-tool-reports-odm-decision-server-as-being-nonproduction?language=zh_CN\n\n6.Problem with compressed product installation files:\nProblem Description: Cannot complete the install because one or more required items could not be found in software being installed。\nSolution: Ask customer to check that all compressed installation packages were uncompressed successfully. The best practice is asking customer to using 7-zip to unzip the installation files.\n\n7.Privilege problem\nProblem description: Cannot install ODM as non-root/non-Administrator user\nSolution:\n  Make sure IM is installed as a non-Admin user: https://www.ibm.com/support/knowledgecenter/SSSH279.0.0/com.ibm.rational.clearcase.ccmsinstall.doc/topics/radmin_nonadmin.htm;\n  Make sure the user has read/write permission to ODM installation directory and system temp folder;\n  Install ODM using IM as non-Admin user: https://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.distrib.install/topics/tskinst_silent.html\n  \n8.Response File error during silent installation\nProblem description: Example:  ERROR [main]                                                   org.eclipse.equinox.log.internal.ExtendedLogReaderServiceFactory safeLogged \nSolution: Ensure set correct parameters when installing ODM in silent mode: https://developer.ibm.com/answers/questions/424515/how-to-install-odm-890-in-silent-mode-in-command-l.html\n\nReference (Optional)\n\n1.Known limitations:\n2.https://www.ibm.com/support/pages/operational-decision-manager-known-limitations\n\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Upgrade","description":"renyren@cn.ibm.com","owner":"@Ren Yan","path":"/OperationalDecisionManager/Install,Upgrade,Migration/Upgrade","text":"ODM Upgrade and Migration\nDate:2019-11-12\n\n Overview\n\nIBM Operational Decision Manager (ODM) version numbers uses standard IBM format V.R.M.F which stands for Version.Release.Modification.Fixpack. \nModification and fix packs include only bug fixes. Applying a modification or a fix pack does not require to migrate application code or data. Always encourage client to upgrade to the latest modification or fix pack to avoid the risk of encountering defects already fixed. \nRecommend client to migrate to the latest available version or release to benefit from the latest added features and improvements. \n\nPrerequisites \n\nODM download document: \nhttps://www.ibm.com/support/pages/operational-decision-manager-download-documents\n\nODM detailed system requirements:\nhttps://www.ibm.com/support/pages/ibm-operational-decision-manager-detailed-system-requirements\n\nODM product lifecycle:\nhttps://www-01.ibm.com/software/support/lifecycleapp/PLCDetail.wss?from=spf&synkey=W468400M91086O68\n\n Upgrade\n\nTechnote: When and how to apply a modification or fix pack\nhttps://www.ibm.com/support/pages/when-and-how-apply-modification-or-fix-pack\n\nApplying a modification or fix pack does not require any data migration, so the rule projects and database remain the same. It only requires to:\n\n1.Install the modification or fix pack using Installation Manager\nhttps://www.ibm.com/support/knowledgecenter/SSQP768.10.x/com.ibm.odm.distrib.install/topics/tskinst_updates.html\n\nThe fix pack installation updates the following files and folders:\n  JAR libraries in the installation directories, including \\\\lib.\n  EAR and WAR applications in the \\\\applicationservers\\ folders.\n  \n2.Reapply product customizations to the up-to-date EAR and WAR applications (If there’s any)\n\n3.Redeploy the up-to-date version of EAR and WAR applications\nUpdate RES:\n  jrules-res-xu-.rar\n  jrules-res-management-.ear\n  jrules-ssp-.ear\n  jrules-res-htds-.ear\n  \nUpdate Decision Center:\n  jrules-teamserver-.ear\n  \n4.Repackage client applications with the up-to-date jar libraries \n\nRolling upgrade:\nTo upgrade Decision Server Rules and Decision Center from Vn to Vn+1 while keeping the existing system running, you can upgrade the system gradually, component by component.\nhttps://www.ibm.com/support/knowledgecenter/SSQP768.10.x/com.ibm.odm.distrib.migrating/sharedrollingupgtopics/tskupgodm.html\n\nOnce upgrade is complete, recommend client to verify that all the modules are at the same exact version/fix pack level, see https://www.ibm.com/support/pages/find-version-jruleswodm-components \n\nMigration\n\nBefore migration, check out\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.\tVerify that the old configuration is still supported. Migrating to a more recent version of ODM may require moving to a different version of platform, application server, database or JDK\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;https://www.ibm.com/support/pages/ibm-operational-decision-manager-detailed-system-requirements\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.\tLatest added features. Check in KC for the “What’s new” section for the specific versions\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;https://www.ibm.com/support/knowledgecenter/SSQP768.10.x/com.ibm.odm.distrib.overview/sharedwhatsnewtopics/conwhats_new.html\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.\tDeprecated and removed features\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;https://www.ibm.com/support/knowledgecenter/SSQP768.10.x/com.ibm.odm.distrib.overview/shareddeprecation/condeprecatedfeatures.html\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.\tDecide the migration scenario\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;https://www.ibm.com/support/knowledgecenter/SSQP768.10.x/com.ibm.odm.distrib.migrating/topics/conmigration_overview.html\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.\tMigration guide for the specific version\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;https://www.ibm.com/support/knowledgecenter/SSQP768.10.x/com.ibm.odm.distrib.migrating/topics/odmdistrib_migrating.html\n\nTypical steps for ODM migration\n\n1.Customizations \nMigrate rule model extensions, authoring & rule management extensions:\nhttps://www.ibm.com/support/knowledgecenter/SSQP768.10.x/com.ibm.odm.distrib.migrating/topics/tskmigrate_customizations.html\n2.Eclipse projects\nImport and clean build the existing projects in the new version of Rule Designer:\nhttps://www.ibm.com/support/knowledgecenter/SSQP768.10.x/com.ibm.odm.distrib.migrating/odmtopics/tskmigrateeclipse_projects.html\n3.Database data\nDC database migration is mandatory when migrating from version prior to v8.6. For version 8.6 and later, the database schema is fully compatible with the latest versions. But schema migration is still required if user wants to use the latest features, like user management (v8.8.1) and Decision Model Service (v8.10)\nMigrate Decision Center database:\nhttps://www.ibm.com/support/knowledgecenter/SSQP768.10.x/com.ibm.odm.distrib.migrating/dcbctopics/tskodmdistribmigratedb.html\n4.Client applications\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.\tre-build client application with the new ODM client libraries\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.\tfix any deprecated warnings (possibly errors, if migrating across several versions) to use the new APIs\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.\trepackage the applications with your up-to-date classes and the new ODM libraries\n\nOnce the migration is performed, recommend client to verify\n  all the modules are at the same exact version/fix pack level, see https://www.ibm.com/support/pages/find-version-jruleswodm-components \n  they can see the data in the consoles without issue\n  they can run the Rule Execution Server/Decision Center console diagnostics without errors.\n\n Troubleshooting\n\nData Collection\n\nWhen there is a problem after upgrade/migration, firstly we need to confirm the exact version of each ODM module/component. ODM does not provide a command for version check. User has to verify the version of each module/component. \n1.Check installed software versions (incl. fix packs /iFixes) in Installation Manager\nFrom IM GUI: \nFile  Installed Packages \nCommand line: \n imcl listInstalledPackages\nNote, upgrade installed with IM does not guarantee the ODM applications have been deployed/updated in the application server.\n\n2.Check version of running ODM modules\nRule Designer: \nHelp  About Eclipse SDK, click the “IBM” button\nDecision Center: \nIn the console, click “About” on the top-right of any page\nRule Execution Server: \n  For the console version, click “About” on the top-right of any page\n  For the XU versions, go to tab “Server Info”\nHTDS:  \nopen page http://hostname:port/DecisionService\nDVS/Decision Runner:  \nopen page http://hostname:port/testing (login as RES admin)\n  \n3.Check interim fix level\nInterim fixes typically replace jar files. IFxxx is part of the file name. You can find interim fixes in running ODM applications by \"grep\" ping WAS-Profile-Dir/installedApps for files with \"-IF0\"\n\n4.Check installed EAR/JAR versions\n\nSometimes client may want to find out the exact version of an ODM EAR file or JAR file before upgrade. Check out the content of  \\Meta-INF\\MANIFEST.MF file in the archive. For example, Decision Center 8.9.2 shows:\nSpecification-Title: Decision Server\nSpecification-Vendor: IBM\nSpecification-Version: 8.9.2 \n\nTypical problems after upgrade or migration.\n\nIssue1 \nWrong class loading sequence \n\nIf you redeploy the RES/DC EAR file, the module properties are lost. WebSphere Application Server reverts to the default parent first setting\n\nSymptom:\nUnable to open RES console due to below error:\nError 500: com.ibm.ws.jsp.JspCoreException: Unable to convert string 'ilog.rules.res.console.jsf.OnlineHelp' to class javax.el.ValueExpression for attribute basename: java.lang.IllegalArgumentException: Property Editor not registered with the PropertyEditorManager\nOr\nUnable to open Decision Center Enterprise console due to below error:\nError message: ServletWrappe E com.ibm.ws.webcontainer.servlet.ServletWrapper service SRVE0014E: Uncaught service() exception root cause /login.jsp: com.ibm.websphere.servlet.error.ServletErrorReport: com.ibm.ws.jsp.JspCoreException: Unable to convert string '#{ManagerBean.localeStr}' to class javax.el.ValueExpression for attribute locale: java.lang.IllegalArgumentException: Property Editor not registered with the PropertyEditorManager\nResolving the Problem\nUsually the problem can be resolved by setting the class loading policy of the web modules to “parent last”\nSometimes it will require to clear the WAS cache and restart server: \ndelete \n\\profiles\\\\temp\\\\\\.\nIssue#2\nUpgrade is not effective\n\nClient may complain that a problem still persists after they have installed a fix pack/iFix which is supposed to fix the issue. \n\nSymptom\n Client has successfully installed a fix pack using Installation Manager, but the problem persists in Decision Center or Rule Execution Server.\n\nResolving the Problem\nUser has to make sure the up-to-date DC and RES EAR/WAR files are re-deployed to the application server.  Confirm the exact version from the about page in the Consoles:\nhttps://www.ibm.com/support/pages/find-version-jruleswodm-components\n\nSometimes the re-deployment is not effective until the application server cache is cleaned. For example, for WAS user needs to delete the temp cache and restart:\n\\profiles\\\\temp\\\\\\.\nIssue#3\nClass incompatibility issue\n\nSymptom\nFail to run ant task after upgrade, due to a “local class incompatible” error. Something like:\njava.io.InvalidClassException: ilog.rules.teamserver.model.IlrSessionContext; local class incompatible: stream classdesc serialVersionUID = 8625926335332160807, local class serialVersionUID = 8906827035412667122\nor\njava.io.InvalidClassException: ilog.rules.teamserver.model.impl.IlrElementHandleImpl; local class incompatible: stream classdesc ser\nialVersionUID = 8906827035412667122, local class serialVersionUID = 8532662047765799322\nResolving the Problem\nThis is due to an incompatibility between the local Decision Center libraries and the Decision Center EAR deployed on the server. User has to make sure they have upgraded both to the same version. \nSimilar error can happen to Rule Execution Server too. \n\nIssue#4\nExecution Unit (XU) Client version mismatch\n\nSymptom\nA warning is received in XU log: \"The XU client does not have the same version as the XU: 8.9.1.0 / 8.9.2.0\"\n\nResolving the Problem\nThis warning message indicates a version mismatch between the Client and the XU. User can confirm the XU version by checking the Server Info tab of RES console. \nThe Client can be any of the RES libraries packaged in client application, depending on which invocation method is used. User has to make sure to repackage client applications with the up-to-date jar libraries \n\n","wordCount":0,"topics":[],"type":"Content"},{"name":"ODM Profile Template","description":"renyren@cn.ibm.com","owner":"@Ren Yan","path":"/OperationalDecisionManager/Install,Upgrade,Migration/ODM Profile Template","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Configuring","description":"renyren@cn.ibm.com","owner":"@Ren Yan","path":"/OperationalDecisionManager/Install,Upgrade,Migration/Configuring","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Migration From CRE To DE","description":"","owner":"","path":"/OperationalDecisionManager/Install,Upgrade,Migration/Migration From CRE To DE","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Migration From CRP To DS","description":"","owner":"","path":"/OperationalDecisionManager/Install,Upgrade,Migration/Migration From CRP To DS","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Hung thread & high CPU","description":"wyouli@cn.ibm.com","owner":"@May Wang","path":"/OperationalDecisionManager/Performance/Hungthread&highCPU","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Out of Memory","description":"wyouli@cn.ibm.com","owner":"@May Wang","path":"/OperationalDecisionManager/Performance/OOM","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Decision Center Performance","description":"","path":"/OperationalDecisionManager/Performance/Decision Center Performance","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"RES Performance","description":"","path":"/OperationalDecisionManager/Performance/RES Performance","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Optimizing Execution","description":"","path":"/OperationalDecisionManager/Performance/Optimizing Execution","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Database","description":"ELEBRAS@jp.ibm.com","owner":"@Erwan Le Bras","path":"/OperationalDecisionManager/DecisionCenter/Database","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Managing Decision Service","description":"wyouli@cn.ibm.com","owner":"@May Wang","path":"/OperationalDecisionManager/DecisionCenter/Managing Decision Service","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Security & user management","description":"wyouli@cn.ibm.com","owner":"@May Wang","path":"/OperationalDecisionManager/DecisionCenter/Security&usermanagement","text":"to be added\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Test and simulation","description":"ELEBRAS@jp.ibm.com","owner":"@Erwan Le Bras","path":"/OperationalDecisionManager/DecisionCenter/Testandsimulation","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Decision Model Service","description":"renyren@cn.ibm.com","owner":"@Ren Yan","path":"/OperationalDecisionManager/DecisionCenter/DecisionModelService","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Decision Center API","description":"renyren@cn.ibm.com","owner":"@Ren Yan","path":"/OperationalDecisionManager/DecisionCenter/Decision Center API","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Rule Designer","description":"ELEBRAS@jp.ibm.com","owner":"@Erwan Le Bras","path":"/OperationalDecisionManager/DecisionServerRules/RuleDesigner","text":"Date：2019-11-12\n\nAcronyms:\nODM: Operational Decision Manager\nDC: Decision Center\nDS: Decision Server\nRES: Rule Execution Server\nRD: Rule Designer\nXU: Execution Unit\nWAS: WebSphere Application Server\nBOM: Business Object Model\nXOM: Execution Object Model\nIRL: ILOG Rule Language\nJDK: Java Development Kit\nJVM: Java Virtual Machine\n\n Overview\n\nRule Designer (RD) is an important tool for IBM Operational Decision Manager (ODM). It is where the customer will start their development, and where they will write their Excecution Object Model (XOM) before deploying to Decision Center (DC) or to Decision Server (DS).\n\nPrerequisites\nThe following tutorial is very helpful in understanding the major features of Rule Designer:\nhttps://www.ibm.com/support/knowledgecenter/SSQP768.10.x/com.ibm.odm.dserver.rules.tutorials/tutdesignertopics/tutruledesignertutorials.html\n\n Component\nRule Designer is part of the ODM Decision Server.\nhttps://www.ibm.com/support/knowledgecenter/SSQP768.10.x/com.ibm.odm.dserver.rules.tutorials/tutdesignertopics/tutruledesignertutorials.html\nSome customers believe that this is part of the Decision Center, but this is not the case.\nAccordingly, to install it you need to install Decision Server. And if you need to apply a Fix Pack, it is the DS Fix Pack that will be needed. \n\nInstalling Rule Designer in an existing Eclipse environment\nWhile usually developers will use the Rule Designer being installed by IBM Installation Manager when you install Decision Server, they may need to extend an existing Eclipse environment (for instance, an environment where they already have other tools installed). This is possible:\nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.distrib.install/installdsdesigner/tskdesigner_install.html\n\nTroubleshooting\n\n Starting Rule Designer in a different locale and missing bundles\nYou can start Rule Designer in a different locale by adding the osgi.nl line in the\n\n/configuration/config.ini\nFor instance\nosgi.nl=en_US\nto force the start in English. \n\nYou can also use the -nl\nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.distrib.install/startingtopics/tskstartruledesignerlocale.html\n\nWhen you start in a specific locale, if you do not see the menu showing up properly in that language, it is likely that this language was not selected during the installation. \nIn that case, you need to run IBM Installation Manager, and select the “Modify” menu, select your ODM version, then make sure you select properly the different languages that you need.\n\nNote that if you receive a project that was written in a specific locale, you need to make sure you start Rule Designer in the same locale to be able to import it properly.\n\nImport/Export a project\nTo export a project, go to File = Export = General = Archive File\nThen select all the artifacts and save in zip format \nYou can then share this project.\n\nTo import a project exported as above:\nMake sure you are first in Rule Perspective\nThen go to File = Import = General = Existing Project into Workspace = Select Archive file \nhttps://www.ibm.com/support/knowledgecenter/SSQP768.8.1/com.ibm.odm.rules.embedded.samples/procedures/tskrulesembeddedimpexp_ruledesigner.html\n\nCommon import problems:\nWhen you import a customer project, the XOM may not build properly because of missing jars.\nIf the customer is using some 3rd party libraries you will need to request them and add them to the project.\n\n Data Collection\nhttps://www.ibm.com/support/pages/collecting-data-reporting-problem-rule-designer-event-designer-and-insight-designer\n\nRule Designer is an Eclipse Environment.\n\nAccordingly the main information are being provided by Eclipse.\nThe first place to look for is in the Help Menu of Rule Designer. \nYou will find all the Installation details in the “About Eclipse SDK” especially in the “Installation Details”.\n\nOther place to look for:\nA “.log” file is being generated in the .metadata folder of the workspace.\n\nThis file is  the first one to look for potential exception. This file will likely be available even when Rule Designer studio does not start (usually an issue with JVM incorrectly being set), so open it for details. \n\nIt will show the exceptions, but also the command line that was used to start eclipse.\n\nFor synchronization issue with DC or DS:\n\nIn that case, the issue might be not on the Rule Designer side, but on the DC or DS side. \nSo look for exception in the DC or DS application Server log.\n\nAlso, in that case you can edit the eclise.ini to generate network logs. For details on this:\nhttps://www.ibm.com/support/pages/collecting-data-reporting-problem-rule-designer-event-designer-and-insight-designer\n\nCommon issues:\n\n**Unexpected behavior such as hang\nYou should try to rebuild the workspace or restart Rule Designer**\n\nRule Designer (Eclipse) does not start\nCheck the .log file for reason.\nCommon root cause are: a .lock file remaining from a previous run or an incorrect JVM setting (such as inexistent folder set for the JDK)\nTo change the JVM:\nhttps://www.ibm.com/support/knowledgecenter/SSQP768.10.x/com.ibm.odm.distrib.install/installdsdesigner/tskdesignerchangejvm.html\n\nOut Of Memory\nIf you see OutOfMemory in the .log file you may be lacking memory to load the project\nIn that case, edit the eclipse.ini to change the -Xmx value\nFor details:\nhttps://www.ibm.com/support/knowledgecenter/SSQP768.10.x/com.ibm.odm.distrib.migrating/odmtopics/tskmigrateeclipse_projects.html\n\nJDK Issues\nA common issue faced when using Rule Designer is starting with a wrong JDK\nThe JDK can be set in the eclipse.ini with the -vm parameter\nhttps://www.ibm.com/support/knowledgecenter/SSQP768.10.x/com.ibm.odm.distrib.install/installdsdesigner/tskdesignerchangejvm.html\n\nPerformance issues\nIf the build is taking too much time, you may try to remove some check being performed during the build.\nGo to File = Preferences = Rule Designer = Build\nThen you can remove the “checks” on BOM to XOM or on IRL \nIt will build much faster but you will lack some extra checks.\n\nMore details on this settings is available in the following tuning guide for ODM, in the chapter “Rule Designer, Tuning Recommendations”\nhttps://www.ibm.com/community/automation/wp-content/uploads/sites/8/2019/02/ODM89xTuningGuideV2.0.pdf\n \nSync issues\nMake sure you check for errors or warnings in the “Synchronize View” of Rule Designer\nAlso, in that case you can edit the eclise.ini to generate network logs. For details on this:\nhttps://www.ibm.com/support/pages/collecting-data-synchronization-between-rule-designer-and-decision-center\n\nAlso, in case the issue is on the Application Server side, make sure to retrieve the DC/DS logs.\nFor details:\nhttps://www.ibm.com/support/pages/collecting-data-reporting-problem-ibm-decision-center\n\nXOM issue\nIf the XOM has changed, you need to perform the BOM Updates\nFor details:\nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.9.1/com.ibm.odm.dserver.rules.designer.author/designingbomtopics/tpcbomupdatingto_xom.html\n\n References\n\nRule Designer Tutorial:\nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.dserver.rules.tutorials/tutdesignertopics/tutruledesignertutorials.html\n\nInstall Rule Designer in existing Eclipse:\nhttps://www.ibm.com/support/knowledgecenter/en/SSQP768.10.x/com.ibm.odm.icp/topics/tskinstall_designer.html\n\nCollecting Data for Rule Designer:\nhttps://www.ibm.com/support/pages/collecting-data-reporting-problem-rule-designer-event-designer-and-insight-designer\n\n","wordCount":0,"topics":[],"type":"Content"},{"name":"RES Console","description":"ELEBRAS@jp.ibm.com","owner":"@Erwan Le Bras","path":"/OperationalDecisionManager/DecisionServerRules/RESConsole","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"RES Runtime","description":"ELEBRAS@jp.ibm.com","owner":"@Erwan Le Bras","path":"/OperationalDecisionManager/DecisionServerRules/RESruntime","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Decision Warehouse","description":"renyren@cn.ibm.com","owner":"@Ren Yan","path":"/OperationalDecisionManager/DecisionServerRules/DecisionWarehouse","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"REST API","description":"","owner":"","path":"/OperationalDecisionManager/DecisionServerRules/REST API","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Decision Server Insights","description":"","owner":"","path":"/OperationalDecisionManager/DecisionServerInsights","text":"to be added\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Custom properties","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/AdminConsole/Customproperties","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Customize account","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/AdminConsole/Customizeaccount","text":"\n\nYou can customize your Blueworks Live account to meet the needs of your organization.\n\n Branding\n\nCustomize the account to look like an internal portal by changing the color scheme and uploading the company logo for both Blueworks Live and for printable documents from Blueworks Live.\n\nOn the Admin page, go to the Customization tab and configure the settings in the Branding section to:\n\nAdd a custom logo and choose a color scheme to apply to the header and footer of all Blueworks Live pages.\n\nCustomize the email notifications sent out by Blueworks Live to include a custom subject line and a company logo.\n\nAdd a custom logo to process documentation that is exported to Microsoft Word.\n\nAdd a footer to include custom text, such as \"Confidential. Do not distribute,\" in documentation that is exported to Microsoft Word.\n\nAdding a custom help page\n\nYou can provide custom help documentation to help users adhere to your organization-specific guidelines for using Blueworks Live.\n\nOn the Admin page, go to the Customization tab and configure the settings in the Help section.\n\n1.Click Custom help page.\n\n2.Provide a title for your help page and specify an Account Admin Contact who will be a contact person for the content in the help page.\n\n3.Use the rich text editor to enter your custom help content. You can add html links to more detailed documentation and policies governing your organization's use of Blueworks Live.\n\n4.Click Update to apply your changes.\n\nWhen the user clicks the Help link in the tool bar, your custom page will be displayed instead of the generic Blueworks Live help.\n\n Customizing properties\n\nYou can customize the properties that are displayed in the Details tab for process blueprints and decision diagrams.\n\nCustom properties are configured in the Properties tab of the Admin page.\n\nTo show or hide predefined properties such as Business Owners, Cost, and so on, use the check boxes to mark properties visible or invisible.\n\nTo add your own custom properties to process blueprints, click one of the links in the Custom Process Properties section and add either a text or number property. Optionally, specify a tooltip to provide users with additional information about the property.\n\nTo restrict a custom property to a specific set of values, click the Enumerated column. To add values, a glossary manager must open the glossary and add new values to the set of allowed values. You can also restrict the Systems property in the same way.\n\nEnabling email services\n\nYou can enable the prebuilt email service for your account, which allows users to configure service tasks that send email messages during the running of a process app.\n\nIn the Admin page, go to Process App Management  Service Catalog. Click the Enable check box to enable or disable the email service.\n\n Warning about adding non-preferred terms to the glossary\n\nIf your glossary managers want to encourage users to use specific glossary terms and discourage them from creating unnecessary new ones, you can enable a warning when users add non-preferred terms to the glossary.\n\nIn the Admin page, go to Customization  Library and check Allow glossary manager to enable warnings for users that enter non-preferred values. A glossary manager can now open each category in the glossary and decide whether to check the Warn users that enter non-preferred values check box. If the box is checked, a user who enters a non-preferred value in that category sees a warning and must close it before proceeding.\n\nFor more information, see Building a business glossary.\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Manage users","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/AdminConsole/Manageusers","text":"Date:2019-10-15\n\nYou can manage the list users who have access to Blueworks Live and configure the types of tasks they can perform.\n\nAdding users\nTo add users, you invite them.\n\nUser groups\nTo manage permissions for sets of users across an account, you can define user groups for the account and then add them to spaces. In this way, the individuals in a user group become participants of a space and can be assigned specific sets of privileges within that space. User groups can be either predefined or custom.\n\nSetting and changing permissions\nYou set and change permissions at the account level, the space level and, to a lesser degree, the artifact level. You can assign permissions by license type, user group, and at the individual user level. Default permissions are propagated for each space based on the user type (license type) and account-level customizations.\n\nParent topic: Administering your Blueworks Live account","wordCount":0,"topics":[],"type":"Content"},{"name":"Manage Billing","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/AdminConsole/ManageBilling","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Manage Disk space","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/AdminConsole/ManageDiskspace","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Security","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/AdminConsole/Security","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Single sign on(SSO)","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/AdminConsole/SinglesignonSSO","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"API","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/BlueworksLiveService/API","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Attach files","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/BlueworksLiveService/Attachfiles","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Collaboration and Sharing","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/BlueworksLiveService/CollaborationandSharing","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Glossary","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/BlueworksLiveService/Glossary","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Import,Export and Printing","description":"","path":"/BlueworksLive/BlueworksLiveService/Import,ExportandPrinting","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Process app","description":"","path":"/BlueworksLive/BlueworksLiveService/Processapp","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Process diagram","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/BlueworksLiveService/Processdiagram","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Search and Filter Tools","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/BlueworksLiveService/SearchandFilterTools","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Space","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/BlueworksLiveService/Space","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Personalize Account","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/Account/PersonalizeAccount","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"User Settings","description":"sthilini@au1.ibm.com","owner":"","path":"/BlueworksLive/Account/UserSettings","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Vulnerability Request","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/Operations/VulnerabilityRequest","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Account","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/SalesandBilling/Account","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Billing","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/SalesandBilling/Billing","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Request Access to Community","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/Support/RequestAccesstoCommunity","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Clients with Special Support","description":"sthilini@au1.ibm.com","owner":"@Thilini Silva","path":"/BlueworksLive/Support/Clients with Special Support","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"AA Installer/Post Install Config","description":"bjdickey@us.ibm.com","owner":"@Brandon Dickey","path":"/RoboticProcessAutomation/AA Installer/Post Install Config","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Application Development/Bot Creator","description":"rusna@my.ibm.com","owner":"@Rusna Mustaffa","path":"/RoboticProcessAutomation/Application Development/Bot Creator","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Auto-Login","description":"kamelio@us.ibm.com","owner":"@Ken Amelio","path":"/RoboticProcessAutomation/Auto-Login","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Bot Runner","description":"shangjin@cn.ibm.com","owner":"@Jin Shang","path":"/RoboticProcessAutomation/Bot Runner","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Connectivity","description":"bjdickey@us.ibm.com","owner":"@Brandon Dickey","path":"/RoboticProcessAutomation/Connectivity","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Control Room","description":"rHenning.Burgmann@de.ibm.com","owner":"@Henning Burgmann","path":"/RoboticProcessAutomation/ControlRoom","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Database Related","description":"bjdickey@us.ibm.com","owner":"@Brandon Dickey","path":"/RoboticProcessAutomation/Database Related","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"IBM Installer","description":"bjdickey@us.ibm.com","owner":"@Brandon Dickey","path":"/RoboticProcessAutomation/IBM Installer","text":"Date:2019-11-25\n\nOverview\n\nThe RPA (Robotic Process Automation) Fundamentals Education is an overview of the different parts of RPA which is built on top of Automation Anywhere. This module teaches the basics of an IBM RPA install, how it differs from a normal AA install, and how to debug issues. \n\n Troubleshooting\n\nIBM Install/Upgrade Scripts:\n\nWhen downloading either the installation package from Passport Advantage or an upgrade package from Fix Central, you will see the following files contained in the package:\n\nAn installer or upgrade batch file \nThe setup folder where the AA installer executable is located along with the IBM license file\nA docs folder (only on more recent versions since ~11.0.0.3) containing all of the AA specific documentation that is normally provided with an AA download. This folder is included because normal IBM customers would not have access to those documents on the AA site\nThe IBM scripts and localization files contained in the native and resources folders\n\nPLEASE NOTE: Customer should only be running the install/upgrade .bat files when using IBM RPA. If a customer runs the AA installer, that will cause the install to be partially completed with all of the IBM customizations missing. If this happens, you need to perform a reinstall, but luckily if you point to the same databases/repository URL for the AA installer, then no data should be lost.\n\nWhen the IBM install/upgrade.bat file is run, it will perform several validation checks (such as verifying if you have admin permissions, making sure the correct version of VC++ 2013 is installed, if there is an already installed copy of RPA, etc). After that is done, it will check the license and verify what type of install you want to perform (Express vs Enterprise or Bot Runner vs Bot Creator).\n\nAfter the checks are completed and the installer knows the license option it will begin the install. At this point, the installer behavior will vary:\nIf you are installing or upgrading a Client, it will always perform the client install silently\nIf you are installing a Control Room, it will always bring up the AA installer in a GUI window\nIf you are upgrading a Control Room, then it will bring up a GUI installer if you selected a Custom install during the initial installation, or it will perform a silent install if you selected an Express install during the initial install\n\nPlease note that while the AA installer is running, the cmd window for the IBM RPA install will also be open. This window should not be closed while the AA installer is running in the background, otherwise the IBM customizations will not be added and it will be a partial install.\n\nAfter the AA installer is done, it is closed down and the IBMer installer will add the IBM RPA customizations. They consist primarily of the following:\nApply the IBM specific license file that AA requires, automatically applies it, and then hides the AA licensing page\nCopy over the CR help pages\nCopy the IBM text license and SWIDTAG files over to the installation directory \nSetups the IBM RPA License Metric Service to track the usage (as we are using that instead of the AA licenses)\nCreates an IBM specific uninstaller.bat in the installation directory and disable the AA uninstaller\n\nTroubleshooting files to collect:\n\nThe installer logs out to the C:\\ProgramData\\IBM\\RPA\\logs directory by default and the version files are included in the C:\\ProgramData\\IBM\\RPA directory. Always review the installer logs when there is an error on the IBM installer or if it looks like some of the IBM customizations are missing. \nFor more in depth analysis, it is good to get a copy of the install/upgrade files to compare against, especially if you suspect there is a defect or one of the prereq checks is failing unexpectedly. \n\nExample: \nA good example if this is if the VC++ 2013 check fails, if you look at the installControlRoom.bat script you can see the specific registry entry it is searching for:\nset vcinstalled=0\nfor /f \"tokens=1 delims=\" %%i in ('\"reg query 2nul HKLM\\SOFTWARE\\Classes\\Installer\\Dependencies\\{ef6b00ec-13e1-4c25-9064-b2f383cb8412}\"') do (\n    set vcinstalled=%%i\n)\nThat is a specific version of the VC++ 2013 we are searching for, and if you already have an installed copy it may be for the wrong version. Hence getting that registry ID from the installer is a useful way to check what you should be looking for in the registry to confirm if the right version is installed.\n\nIBM Uninstaller: \n\nWhen installing IBM RPA, it should create an installer in the AA installation directory. If you need to perform an uninstall, you must use this uninstaller. \nThe uninstall.bat file will perform the following:\nRemove the IBM RPA License Metric Service\nRemove the Help pages\nSilently uninstall AA by running the AA uninstaller\nRemove the IBM license files\nCleanup the AA directories\nDelete the IBM RPA specific version file located in the C:\\ProgramData\\IBM\\RPA\\ directory\n\nThe normal AA uninstaller in the Windows Control Panel should be disabled, but if the customer is somehow able to run it, then the uninstall will be partial as it would miss all of the IBM specific customizations. In that case, if you wish to perform a reinstall, you would need to manually remove any leftover files, otherwise the IBM installer may detect that there is already an IBM RPA installer.\n\nRollback/Reinstall steps and notes:\n\nPlease see the AA Installer/Post Install Config page for details first, as for the most part IBM RPA installers do not have any special steps on top of the AA supported ones (outside of making sure you run the IBM installers instead of the AA ones).\n\nThe one exception is when trying to roll back to one of the IBM ifix versions. The way you would perform a rollback is to restore the older DB/repository files from before the upgrade and then perform a reinstall of the original version you upgraded from. However, if you originated from an ifix version, then there is no direct installation version. This is due to how IBM packages certain AA versions as only ifixes rather than full releases on Passport Advantage. In comparison, AA normally provides the installation files as well for all versions, hence this is an unusual case that would only appear for an IBM RPA install. \n\nIn these use cases, we should consult with L3 when possible and try and get the rollback improved, but there is a possible workaround. In this case, modify the steps to use a blank database and repository directory. From there, install the most recent base version possible (for example, if you are trying to roll back to 11.0.0.7 ifix001, install 11.0.0.7) and then run the upgrade to the ifix level involved. After the upgrade is completed, then restore the older database and repository directory to get the older configuration back. \n\nThat said this is an untested/theoretical approach, hence we should make sure to get L3 sign off in the future and hopefully at some point get a test case for the process if L3 approves of it.\n","wordCount":0,"topics":[],"type":"Content"},{"name":"Metabot","description":"rusna@my.ibm.com","owner":"@Rusna Mustaffa","path":"/RoboticProcessAutomation/Metabot","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Version Control","description":"rHenning.Burgmann@de.ibm.com","owner":"@Henning Burgmann","path":"/RoboticProcessAutomation/VersionControl","text":"to be added","wordCount":0,"topics":[],"type":"Content"},{"name":"Knowledge Buckets","description":"","path":"/RoboticProcessAutomation/Knowledge Buckets","text":"\nGetting to know Digital Business Automation (DBA) Series\n<table border=\"1px solid #ccc\" cellspacing=\"0\" cellpadding=\"0\"\n  \n    <th width=\"29%\" style=\"text-align:center;\";Topic\n    Link\n    <th width=\"20%\"style=\"text-align:center\"Date\n  \n  \n    Getting to know Digital Business Automation (DBA) - ECM and RPA\n    https://ec.yourlearning.ibm.com/w3/playback/10039164\n    2019-07\n  \n  \n","wordCount":0,"topics":[],"type":"Content"}]